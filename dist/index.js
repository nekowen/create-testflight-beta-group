import{createRequire as e}from"module";var t={7351:function(e,t,r){var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){if(s===undefined)s=r;Object.defineProperty(e,s,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,s){if(s===undefined)s=r;e[s]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))s(t,e,r);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.issue=t.issueCommand=void 0;const o=i(r(2037));const a=r(5278);function issueCommand(e,t,r){const s=new Command(e,t,r);process.stdout.write(s.toString()+o.EOL)}t.issueCommand=issueCommand;function issue(e,t=""){issueCommand(e,{},t)}t.issue=issue;const c="::";class Command{constructor(e,t,r){if(!e){e="missing.command"}this.command=e;this.properties=t;this.message=r}toString(){let e=c+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let t=true;for(const r in this.properties){if(this.properties.hasOwnProperty(r)){const s=this.properties[r];if(s){if(t){t=false}else{e+=","}e+=`${r}=${escapeProperty(s)}`}}}}e+=`${c}${escapeData(this.message)}`;return e}}function escapeData(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function escapeProperty(e){return a.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}},2186:function(e,t,r){var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){if(s===undefined)s=r;Object.defineProperty(e,s,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,s){if(s===undefined)s=r;e[s]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))s(t,e,r);n(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,s){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s["throw"](e))}catch(e){n(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.getIDToken=t.getState=t.saveState=t.group=t.endGroup=t.startGroup=t.info=t.notice=t.warning=t.error=t.debug=t.isDebug=t.setFailed=t.setCommandEcho=t.setOutput=t.getBooleanInput=t.getMultilineInput=t.getInput=t.addPath=t.setSecret=t.exportVariable=t.ExitCode=void 0;const a=r(7351);const c=r(717);const u=r(5278);const l=i(r(2037));const f=i(r(1017));const h=r(8041);var d;(function(e){e[e["Success"]=0]="Success";e[e["Failure"]=1]="Failure"})(d=t.ExitCode||(t.ExitCode={}));function exportVariable(e,t){const r=u.toCommandValue(t);process.env[e]=r;const s=process.env["GITHUB_ENV"]||"";if(s){return c.issueFileCommand("ENV",c.prepareKeyValueMessage(e,t))}a.issueCommand("set-env",{name:e},r)}t.exportVariable=exportVariable;function setSecret(e){a.issueCommand("add-mask",{},e)}t.setSecret=setSecret;function addPath(e){const t=process.env["GITHUB_PATH"]||"";if(t){c.issueFileCommand("PATH",e)}else{a.issueCommand("add-path",{},e)}process.env["PATH"]=`${e}${f.delimiter}${process.env["PATH"]}`}t.addPath=addPath;function getInput(e,t){const r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r){throw new Error(`Input required and not supplied: ${e}`)}if(t&&t.trimWhitespace===false){return r}return r.trim()}t.getInput=getInput;function getMultilineInput(e,t){const r=getInput(e,t).split("\n").filter((e=>e!==""));if(t&&t.trimWhitespace===false){return r}return r.map((e=>e.trim()))}t.getMultilineInput=getMultilineInput;function getBooleanInput(e,t){const r=["true","True","TRUE"];const s=["false","False","FALSE"];const n=getInput(e,t);if(r.includes(n))return true;if(s.includes(n))return false;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}\n`+`Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}t.getBooleanInput=getBooleanInput;function setOutput(e,t){const r=process.env["GITHUB_OUTPUT"]||"";if(r){return c.issueFileCommand("OUTPUT",c.prepareKeyValueMessage(e,t))}process.stdout.write(l.EOL);a.issueCommand("set-output",{name:e},u.toCommandValue(t))}t.setOutput=setOutput;function setCommandEcho(e){a.issue("echo",e?"on":"off")}t.setCommandEcho=setCommandEcho;function setFailed(e){process.exitCode=d.Failure;error(e)}t.setFailed=setFailed;function isDebug(){return process.env["RUNNER_DEBUG"]==="1"}t.isDebug=isDebug;function debug(e){a.issueCommand("debug",{},e)}t.debug=debug;function error(e,t={}){a.issueCommand("error",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.error=error;function warning(e,t={}){a.issueCommand("warning",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.warning=warning;function notice(e,t={}){a.issueCommand("notice",u.toCommandProperties(t),e instanceof Error?e.toString():e)}t.notice=notice;function info(e){process.stdout.write(e+l.EOL)}t.info=info;function startGroup(e){a.issue("group",e)}t.startGroup=startGroup;function endGroup(){a.issue("endgroup")}t.endGroup=endGroup;function group(e,t){return o(this,void 0,void 0,(function*(){startGroup(e);let r;try{r=yield t()}finally{endGroup()}return r}))}t.group=group;function saveState(e,t){const r=process.env["GITHUB_STATE"]||"";if(r){return c.issueFileCommand("STATE",c.prepareKeyValueMessage(e,t))}a.issueCommand("save-state",{name:e},u.toCommandValue(t))}t.saveState=saveState;function getState(e){return process.env[`STATE_${e}`]||""}t.getState=getState;function getIDToken(e){return o(this,void 0,void 0,(function*(){return yield h.OidcClient.getIDToken(e)}))}t.getIDToken=getIDToken;var p=r(1327);Object.defineProperty(t,"summary",{enumerable:true,get:function(){return p.summary}});var m=r(1327);Object.defineProperty(t,"markdownSummary",{enumerable:true,get:function(){return m.markdownSummary}});var y=r(2981);Object.defineProperty(t,"toPosixPath",{enumerable:true,get:function(){return y.toPosixPath}});Object.defineProperty(t,"toWin32Path",{enumerable:true,get:function(){return y.toWin32Path}});Object.defineProperty(t,"toPlatformPath",{enumerable:true,get:function(){return y.toPlatformPath}})},717:function(e,t,r){var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){if(s===undefined)s=r;Object.defineProperty(e,s,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,s){if(s===undefined)s=r;e[s]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))s(t,e,r);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.prepareKeyValueMessage=t.issueFileCommand=void 0;const o=i(r(7147));const a=i(r(2037));const c=r(5840);const u=r(5278);function issueFileCommand(e,t){const r=process.env[`GITHUB_${e}`];if(!r){throw new Error(`Unable to find environment variable for file command ${e}`)}if(!o.existsSync(r)){throw new Error(`Missing file at path: ${r}`)}o.appendFileSync(r,`${u.toCommandValue(t)}${a.EOL}`,{encoding:"utf8"})}t.issueFileCommand=issueFileCommand;function prepareKeyValueMessage(e,t){const r=`ghadelimiter_${c.v4()}`;const s=u.toCommandValue(t);if(e.includes(r)){throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`)}if(s.includes(r)){throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`)}return`${e}<<${r}${a.EOL}${s}${a.EOL}${r}`}t.prepareKeyValueMessage=prepareKeyValueMessage},8041:function(e,t,r){var s=this&&this.__awaiter||function(e,t,r,s){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s["throw"](e))}catch(e){n(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.OidcClient=void 0;const n=r(6255);const i=r(5526);const o=r(2186);class OidcClient{static createHttpClient(e=true,t=10){const r={allowRetries:e,maxRetries:t};return new n.HttpClient("actions/oidc-client",[new i.BearerCredentialHandler(OidcClient.getRequestToken())],r)}static getRequestToken(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_TOKEN"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable")}return e}static getIDTokenUrl(){const e=process.env["ACTIONS_ID_TOKEN_REQUEST_URL"];if(!e){throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable")}return e}static getCall(e){var t;return s(this,void 0,void 0,(function*(){const r=OidcClient.createHttpClient();const s=yield r.getJson(e).catch((e=>{throw new Error(`Failed to get ID Token. \n \n        Error Code : ${e.statusCode}\n \n        Error Message: ${e.message}`)}));const n=(t=s.result)===null||t===void 0?void 0:t.value;if(!n){throw new Error("Response json body do not have ID Token field")}return n}))}static getIDToken(e){return s(this,void 0,void 0,(function*(){try{let t=OidcClient.getIDTokenUrl();if(e){const r=encodeURIComponent(e);t=`${t}&audience=${r}`}o.debug(`ID token url is ${t}`);const r=yield OidcClient.getCall(t);o.setSecret(r);return r}catch(e){throw new Error(`Error message: ${e.message}`)}}))}}t.OidcClient=OidcClient},2981:function(e,t,r){var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){if(s===undefined)s=r;Object.defineProperty(e,s,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,s){if(s===undefined)s=r;e[s]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))s(t,e,r);n(t,e);return t};Object.defineProperty(t,"__esModule",{value:true});t.toPlatformPath=t.toWin32Path=t.toPosixPath=void 0;const o=i(r(1017));function toPosixPath(e){return e.replace(/[\\]/g,"/")}t.toPosixPath=toPosixPath;function toWin32Path(e){return e.replace(/[/]/g,"\\")}t.toWin32Path=toWin32Path;function toPlatformPath(e){return e.replace(/[/\\]/g,o.sep)}t.toPlatformPath=toPlatformPath},1327:function(e,t,r){var s=this&&this.__awaiter||function(e,t,r,s){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s["throw"](e))}catch(e){n(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.summary=t.markdownSummary=t.SUMMARY_DOCS_URL=t.SUMMARY_ENV_VAR=void 0;const n=r(2037);const i=r(7147);const{access:o,appendFile:a,writeFile:c}=i.promises;t.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";t.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";class Summary{constructor(){this._buffer=""}filePath(){return s(this,void 0,void 0,(function*(){if(this._filePath){return this._filePath}const e=process.env[t.SUMMARY_ENV_VAR];if(!e){throw new Error(`Unable to find environment variable for $${t.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`)}try{yield o(e,i.constants.R_OK|i.constants.W_OK)}catch(t){throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}this._filePath=e;return this._filePath}))}wrap(e,t,r={}){const s=Object.entries(r).map((([e,t])=>` ${e}="${t}"`)).join("");if(!t){return`<${e}${s}>`}return`<${e}${s}>${t}</${e}>`}write(e){return s(this,void 0,void 0,(function*(){const t=!!(e===null||e===void 0?void 0:e.overwrite);const r=yield this.filePath();const s=t?c:a;yield s(r,this._buffer,{encoding:"utf8"});return this.emptyBuffer()}))}clear(){return s(this,void 0,void 0,(function*(){return this.emptyBuffer().write({overwrite:true})}))}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){this._buffer="";return this}addRaw(e,t=false){this._buffer+=e;return t?this.addEOL():this}addEOL(){return this.addRaw(n.EOL)}addCodeBlock(e,t){const r=Object.assign({},t&&{lang:t});const s=this.wrap("pre",this.wrap("code",e),r);return this.addRaw(s).addEOL()}addList(e,t=false){const r=t?"ol":"ul";const s=e.map((e=>this.wrap("li",e))).join("");const n=this.wrap(r,s);return this.addRaw(n).addEOL()}addTable(e){const t=e.map((e=>{const t=e.map((e=>{if(typeof e==="string"){return this.wrap("td",e)}const{header:t,data:r,colspan:s,rowspan:n}=e;const i=t?"th":"td";const o=Object.assign(Object.assign({},s&&{colspan:s}),n&&{rowspan:n});return this.wrap(i,r,o)})).join("");return this.wrap("tr",t)})).join("");const r=this.wrap("table",t);return this.addRaw(r).addEOL()}addDetails(e,t){const r=this.wrap("details",this.wrap("summary",e)+t);return this.addRaw(r).addEOL()}addImage(e,t,r){const{width:s,height:n}=r||{};const i=Object.assign(Object.assign({},s&&{width:s}),n&&{height:n});const o=this.wrap("img",null,Object.assign({src:e,alt:t},i));return this.addRaw(o).addEOL()}addHeading(e,t){const r=`h${t}`;const s=["h1","h2","h3","h4","h5","h6"].includes(r)?r:"h1";const n=this.wrap(s,e);return this.addRaw(n).addEOL()}addSeparator(){const e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){const e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,t){const r=Object.assign({},t&&{cite:t});const s=this.wrap("blockquote",e,r);return this.addRaw(s).addEOL()}addLink(e,t){const r=this.wrap("a",e,{href:t});return this.addRaw(r).addEOL()}}const u=new Summary;t.markdownSummary=u;t.summary=u},5278:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.toCommandProperties=t.toCommandValue=void 0;function toCommandValue(e){if(e===null||e===undefined){return""}else if(typeof e==="string"||e instanceof String){return e}return JSON.stringify(e)}t.toCommandValue=toCommandValue;function toCommandProperties(e){if(!Object.keys(e).length){return{}}return{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}}t.toCommandProperties=toCommandProperties},5526:function(e,t){var r=this&&this.__awaiter||function(e,t,r,s){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s["throw"](e))}catch(e){n(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.PersonalAccessTokenCredentialHandler=t.BearerCredentialHandler=t.BasicCredentialHandler=void 0;class BasicCredentialHandler{constructor(e,t){this.username=e;this.password=t}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BasicCredentialHandler=BasicCredentialHandler;class BearerCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Bearer ${this.token}`}canHandleAuthentication(){return false}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.BearerCredentialHandler=BearerCredentialHandler;class PersonalAccessTokenCredentialHandler{constructor(e){this.token=e}prepareRequest(e){if(!e.headers){throw Error("The request has no headers")}e.headers["Authorization"]=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return false}handleAuthentication(){return r(this,void 0,void 0,(function*(){throw new Error("not implemented")}))}}t.PersonalAccessTokenCredentialHandler=PersonalAccessTokenCredentialHandler},6255:function(e,t,r){var s=this&&this.__createBinding||(Object.create?function(e,t,r,s){if(s===undefined)s=r;Object.defineProperty(e,s,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,s){if(s===undefined)s=r;e[s]=t[r]});var n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:true,value:t})}:function(e,t){e["default"]=t});var i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)if(r!=="default"&&Object.hasOwnProperty.call(e,r))s(t,e,r);n(t,e);return t};var o=this&&this.__awaiter||function(e,t,r,s){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,n){function fulfilled(e){try{step(s.next(e))}catch(e){n(e)}}function rejected(e){try{step(s["throw"](e))}catch(e){n(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:true});t.HttpClient=t.isHttps=t.HttpClientResponse=t.HttpClientError=t.getProxyUrl=t.MediaTypes=t.Headers=t.HttpCodes=void 0;const a=i(r(3685));const c=i(r(5687));const u=i(r(9835));const l=i(r(4294));var f;(function(e){e[e["OK"]=200]="OK";e[e["MultipleChoices"]=300]="MultipleChoices";e[e["MovedPermanently"]=301]="MovedPermanently";e[e["ResourceMoved"]=302]="ResourceMoved";e[e["SeeOther"]=303]="SeeOther";e[e["NotModified"]=304]="NotModified";e[e["UseProxy"]=305]="UseProxy";e[e["SwitchProxy"]=306]="SwitchProxy";e[e["TemporaryRedirect"]=307]="TemporaryRedirect";e[e["PermanentRedirect"]=308]="PermanentRedirect";e[e["BadRequest"]=400]="BadRequest";e[e["Unauthorized"]=401]="Unauthorized";e[e["PaymentRequired"]=402]="PaymentRequired";e[e["Forbidden"]=403]="Forbidden";e[e["NotFound"]=404]="NotFound";e[e["MethodNotAllowed"]=405]="MethodNotAllowed";e[e["NotAcceptable"]=406]="NotAcceptable";e[e["ProxyAuthenticationRequired"]=407]="ProxyAuthenticationRequired";e[e["RequestTimeout"]=408]="RequestTimeout";e[e["Conflict"]=409]="Conflict";e[e["Gone"]=410]="Gone";e[e["TooManyRequests"]=429]="TooManyRequests";e[e["InternalServerError"]=500]="InternalServerError";e[e["NotImplemented"]=501]="NotImplemented";e[e["BadGateway"]=502]="BadGateway";e[e["ServiceUnavailable"]=503]="ServiceUnavailable";e[e["GatewayTimeout"]=504]="GatewayTimeout"})(f=t.HttpCodes||(t.HttpCodes={}));var h;(function(e){e["Accept"]="accept";e["ContentType"]="content-type"})(h=t.Headers||(t.Headers={}));var d;(function(e){e["ApplicationJson"]="application/json"})(d=t.MediaTypes||(t.MediaTypes={}));function getProxyUrl(e){const t=u.getProxyUrl(new URL(e));return t?t.href:""}t.getProxyUrl=getProxyUrl;const p=[f.MovedPermanently,f.ResourceMoved,f.SeeOther,f.TemporaryRedirect,f.PermanentRedirect];const m=[f.BadGateway,f.ServiceUnavailable,f.GatewayTimeout];const y=["OPTIONS","GET","DELETE","HEAD"];const g=10;const b=5;class HttpClientError extends Error{constructor(e,t){super(e);this.name="HttpClientError";this.statusCode=t;Object.setPrototypeOf(this,HttpClientError.prototype)}}t.HttpClientError=HttpClientError;class HttpClientResponse{constructor(e){this.message=e}readBody(){return o(this,void 0,void 0,(function*(){return new Promise((e=>o(this,void 0,void 0,(function*(){let t=Buffer.alloc(0);this.message.on("data",(e=>{t=Buffer.concat([t,e])}));this.message.on("end",(()=>{e(t.toString())}))}))))}))}readBodyBuffer(){return o(this,void 0,void 0,(function*(){return new Promise((e=>o(this,void 0,void 0,(function*(){const t=[];this.message.on("data",(e=>{t.push(e)}));this.message.on("end",(()=>{e(Buffer.concat(t))}))}))))}))}}t.HttpClientResponse=HttpClientResponse;function isHttps(e){const t=new URL(e);return t.protocol==="https:"}t.isHttps=isHttps;class HttpClient{constructor(e,t,r){this._ignoreSslError=false;this._allowRedirects=true;this._allowRedirectDowngrade=false;this._maxRedirects=50;this._allowRetries=false;this._maxRetries=1;this._keepAlive=false;this._disposed=false;this.userAgent=e;this.handlers=t||[];this.requestOptions=r;if(r){if(r.ignoreSslError!=null){this._ignoreSslError=r.ignoreSslError}this._socketTimeout=r.socketTimeout;if(r.allowRedirects!=null){this._allowRedirects=r.allowRedirects}if(r.allowRedirectDowngrade!=null){this._allowRedirectDowngrade=r.allowRedirectDowngrade}if(r.maxRedirects!=null){this._maxRedirects=Math.max(r.maxRedirects,0)}if(r.keepAlive!=null){this._keepAlive=r.keepAlive}if(r.allowRetries!=null){this._allowRetries=r.allowRetries}if(r.maxRetries!=null){this._maxRetries=r.maxRetries}}}options(e,t){return o(this,void 0,void 0,(function*(){return this.request("OPTIONS",e,null,t||{})}))}get(e,t){return o(this,void 0,void 0,(function*(){return this.request("GET",e,null,t||{})}))}del(e,t){return o(this,void 0,void 0,(function*(){return this.request("DELETE",e,null,t||{})}))}post(e,t,r){return o(this,void 0,void 0,(function*(){return this.request("POST",e,t,r||{})}))}patch(e,t,r){return o(this,void 0,void 0,(function*(){return this.request("PATCH",e,t,r||{})}))}put(e,t,r){return o(this,void 0,void 0,(function*(){return this.request("PUT",e,t,r||{})}))}head(e,t){return o(this,void 0,void 0,(function*(){return this.request("HEAD",e,null,t||{})}))}sendStream(e,t,r,s){return o(this,void 0,void 0,(function*(){return this.request(e,t,r,s)}))}getJson(e,t={}){return o(this,void 0,void 0,(function*(){t[h.Accept]=this._getExistingOrDefaultHeader(t,h.Accept,d.ApplicationJson);const r=yield this.get(e,t);return this._processResponse(r,this.requestOptions)}))}postJson(e,t,r={}){return o(this,void 0,void 0,(function*(){const s=JSON.stringify(t,null,2);r[h.Accept]=this._getExistingOrDefaultHeader(r,h.Accept,d.ApplicationJson);r[h.ContentType]=this._getExistingOrDefaultHeader(r,h.ContentType,d.ApplicationJson);const n=yield this.post(e,s,r);return this._processResponse(n,this.requestOptions)}))}putJson(e,t,r={}){return o(this,void 0,void 0,(function*(){const s=JSON.stringify(t,null,2);r[h.Accept]=this._getExistingOrDefaultHeader(r,h.Accept,d.ApplicationJson);r[h.ContentType]=this._getExistingOrDefaultHeader(r,h.ContentType,d.ApplicationJson);const n=yield this.put(e,s,r);return this._processResponse(n,this.requestOptions)}))}patchJson(e,t,r={}){return o(this,void 0,void 0,(function*(){const s=JSON.stringify(t,null,2);r[h.Accept]=this._getExistingOrDefaultHeader(r,h.Accept,d.ApplicationJson);r[h.ContentType]=this._getExistingOrDefaultHeader(r,h.ContentType,d.ApplicationJson);const n=yield this.patch(e,s,r);return this._processResponse(n,this.requestOptions)}))}request(e,t,r,s){return o(this,void 0,void 0,(function*(){if(this._disposed){throw new Error("Client has already been disposed.")}const n=new URL(t);let i=this._prepareRequest(e,n,s);const o=this._allowRetries&&y.includes(e)?this._maxRetries+1:1;let a=0;let c;do{c=yield this.requestRaw(i,r);if(c&&c.message&&c.message.statusCode===f.Unauthorized){let e;for(const t of this.handlers){if(t.canHandleAuthentication(c)){e=t;break}}if(e){return e.handleAuthentication(this,i,r)}else{return c}}let t=this._maxRedirects;while(c.message.statusCode&&p.includes(c.message.statusCode)&&this._allowRedirects&&t>0){const o=c.message.headers["location"];if(!o){break}const a=new URL(o);if(n.protocol==="https:"&&n.protocol!==a.protocol&&!this._allowRedirectDowngrade){throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.")}yield c.readBody();if(a.hostname!==n.hostname){for(const e in s){if(e.toLowerCase()==="authorization"){delete s[e]}}}i=this._prepareRequest(e,a,s);c=yield this.requestRaw(i,r);t--}if(!c.message.statusCode||!m.includes(c.message.statusCode)){return c}a+=1;if(a<o){yield c.readBody();yield this._performExponentialBackoff(a)}}while(a<o);return c}))}dispose(){if(this._agent){this._agent.destroy()}this._disposed=true}requestRaw(e,t){return o(this,void 0,void 0,(function*(){return new Promise(((r,s)=>{function callbackForResult(e,t){if(e){s(e)}else if(!t){s(new Error("Unknown error"))}else{r(t)}}this.requestRawWithCallback(e,t,callbackForResult)}))}))}requestRawWithCallback(e,t,r){if(typeof t==="string"){if(!e.options.headers){e.options.headers={}}e.options.headers["Content-Length"]=Buffer.byteLength(t,"utf8")}let s=false;function handleResult(e,t){if(!s){s=true;r(e,t)}}const n=e.httpModule.request(e.options,(e=>{const t=new HttpClientResponse(e);handleResult(undefined,t)}));let i;n.on("socket",(e=>{i=e}));n.setTimeout(this._socketTimeout||3*6e4,(()=>{if(i){i.end()}handleResult(new Error(`Request timeout: ${e.options.path}`))}));n.on("error",(function(e){handleResult(e)}));if(t&&typeof t==="string"){n.write(t,"utf8")}if(t&&typeof t!=="string"){t.on("close",(function(){n.end()}));t.pipe(n)}else{n.end()}}getAgent(e){const t=new URL(e);return this._getAgent(t)}_prepareRequest(e,t,r){const s={};s.parsedUrl=t;const n=s.parsedUrl.protocol==="https:";s.httpModule=n?c:a;const i=n?443:80;s.options={};s.options.host=s.parsedUrl.hostname;s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):i;s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||"");s.options.method=e;s.options.headers=this._mergeHeaders(r);if(this.userAgent!=null){s.options.headers["user-agent"]=this.userAgent}s.options.agent=this._getAgent(s.parsedUrl);if(this.handlers){for(const e of this.handlers){e.prepareRequest(s.options)}}return s}_mergeHeaders(e){if(this.requestOptions&&this.requestOptions.headers){return Object.assign({},lowercaseKeys(this.requestOptions.headers),lowercaseKeys(e||{}))}return lowercaseKeys(e||{})}_getExistingOrDefaultHeader(e,t,r){let s;if(this.requestOptions&&this.requestOptions.headers){s=lowercaseKeys(this.requestOptions.headers)[t]}return e[t]||s||r}_getAgent(e){let t;const r=u.getProxyUrl(e);const s=r&&r.hostname;if(this._keepAlive&&s){t=this._proxyAgent}if(this._keepAlive&&!s){t=this._agent}if(t){return t}const n=e.protocol==="https:";let i=100;if(this.requestOptions){i=this.requestOptions.maxSockets||a.globalAgent.maxSockets}if(r&&r.hostname){const e={maxSockets:i,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(r.username||r.password)&&{proxyAuth:`${r.username}:${r.password}`}),{host:r.hostname,port:r.port})};let s;const o=r.protocol==="https:";if(n){s=o?l.httpsOverHttps:l.httpsOverHttp}else{s=o?l.httpOverHttps:l.httpOverHttp}t=s(e);this._proxyAgent=t}if(this._keepAlive&&!t){const e={keepAlive:this._keepAlive,maxSockets:i};t=n?new c.Agent(e):new a.Agent(e);this._agent=t}if(!t){t=n?c.globalAgent:a.globalAgent}if(n&&this._ignoreSslError){t.options=Object.assign(t.options||{},{rejectUnauthorized:false})}return t}_performExponentialBackoff(e){return o(this,void 0,void 0,(function*(){e=Math.min(g,e);const t=b*Math.pow(2,e);return new Promise((e=>setTimeout((()=>e()),t)))}))}_processResponse(e,t){return o(this,void 0,void 0,(function*(){return new Promise(((r,s)=>o(this,void 0,void 0,(function*(){const n=e.message.statusCode||0;const i={statusCode:n,result:null,headers:{}};if(n===f.NotFound){r(i)}function dateTimeDeserializer(e,t){if(typeof t==="string"){const e=new Date(t);if(!isNaN(e.valueOf())){return e}}return t}let o;let a;try{a=yield e.readBody();if(a&&a.length>0){if(t&&t.deserializeDates){o=JSON.parse(a,dateTimeDeserializer)}else{o=JSON.parse(a)}i.result=o}i.headers=e.message.headers}catch(e){}if(n>299){let e;if(o&&o.message){e=o.message}else if(a&&a.length>0){e=a}else{e=`Failed request: (${n})`}const t=new HttpClientError(e,n);t.result=i.result;s(t)}else{r(i)}}))))}))}}t.HttpClient=HttpClient;const lowercaseKeys=e=>Object.keys(e).reduce(((t,r)=>(t[r.toLowerCase()]=e[r],t)),{})},9835:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t.checkBypass=t.getProxyUrl=void 0;function getProxyUrl(e){const t=e.protocol==="https:";if(checkBypass(e)){return undefined}const r=(()=>{if(t){return process.env["https_proxy"]||process.env["HTTPS_PROXY"]}else{return process.env["http_proxy"]||process.env["HTTP_PROXY"]}})();if(r){try{return new URL(r)}catch(e){if(!r.startsWith("http://")&&!r.startsWith("https://"))return new URL(`http://${r}`)}}else{return undefined}}t.getProxyUrl=getProxyUrl;function checkBypass(e){if(!e.hostname){return false}const t=e.hostname;if(isLoopbackAddress(t)){return true}const r=process.env["no_proxy"]||process.env["NO_PROXY"]||"";if(!r){return false}let s;if(e.port){s=Number(e.port)}else if(e.protocol==="http:"){s=80}else if(e.protocol==="https:"){s=443}const n=[e.hostname.toUpperCase()];if(typeof s==="number"){n.push(`${n[0]}:${s}`)}for(const e of r.split(",").map((e=>e.trim().toUpperCase())).filter((e=>e))){if(e==="*"||n.some((t=>t===e||t.endsWith(`.${e}`)||e.startsWith(".")&&t.endsWith(`${e}`)))){return true}}return false}t.checkBypass=checkBypass;function isLoopbackAddress(e){const t=e.toLowerCase();return t==="localhost"||t.startsWith("127.")||t.startsWith("[::1]")||t.startsWith("[0:0:0:0:0:0:0:1]")}},9239:(e,t,r)=>{var s=r(4300).Buffer;var n=r(4300).SlowBuffer;e.exports=bufferEq;function bufferEq(e,t){if(!s.isBuffer(e)||!s.isBuffer(t)){return false}if(e.length!==t.length){return false}var r=0;for(var n=0;n<e.length;n++){r|=e[n]^t[n]}return r===0}bufferEq.install=function(){s.prototype.equal=n.prototype.equal=function equal(e){return bufferEq(this,e)}};var i=s.prototype.equal;var o=n.prototype.equal;bufferEq.restore=function(){s.prototype.equal=i;n.prototype.equal=o}},2391:(e,t,r)=>{const{Transform:s,PassThrough:n}=r(2781);const i=r(9796);const o=r(3877);e.exports=e=>{const t=(e.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(t)){return e}const r=t==="br";if(r&&typeof i.createBrotliDecompress!=="function"){e.destroy(new Error("Brotli is not supported on Node.js < 12"));return e}let a=true;const c=new s({transform(e,t,r){a=false;r(null,e)},flush(e){e()}});const u=new n({autoDestroy:false,destroy(t,r){e.destroy();r(t)}});const l=r?i.createBrotliDecompress():i.createUnzip();l.once("error",(t=>{if(a&&!e.readable){u.end();return}u.destroy(t)}));o(e,u);e.pipe(c).pipe(l).pipe(u);return u}},3877:e=>{const t=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];e.exports=(e,r)=>{if(r._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const s=new Set(Object.keys(e).concat(t));const n={};for(const t of s){if(t in r){continue}n[t]={get(){const r=e[t];const s=typeof r==="function";return s?r.bind(e):r},set(r){e[t]=r},enumerable:true,configurable:false}}Object.defineProperties(r,n);e.once("aborted",(()=>{r.destroy();r.emit("aborted")}));e.once("close",(()=>{if(e.complete){if(r.readable){r.once("end",(()=>{r.emit("close")}))}else{r.emit("close")}}else{r.emit("close")}}));return r}},6214:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});function isTLSSocket(e){return e.encrypted}const deferToConnect=(e,t)=>{let r;if(typeof t==="function"){const e=t;r={connect:e}}else{r=t}const s=typeof r.connect==="function";const n=typeof r.secureConnect==="function";const i=typeof r.close==="function";const onConnect=()=>{if(s){r.connect()}if(isTLSSocket(e)&&n){if(e.authorized){r.secureConnect()}else if(!e.authorizationError){e.once("secureConnect",r.secureConnect)}}if(i){e.once("close",r.close)}};if(e.writable&&!e.connecting){onConnect()}else if(e.connecting){e.once("connect",onConnect)}else if(e.destroyed&&i){r.close(e._hadError)}};t["default"]=deferToConnect;e.exports=deferToConnect;e.exports["default"]=deferToConnect},1728:(e,t,r)=>{var s=r(1867).Buffer;var n=r(528);var i=128,o=0,a=32,c=16,u=2,l=c|a|o<<6,f=u|o<<6;function base64Url(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function signatureAsBuffer(e){if(s.isBuffer(e)){return e}else if("string"===typeof e){return s.from(e,"base64")}throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function derToJose(e,t){e=signatureAsBuffer(e);var r=n(t);var o=r+1;var a=e.length;var c=0;if(e[c++]!==l){throw new Error('Could not find expected "seq"')}var u=e[c++];if(u===(i|1)){u=e[c++]}if(a-c<u){throw new Error('"seq" specified length of "'+u+'", only "'+(a-c)+'" remaining')}if(e[c++]!==f){throw new Error('Could not find expected "int" for "r"')}var h=e[c++];if(a-c-2<h){throw new Error('"r" specified length of "'+h+'", only "'+(a-c-2)+'" available')}if(o<h){throw new Error('"r" specified length of "'+h+'", max of "'+o+'" is acceptable')}var d=c;c+=h;if(e[c++]!==f){throw new Error('Could not find expected "int" for "s"')}var p=e[c++];if(a-c!==p){throw new Error('"s" specified length of "'+p+'", expected "'+(a-c)+'"')}if(o<p){throw new Error('"s" specified length of "'+p+'", max of "'+o+'" is acceptable')}var m=c;c+=p;if(c!==a){throw new Error('Expected to consume entire buffer, but "'+(a-c)+'" bytes remain')}var y=r-h,g=r-p;var b=s.allocUnsafe(y+h+g+p);for(c=0;c<y;++c){b[c]=0}e.copy(b,c,d+Math.max(-y,0),d+h);c=r;for(var w=c;c<w+g;++c){b[c]=0}e.copy(b,c,m+Math.max(-g,0),m+p);b=b.toString("base64");b=base64Url(b);return b}function countPadding(e,t,r){var s=0;while(t+s<r&&e[t+s]===0){++s}var n=e[t+s]>=i;if(n){--s}return s}function joseToDer(e,t){e=signatureAsBuffer(e);var r=n(t);var o=e.length;if(o!==r*2){throw new TypeError('"'+t+'" signatures must be "'+r*2+'" bytes, saw "'+o+'"')}var a=countPadding(e,0,r);var c=countPadding(e,r,e.length);var u=r-a;var h=r-c;var d=1+1+u+1+1+h;var p=d<i;var m=s.allocUnsafe((p?2:3)+d);var y=0;m[y++]=l;if(p){m[y++]=d}else{m[y++]=i|1;m[y++]=d&255}m[y++]=f;m[y++]=u;if(a<0){m[y++]=0;y+=e.copy(m,y,0,r)}else{y+=e.copy(m,y,a,r)}m[y++]=f;m[y++]=h;if(c<0){m[y++]=0;e.copy(m,y,r)}else{e.copy(m,y,r+c)}return m}e.exports={derToJose:derToJose,joseToDer:joseToDer}},528:e=>{function getParamSize(e){var t=(e/8|0)+(e%8===0?0:1);return t}var t={ES256:getParamSize(256),ES384:getParamSize(384),ES512:getParamSize(521)};function getParamBytesForAlg(e){var r=t[e];if(r){return r}throw new Error('Unknown algorithm "'+e+'"')}e.exports=getParamBytesForAlg},1585:(e,t,r)=>{const{PassThrough:s}=r(2781);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n=r==="buffer";let i=false;if(t){i=!(r||n)}else{r=r||"utf8"}if(n){r=null}const o=new s({objectMode:i});if(r){o.setEncoding(r)}let a=0;const c=[];o.on("data",(e=>{c.push(e);if(i){a=c.length}else{a+=e.length}}));o.getBufferedValue=()=>{if(t){return c}return n?Buffer.concat(c,a):c.join("")};o.getBufferedLength=()=>a;return o}},1766:(e,t,r)=>{const{constants:s}=r(4300);const n=r(2781);const{promisify:i}=r(3837);const o=r(1585);const a=i(n.pipeline);class MaxBufferError extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}}async function getStream(e,t){if(!e){throw new Error("Expected a stream")}t={maxBuffer:Infinity,...t};const{maxBuffer:r}=t;const n=o(t);await new Promise(((t,i)=>{const rejectPromise=e=>{if(e&&n.getBufferedLength()<=s.MAX_LENGTH){e.bufferedData=n.getBufferedValue()}i(e)};(async()=>{try{await a(e,n);t()}catch(e){rejectPromise(e)}})();n.on("data",(()=>{if(n.getBufferedLength()>r){rejectPromise(new MaxBufferError)}}))}));return n.getBufferedValue()}e.exports=getStream;e.exports.buffer=(e,t)=>getStream(e,{...t,encoding:"buffer"});e.exports.array=(e,t)=>getStream(e,{...t,array:true});e.exports.MaxBufferError=MaxBufferError},1002:e=>{const t=new Set([200,203,204,206,300,301,308,404,405,410,414,501]);const r=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]);const s=new Set([500,502,503,504]);const n={date:true,connection:true,"keep-alive":true,"proxy-authenticate":true,"proxy-authorization":true,te:true,trailer:true,"transfer-encoding":true,upgrade:true};const i={"content-length":true,"content-encoding":true,"transfer-encoding":true,"content-range":true};function toNumberOrZero(e){const t=parseInt(e,10);return isFinite(t)?t:0}function isErrorResponse(e){if(!e){return true}return s.has(e.status)}function parseCacheControl(e){const t={};if(!e)return t;const r=e.trim().split(/,/);for(const e of r){const[r,s]=e.split(/=/,2);t[r.trim()]=s===undefined?true:s.trim().replace(/^"|"$/g,"")}return t}function formatCacheControl(e){let t=[];for(const r in e){const s=e[r];t.push(s===true?r:r+"="+s)}if(!t.length){return undefined}return t.join(", ")}e.exports=class CachePolicy{constructor(e,t,{shared:r,cacheHeuristic:s,immutableMinTimeToLive:n,ignoreCargoCult:i,_fromObject:o}={}){if(o){this._fromObject(o);return}if(!t||!t.headers){throw Error("Response headers missing")}this._assertRequestHasHeaders(e);this._responseTime=this.now();this._isShared=r!==false;this._cacheHeuristic=undefined!==s?s:.1;this._immutableMinTtl=undefined!==n?n:24*3600*1e3;this._status="status"in t?t.status:200;this._resHeaders=t.headers;this._rescc=parseCacheControl(t.headers["cache-control"]);this._method="method"in e?e.method:"GET";this._url=e.url;this._host=e.headers.host;this._noAuthorization=!e.headers.authorization;this._reqHeaders=t.headers.vary?e.headers:null;this._reqcc=parseCacheControl(e.headers["cache-control"]);if(i&&"pre-check"in this._rescc&&"post-check"in this._rescc){delete this._rescc["pre-check"];delete this._rescc["post-check"];delete this._rescc["no-cache"];delete this._rescc["no-store"];delete this._rescc["must-revalidate"];this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":formatCacheControl(this._rescc)});delete this._resHeaders.expires;delete this._resHeaders.pragma}if(t.headers["cache-control"]==null&&/no-cache/.test(t.headers.pragma)){this._rescc["no-cache"]=true}}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&("GET"===this._method||"HEAD"===this._method||"POST"===this._method&&this._hasExplicitExpiration())&&r.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||t.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers){throw Error("Request headers missing")}}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);const t=parseCacheControl(e.headers["cache-control"]);if(t["no-cache"]||/no-cache/.test(e.headers.pragma)){return false}if(t["max-age"]&&this.age()>t["max-age"]){return false}if(t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]){return false}if(this.stale()){const e=t["max-stale"]&&!this._rescc["must-revalidate"]&&(true===t["max-stale"]||t["max-stale"]>this.age()-this.maxAge());if(!e){return false}}return this._requestMatches(e,false)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&"HEAD"===e.method)&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary){return true}if(this._resHeaders.vary==="*"){return false}const t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(const r of t){if(e.headers[r]!==this._reqHeaders[r])return false}return true}_copyWithoutHopByHopHeaders(e){const t={};for(const r in e){if(n[r])continue;t[r]=e[r]}if(e.connection){const r=e.connection.trim().split(/\s*,\s*/);for(const e of r){delete t[e]}}if(t.warning){const e=t.warning.split(/,/).filter((e=>!/^\s*1[0-9][0-9]/.test(e)));if(!e.length){delete t.warning}else{t.warning=e.join(",").trim()}}return t}responseHeaders(){const e=this._copyWithoutHopByHopHeaders(this._resHeaders);const t=this.age();if(t>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24){e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'}e.age=`${Math.round(t)}`;e.date=new Date(this.now()).toUTCString();return e}date(){const e=Date.parse(this._resHeaders.date);if(isFinite(e)){return e}return this._responseTime}age(){let e=this._ageValue();const t=(this.now()-this._responseTime)/1e3;return e+t}_ageValue(){return toNumberOrZero(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]){return 0}if(this._isShared&&(this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable)){return 0}if(this._resHeaders.vary==="*"){return 0}if(this._isShared){if(this._rescc["proxy-revalidate"]){return 0}if(this._rescc["s-maxage"]){return toNumberOrZero(this._rescc["s-maxage"])}}if(this._rescc["max-age"]){return toNumberOrZero(this._rescc["max-age"])}const e=this._rescc.immutable?this._immutableMinTtl:0;const t=this.date();if(this._resHeaders.expires){const r=Date.parse(this._resHeaders.expires);if(Number.isNaN(r)||r<t){return 0}return Math.max(e,(r-t)/1e3)}if(this._resHeaders["last-modified"]){const r=Date.parse(this._resHeaders["last-modified"]);if(isFinite(r)&&t>r){return Math.max(e,(t-r)/1e3*this._cacheHeuristic)}}return e}timeToLive(){const e=this.maxAge()-this.age();const t=e+toNumberOrZero(this._rescc["stale-if-error"]);const r=e+toNumberOrZero(this._rescc["stale-while-revalidate"]);return Math.max(0,e,t,r)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+toNumberOrZero(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+toNumberOrZero(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(undefined,undefined,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t;this._isShared=e.sh;this._cacheHeuristic=e.ch;this._immutableMinTtl=e.imm!==undefined?e.imm:24*3600*1e3;this._status=e.st;this._resHeaders=e.resh;this._rescc=e.rescc;this._method=e.m;this._url=e.u;this._host=e.h;this._noAuthorization=e.a;this._reqHeaders=e.reqh;this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);const t=this._copyWithoutHopByHopHeaders(e.headers);delete t["if-range"];if(!this._requestMatches(e,true)||!this.storable()){delete t["if-none-match"];delete t["if-modified-since"];return t}if(this._resHeaders.etag){t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag}const r=t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&this._method!="GET";if(r){delete t["if-modified-since"];if(t["if-none-match"]){const e=t["if-none-match"].split(/,/).filter((e=>!/^\s*W\//.test(e)));if(!e.length){delete t["if-none-match"]}else{t["if-none-match"]=e.join(",").trim()}}}else if(this._resHeaders["last-modified"]&&!t["if-modified-since"]){t["if-modified-since"]=this._resHeaders["last-modified"]}return t}revalidatedPolicy(e,t){this._assertRequestHasHeaders(e);if(this._useStaleIfError()&&isErrorResponse(t)){return{modified:false,matches:false,policy:this}}if(!t||!t.headers){throw Error("Response headers missing")}let r=false;if(t.status!==undefined&&t.status!=304){r=false}else if(t.headers.etag&&!/^\s*W\//.test(t.headers.etag)){r=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag}else if(this._resHeaders.etag&&t.headers.etag){r=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,"")}else if(this._resHeaders["last-modified"]){r=this._resHeaders["last-modified"]===t.headers["last-modified"]}else{if(!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!t.headers.etag&&!t.headers["last-modified"]){r=true}}if(!r){return{policy:new this.constructor(e,t),modified:t.status!=304,matches:false}}const s={};for(const e in this._resHeaders){s[e]=e in t.headers&&!i[e]?t.headers[e]:this._resHeaders[e]}const n=Object.assign({},t,{status:this._status,method:this._method,headers:s});return{policy:new this.constructor(e,n,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:false,matches:true}}}},9898:(e,t,r)=>{const{URL:s}=r(7310);const n=r(2361);const i=r(4404);const o=r(5158);const a=r(9273);const c=r(9237);const u=Symbol("currentStreamCount");const l=Symbol("request");const f=Symbol("cachedOriginSet");const h=Symbol("gracefullyClosing");const d=Symbol("length");const p=["createConnection","maxDeflateDynamicTableSize","maxSettings","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","peerMaxConcurrentStreams","settings","family","localAddress","rejectUnauthorized","pskCallback","minDHSize","path","socket","ca","cert","sigalgs","ciphers","clientCertEngine","crl","dhparam","ecdhCurve","honorCipherOrder","key","privateKeyEngine","privateKeyIdentifier","maxVersion","minVersion","pfx","secureOptions","secureProtocol","sessionIdContext","ticketKeys"];const getSortedIndex=(e,t,r)=>{let s=0;let n=e.length;while(s<n){const i=s+n>>>1;if(r(e[i],t)){s=i+1}else{n=i}}return s};const compareSessions=(e,t)=>e.remoteSettings.maxConcurrentStreams>t.remoteSettings.maxConcurrentStreams;const closeCoveredSessions=(e,t)=>{for(let r=0;r<e.length;r++){const s=e[r];if(s[f].length>0&&s[f].length<t[f].length&&s[f].every((e=>t[f].includes(e)))&&s[u]+t[u]<=t.remoteSettings.maxConcurrentStreams){gracefullyClose(s)}}};const closeSessionIfCovered=(e,t)=>{for(let r=0;r<e.length;r++){const s=e[r];if(t[f].length>0&&t[f].length<s[f].length&&t[f].every((e=>s[f].includes(e)))&&t[u]+s[u]<=s.remoteSettings.maxConcurrentStreams){gracefullyClose(t);return true}}return false};const gracefullyClose=e=>{e[h]=true;if(e[u]===0){e.close()}};class Agent extends n{constructor({timeout:e=0,maxSessions:t=Number.POSITIVE_INFINITY,maxEmptySessions:r=10,maxCachedTlsSessions:s=100}={}){super();this.sessions={};this.queue={};this.timeout=e;this.maxSessions=t;this.maxEmptySessions=r;this._emptySessionCount=0;this._sessionCount=0;this.settings={enablePush:false,initialWindowSize:1024*1024*32};this.tlsSessionCache=new a({maxSize:s})}get protocol(){return"https:"}normalizeOptions(e){let t="";for(let r=0;r<p.length;r++){const s=p[r];t+=":";if(e&&e[s]!==undefined){t+=e[s]}}return t}_processQueue(){if(this._sessionCount>=this.maxSessions){this.closeEmptySessions(this.maxSessions-this._sessionCount+1);return}for(const e in this.queue){for(const t in this.queue[e]){const r=this.queue[e][t];if(!r.completed){r.completed=true;r()}}}}_isBetterSession(e,t){return e>t}_accept(e,t,r,s){let n=0;while(n<t.length&&e[u]<e.remoteSettings.maxConcurrentStreams){t[n].resolve(e);n++}t.splice(0,n);if(t.length>0){this.getSession(r,s,t);t.length=0}}getSession(e,t,r){return new Promise(((n,i)=>{if(Array.isArray(r)&&r.length>0){r=[...r];n()}else{r=[{resolve:n,reject:i}]}try{if(typeof e==="string"){e=new s(e)}else if(!(e instanceof s)){throw new TypeError("The `origin` argument needs to be a string or an URL object")}if(t){const{servername:r}=t;const{hostname:s}=e;if(r&&s!==r){throw new Error(`Origin ${s} differs from servername ${r}`)}}}catch(e){for(let t=0;t<r.length;t++){r[t].reject(e)}return}const a=this.normalizeOptions(t);const c=e.origin;if(a in this.sessions){const e=this.sessions[a];let s=-1;let n=-1;let i;for(let t=0;t<e.length;t++){const r=e[t];const o=r.remoteSettings.maxConcurrentStreams;if(o<s){break}if(!r[f].includes(c)){continue}const a=r[u];if(a>=o||r[h]||r.destroyed){continue}if(!i){s=o}if(this._isBetterSession(a,n)){i=r;n=a}}if(i){this._accept(i,r,c,t);return}}if(a in this.queue){if(c in this.queue[a]){this.queue[a][c].listeners.push(...r);return}}else{this.queue[a]={[d]:0}}const removeFromQueue=()=>{if(a in this.queue&&this.queue[a][c]===entry){delete this.queue[a][c];if(--this.queue[a][d]===0){delete this.queue[a]}}};const entry=async()=>{this._sessionCount++;const s=`${c}:${a}`;let n=false;let i;try{const p={...t};if(p.settings===undefined){p.settings=this.settings}if(p.session===undefined){p.session=this.tlsSessionCache.get(s)}const m=p.createConnection||this.createConnection;i=await m.call(this,e,p);p.createConnection=()=>i;const y=o.connect(e,p);y[u]=0;y[h]=false;const getOriginSet=()=>{const{socket:e}=y;let t;if(e.servername===false){e.servername=e.remoteAddress;t=y.originSet;e.servername=false}else{t=y.originSet}return t};const isFree=()=>y[u]<y.remoteSettings.maxConcurrentStreams;y.socket.once("session",(e=>{this.tlsSessionCache.set(s,e)}));y.once("error",(e=>{for(let t=0;t<r.length;t++){r[t].reject(e)}this.tlsSessionCache.delete(s)}));y.setTimeout(this.timeout,(()=>{y.destroy()}));y.once("close",(()=>{this._sessionCount--;if(n){this._emptySessionCount--;const e=this.sessions[a];if(e.length===1){delete this.sessions[a]}else{e.splice(e.indexOf(y),1)}}else{removeFromQueue();const e=new Error("Session closed without receiving a SETTINGS frame");e.code="HTTP2WRAPPER_NOSETTINGS";for(let t=0;t<r.length;t++){r[t].reject(e)}}this._processQueue()}));const processListeners=()=>{const e=this.queue[a];if(!e){return}const t=y[f];for(let r=0;r<t.length;r++){const s=t[r];if(s in e){const{listeners:t,completed:r}=e[s];let n=0;while(n<t.length&&isFree()){t[n].resolve(y);n++}e[s].listeners.splice(0,n);if(e[s].listeners.length===0&&!r){delete e[s];if(--e[d]===0){delete this.queue[a];break}}if(!isFree()){break}}}};y.on("origin",(()=>{y[f]=getOriginSet()||[];y[h]=false;closeSessionIfCovered(this.sessions[a],y);if(y[h]||!isFree()){return}processListeners();if(!isFree()){return}closeCoveredSessions(this.sessions[a],y)}));y.once("remoteSettings",(()=>{if(entry.destroyed){const e=new Error("Agent has been destroyed");for(let t=0;t<r.length;t++){r[t].reject(e)}y.destroy();return}if(y.setLocalWindowSize){y.setLocalWindowSize(1024*1024*4)}y[f]=getOriginSet()||[];if(y.socket.encrypted){const e=y[f][0];if(e!==c){const t=new Error(`Requested origin ${c} does not match server ${e}`);for(let e=0;e<r.length;e++){r[e].reject(t)}y.destroy();return}}removeFromQueue();{const e=this.sessions;if(a in e){const t=e[a];t.splice(getSortedIndex(t,y,compareSessions),0,y)}else{e[a]=[y]}}n=true;this._emptySessionCount++;this.emit("session",y);this._accept(y,r,c,t);if(y[u]===0&&this._emptySessionCount>this.maxEmptySessions){this.closeEmptySessions(this._emptySessionCount-this.maxEmptySessions)}y.on("remoteSettings",(()=>{if(!isFree()){return}processListeners();if(!isFree()){return}closeCoveredSessions(this.sessions[a],y)}))}));y[l]=y.request;y.request=(e,t)=>{if(y[h]){throw new Error("The session is gracefully closing. No new streams are allowed.")}const r=y[l](e,t);y.ref();if(y[u]++===0){this._emptySessionCount--}r.once("close",(()=>{if(--y[u]===0){this._emptySessionCount++;y.unref();if(this._emptySessionCount>this.maxEmptySessions||y[h]){y.close();return}}if(y.destroyed||y.closed){return}if(isFree()&&!closeSessionIfCovered(this.sessions[a],y)){closeCoveredSessions(this.sessions[a],y);processListeners();if(y[u]===0){this._processQueue()}}}));return r}}catch(e){removeFromQueue();this._sessionCount--;for(let t=0;t<r.length;t++){r[t].reject(e)}}};entry.listeners=r;entry.completed=false;entry.destroyed=false;this.queue[a][c]=entry;this.queue[a][d]++;this._processQueue()}))}request(e,t,r,s){return new Promise(((n,i)=>{this.getSession(e,t,[{reject:i,resolve:e=>{try{const t=e.request(r,s);c(t);n(t)}catch(e){i(e)}}}])}))}async createConnection(e,t){return Agent.connect(e,t)}static connect(e,t){t.ALPNProtocols=["h2"];const r=e.port||443;const s=e.hostname;if(typeof t.servername==="undefined"){t.servername=s}const n=i.connect(r,s,t);if(t.socket){n._peername={family:undefined,address:undefined,port:r}}return n}closeEmptySessions(e=Number.POSITIVE_INFINITY){let t=0;const{sessions:r}=this;for(const s in r){const n=r[s];for(let r=0;r<n.length;r++){const s=n[r];if(s[u]===0){t++;s.close();if(t>=e){return t}}}}return t}destroy(e){const{sessions:t,queue:r}=this;for(const r in t){const s=t[r];for(let t=0;t<s.length;t++){s[t].destroy(e)}}for(const e in r){const t=r[e];for(const e in t){t[e].destroyed=true}}this.queue={};this.tlsSessionCache.clear()}get emptySessionCount(){return this._emptySessionCount}get pendingSessionCount(){return this._sessionCount-this._emptySessionCount}get sessionCount(){return this._sessionCount}}Agent.kCurrentStreamCount=u;Agent.kGracefullyClosing=h;e.exports={Agent:Agent,globalAgent:new Agent}},7167:(e,t,r)=>{const{URL:s,urlToHttpOptions:n}=r(7310);const i=r(3685);const o=r(5687);const a=r(6624);const c=r(9273);const{Agent:u,globalAgent:l}=r(9898);const f=r(9632);const h=r(1982);const d=r(9237);const p=new c({maxSize:100});const m=new Map;const installSocket=(e,t,r)=>{t._httpMessage={shouldKeepAlive:true};const onFree=()=>{e.emit("free",t,r)};t.on("free",onFree);const onClose=()=>{e.removeSocket(t,r)};t.on("close",onClose);const onTimeout=()=>{const{freeSockets:r}=e;for(const e of Object.values(r)){if(e.includes(t)){t.destroy();return}}};t.on("timeout",onTimeout);const onRemove=()=>{e.removeSocket(t,r);t.off("close",onClose);t.off("free",onFree);t.off("timeout",onTimeout);t.off("agentRemove",onRemove)};t.on("agentRemove",onRemove);e.emit("free",t,r)};const createResolveProtocol=(e,t=new Map,r=undefined)=>async s=>{const n=`${s.host}:${s.port}:${s.ALPNProtocols.sort()}`;if(!e.has(n)){if(t.has(n)){const e=await t.get(n);return{alpnProtocol:e.alpnProtocol}}const{path:i}=s;s.path=s.socketPath;const o=a(s,r);t.set(n,o);try{const r=await o;e.set(n,r.alpnProtocol);t.delete(n);s.path=i;return r}catch(e){t.delete(n);s.path=i;throw e}}return{alpnProtocol:e.get(n)}};const y=createResolveProtocol(p,m);e.exports=async(e,t,r)=>{if(typeof e==="string"){e=n(new s(e))}else if(e instanceof s){e=n(e)}else{e={...e}}if(typeof t==="function"||t===undefined){r=t;t=e}else{t=Object.assign(e,t)}t.ALPNProtocols=t.ALPNProtocols||["h2","http/1.1"];if(!Array.isArray(t.ALPNProtocols)||t.ALPNProtocols.length===0){throw new Error("The `ALPNProtocols` option must be an Array with at least one entry")}t.protocol=t.protocol||"https:";const a=t.protocol==="https:";t.host=t.hostname||t.host||"localhost";t.session=t.tlsSession;t.servername=t.servername||h(t.headers&&t.headers.host||t.host);t.port=t.port||(a?443:80);t._defaultAgent=a?o.globalAgent:i.globalAgent;const c=t.resolveProtocol||y;let{agent:p}=t;if(p!==undefined&&p!==false&&p.constructor.name!=="Object"){throw new Error("The `options.agent` can be only an object `http`, `https` or `http2` properties")}if(a){t.resolveSocket=true;let{socket:e,alpnProtocol:s,timeout:n}=await c(t);if(n){if(e){e.destroy()}const r=new Error(`Timed out resolving ALPN: ${t.timeout} ms`);r.code="ETIMEDOUT";r.ms=t.timeout;throw r}if(e&&t.createConnection){e.destroy();e=undefined}delete t.resolveSocket;const i=s==="h2";if(p){p=i?p.http2:p.https;t.agent=p}if(p===undefined){p=i?l:o.globalAgent}if(e){if(p===false){e.destroy()}else{const r=(i?u:o.Agent).prototype.createConnection;if(p.createConnection===r){if(i){t._reuseSocket=e}else{installSocket(p,e,t)}}else{e.destroy()}}}if(i){return d(new f(t,r))}}else if(p){t.agent=p.http}if(t.headers){t.headers={...t.headers};if(t.headers[":authority"]){if(!t.headers.host){t.headers.host=t.headers[":authority"]}delete t.headers[":authority"]}delete t.headers[":method"];delete t.headers[":scheme"];delete t.headers[":path"]}return d(i.request(t,r))};e.exports.protocolCache=p;e.exports.resolveProtocol=y;e.exports.createResolveProtocol=createResolveProtocol},9632:(e,t,r)=>{const{URL:s,urlToHttpOptions:n}=r(7310);const i=r(5158);const{Writable:o}=r(2781);const{Agent:a,globalAgent:c}=r(9898);const u=r(2575);const l=r(1818);const{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_PROTOCOL:h,ERR_HTTP_HEADERS_SENT:d}=r(7087);const p=r(4592);const m=r(3549);const y=r(9404);const{HTTP2_HEADER_STATUS:g,HTTP2_HEADER_METHOD:b,HTTP2_HEADER_PATH:w,HTTP2_HEADER_AUTHORITY:v,HTTP2_METHOD_CONNECT:E}=i.constants;const _=Symbol("headers");const S=Symbol("origin");const O=Symbol("session");const A=Symbol("options");const R=Symbol("flushedHeaders");const T=Symbol("jobs");const x=Symbol("pendingAgentPromise");class ClientRequest extends o{constructor(e,t,r){super({autoDestroy:false,emitClose:false});if(typeof e==="string"){e=n(new s(e))}else if(e instanceof s){e=n(e)}else{e={...e}}if(typeof t==="function"||t===undefined){r=t;t=e}else{t=Object.assign(e,t)}if(t.h2session){this[O]=t.h2session;if(this[O].destroyed){throw new Error("The session has been closed already")}this.protocol=this[O].socket.encrypted?"https:":"http:"}else if(t.agent===false){this.agent=new a({maxEmptySessions:0})}else if(typeof t.agent==="undefined"||t.agent===null){this.agent=c}else if(typeof t.agent.request==="function"){this.agent=t.agent}else{throw new f("options.agent",["http2wrapper.Agent-like Object","undefined","false"],t.agent)}if(this.agent){this.protocol=this.agent.protocol}if(t.protocol&&t.protocol!==this.protocol){throw new h(t.protocol,this.protocol)}if(!t.port){t.port=t.defaultPort||this.agent&&this.agent.defaultPort||443}t.host=t.hostname||t.host||"localhost";delete t.hostname;const{timeout:i}=t;t.timeout=undefined;this[_]=Object.create(null);this[T]=[];this[x]=undefined;this.socket=null;this.connection=null;this.method=t.method||"GET";if(!(this.method==="CONNECT"&&(t.path==="/"||t.path===undefined))){this.path=t.path}this.res=null;this.aborted=false;this.reusedSocket=false;const{headers:o}=t;if(o){for(const e in o){this.setHeader(e,o[e])}}if(t.auth&&!("authorization"in this[_])){this[_].authorization="Basic "+Buffer.from(t.auth).toString("base64")}t.session=t.tlsSession;t.path=t.socketPath;this[A]=t;this[S]=new s(`${this.protocol}//${t.servername||t.host}:${t.port}`);const u=t._reuseSocket;if(u){t.createConnection=(...e)=>{if(u.destroyed){return this.agent.createConnection(...e)}return u};this.agent.getSession(this[S],this[A]).catch((()=>{}))}if(i){this.setTimeout(i)}if(r){this.once("response",r)}this[R]=false}get method(){return this[_][b]}set method(e){if(e){this[_][b]=e.toUpperCase()}}get path(){const e=this.method==="CONNECT"?v:w;return this[_][e]}set path(e){if(e){const t=this.method==="CONNECT"?v:w;this[_][t]=e}}get host(){return this[S].hostname}set host(e){}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,t,r){if(this._mustNotHaveABody){r(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();const callWrite=()=>this._request.write(e,t,r);if(this._request){callWrite()}else{this[T].push(callWrite)}}_final(e){this.flushHeaders();const callEnd=()=>{if(this._mustNotHaveABody||this.method==="CONNECT"){e();return}this._request.end(e)};if(this._request){callEnd()}else{this[T].push(callEnd)}}abort(){if(this.res&&this.res.complete){return}if(!this.aborted){process.nextTick((()=>this.emit("abort")))}this.aborted=true;this.destroy()}async _destroy(e,t){if(this.res){this.res._dump()}if(this._request){this._request.destroy()}else{process.nextTick((()=>{this.emit("close")}))}try{await this[x]}catch(t){if(this.aborted){e=t}}t(e)}async flushHeaders(){if(this[R]||this.destroyed){return}this[R]=true;const e=this.method===E;const onStream=t=>{this._request=t;if(this.destroyed){t.destroy();return}if(!e){l(t,this,["timeout","continue"])}t.once("error",(e=>{this.destroy(e)}));t.once("aborted",(()=>{const{res:e}=this;if(e){e.aborted=true;e.emit("aborted");e.destroy()}else{this.destroy(new Error("The server aborted the HTTP/2 stream"))}}));const onResponse=(r,s,n)=>{const i=new u(this.socket,t.readableHighWaterMark);this.res=i;i.url=`${this[S].origin}${this.path}`;i.req=this;i.statusCode=r[g];i.headers=r;i.rawHeaders=n;i.once("end",(()=>{i.complete=true;i.socket=null;i.connection=null}));if(e){i.upgrade=true;if(this.emit("connect",i,t,Buffer.alloc(0))){this.emit("close")}else{t.destroy()}}else{t.on("data",(e=>{if(!i._dumped&&!i.push(e)){t.pause()}}));t.once("end",(()=>{if(!this.aborted){i.push(null)}}));if(!this.emit("response",i)){i._dump()}}};t.once("response",onResponse);t.once("headers",(e=>this.emit("information",{statusCode:e[g]})));t.once("trailers",((e,t,r)=>{const{res:s}=this;if(s===null){onResponse(e,t,r);return}s.trailers=e;s.rawTrailers=r}));t.once("close",(()=>{const{aborted:e,res:t}=this;if(t){if(e){t.aborted=true;t.emit("aborted");t.destroy()}const finish=()=>{t.emit("close");this.destroy();this.emit("close")};if(t.readable){t.once("end",finish)}else{finish()}return}if(!this.destroyed){this.destroy(new Error("The HTTP/2 stream has been early terminated"));this.emit("close");return}this.destroy();this.emit("close")}));this.socket=new Proxy(t,y);for(const e of this[T]){e()}this[T].length=0;this.emit("socket",this.socket)};if(!(v in this[_])&&!e){this[_][v]=this[S].host}if(this[O]){try{onStream(this[O].request(this[_]))}catch(e){this.destroy(e)}}else{this.reusedSocket=true;try{const e=this.agent.request(this[S],this[A],this[_]);this[x]=e;onStream(await e);this[x]=false}catch(e){this[x]=false;this.destroy(e)}}}get connection(){return this.socket}set connection(e){this.socket=e}getHeaderNames(){return Object.keys(this[_])}hasHeader(e){if(typeof e!=="string"){throw new f("name","string",e)}return Boolean(this[_][e.toLowerCase()])}getHeader(e){if(typeof e!=="string"){throw new f("name","string",e)}return this[_][e.toLowerCase()]}get headersSent(){return this[R]}removeHeader(e){if(typeof e!=="string"){throw new f("name","string",e)}if(this.headersSent){throw new d("remove")}delete this[_][e.toLowerCase()]}setHeader(e,t){if(this.headersSent){throw new d("set")}p(e);m(e,t);const r=e.toLowerCase();if(r==="connection"){if(t.toLowerCase()==="keep-alive"){return}throw new Error(`Invalid 'connection' header: ${t}`)}if(r==="host"&&this.method==="CONNECT"){this[_][v]=t}else{this[_][r]=t}}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,t){const applyTimeout=()=>this._request.setTimeout(e,t);if(this._request){applyTimeout()}else{this[T].push(applyTimeout)}return this}get maxHeadersCount(){if(!this.destroyed&&this._request){return this._request.session.localSettings.maxHeaderListSize}return undefined}set maxHeadersCount(e){}}e.exports=ClientRequest},2575:(e,t,r)=>{const{Readable:s}=r(2781);class IncomingMessage extends s{constructor(e,t){super({emitClose:false,autoDestroy:true,highWaterMark:t});this.statusCode=null;this.statusMessage="";this.httpVersion="2.0";this.httpVersionMajor=2;this.httpVersionMinor=0;this.headers={};this.trailers={};this.req=null;this.aborted=false;this.complete=false;this.upgrade=null;this.rawHeaders=[];this.rawTrailers=[];this.socket=e;this._dumped=false}get connection(){return this.socket}set connection(e){this.socket=e}_destroy(e,t){if(!this.readableEnded){this.aborted=true}t();this.req._request.destroy(e)}setTimeout(e,t){this.req.setTimeout(e,t);return this}_dump(){if(!this._dumped){this._dumped=true;this.removeAllListeners("data");this.resume()}}_read(){if(this.req){this.req._request.resume()}}}e.exports=IncomingMessage},4645:(e,t,r)=>{const s=r(5158);const{Agent:n,globalAgent:i}=r(9898);const o=r(9632);const a=r(2575);const c=r(7167);const{HttpOverHttp2:u,HttpsOverHttp2:l}=r(8795);const f=r(8553);const{Http2OverHttp:h,Http2OverHttps:d}=r(9794);const p=r(4592);const m=r(3549);const request=(e,t,r)=>new o(e,t,r);const get=(e,t,r)=>{const s=new o(e,t,r);s.end();return s};e.exports={...s,ClientRequest:o,IncomingMessage:a,Agent:n,globalAgent:i,request:request,get:get,auto:c,proxies:{HttpOverHttp2:u,HttpsOverHttp2:l,Http2OverHttp2:f,Http2OverHttp:h,Http2OverHttps:d},validateHeaderName:p,validateHeaderValue:m}},7885:e=>{e.exports=e=>{const{username:t,password:r}=e.proxyOptions.url;if(t||r){const e=`${t}:${r}`;const s=`Basic ${Buffer.from(e).toString("base64")}`;return{"proxy-authorization":s,authorization:s}}return{}}},8795:(e,t,r)=>{const s=r(4404);const n=r(3685);const i=r(5687);const o=r(1564);const{globalAgent:a}=r(9898);const c=r(6203);const u=r(1089);const l=r(7885);const createConnection=(e,t,r)=>{(async()=>{try{const{proxyOptions:n}=e;const{url:u,headers:f,raw:h}=n;const d=await a.request(u,n,{...l(e),...f,":method":"CONNECT",":authority":`${t.host}:${t.port}`});d.once("error",r);d.once("response",(n=>{const a=n[":status"];if(a!==200){r(new c(a,""));return}const u=e instanceof i.Agent;if(h&&u){t.socket=d;const e=s.connect(t);e.once("close",(()=>{d.destroy()}));r(null,e);return}const l=new o(d);l.encrypted=false;l._handle.getpeername=e=>{e.family=undefined;e.address=undefined;e.port=undefined};r(null,l)}))}catch(e){r(e)}})()};class HttpOverHttp2 extends n.Agent{constructor(e){super(e);u(this,e.proxyOptions)}createConnection(e,t){createConnection(this,e,t)}}class HttpsOverHttp2 extends i.Agent{constructor(e){super(e);u(this,e.proxyOptions)}createConnection(e,t){createConnection(this,e,t)}}e.exports={HttpOverHttp2:HttpOverHttp2,HttpsOverHttp2:HttpsOverHttp2}},9794:(e,t,r)=>{const s=r(3685);const n=r(5687);const i=r(1857);const o=r(7885);const getStream=e=>new Promise(((t,r)=>{const onConnect=(s,n,i)=>{n.unshift(i);e.off("error",r);t([n,s.statusCode,s.statusMessage])};e.once("error",r);e.once("connect",onConnect)}));class Http2OverHttp extends i{async _getProxyStream(e){const{proxyOptions:t}=this;const{url:r,headers:i}=this.proxyOptions;const a=r.protocol==="https:"?n:s;const c=a.request({...t,hostname:r.hostname,port:r.port,path:e,headers:{...o(this),...i,host:e},method:"CONNECT"}).end();return getStream(c)}}e.exports={Http2OverHttp:Http2OverHttp,Http2OverHttps:Http2OverHttp}},8553:(e,t,r)=>{const{globalAgent:s}=r(9898);const n=r(1857);const i=r(7885);const getStatusCode=e=>new Promise(((t,r)=>{e.once("error",r);e.once("response",(s=>{e.off("error",r);t(s[":status"])}))}));class Http2OverHttp2 extends n{async _getProxyStream(e){const{proxyOptions:t}=this;const r={...i(this),...t.headers,":method":"CONNECT",":authority":e};const n=await s.request(t.url,t,r);const o=await getStatusCode(n);return[n,o,""]}}e.exports=Http2OverHttp2},1857:(e,t,r)=>{const{Agent:s}=r(9898);const n=r(1564);const i=r(6203);const o=r(1089);class Http2OverHttpX extends s{constructor(e){super(e);o(this,e.proxyOptions)}async createConnection(e,t){const r=`${e.hostname}:${e.port||443}`;const[s,o,a]=await this._getProxyStream(r);if(o!==200){throw new i(o,a)}if(this.proxyOptions.raw){t.socket=s}else{const e=new n(s);e.encrypted=false;e._handle.getpeername=e=>{e.family=undefined;e.address=undefined;e.port=undefined};return e}return super.createConnection(e,t)}}e.exports=Http2OverHttpX},1089:(e,t,r)=>{const{URL:s}=r(7310);const n=r(3453);e.exports=(e,t)=>{n("proxyOptions",t,["object"]);n("proxyOptions.headers",t.headers,["object","undefined"]);n("proxyOptions.raw",t.raw,["boolean","undefined"]);n("proxyOptions.url",t.url,[s,"string"]);const r=new s(t.url);e.proxyOptions={raw:true,...t,headers:{...t.headers},url:r}}},6203:e=>{class UnexpectedStatusCodeError extends Error{constructor(e,t=""){super(`The proxy server rejected the request with status code ${e} (${t||"empty status message"})`);this.statusCode=e;this.statusMessage=t}}e.exports=UnexpectedStatusCodeError},1982:(e,t,r)=>{const{isIP:s}=r(1808);const n=r(9491);const getHost=e=>{if(e[0]==="["){const t=e.indexOf("]");n(t!==-1);return e.slice(1,t)}const t=e.indexOf(":");if(t===-1){return e}return e.slice(0,t)};e.exports=e=>{const t=getHost(e);if(s(t)){return""}return t}},3453:e=>{const checkType=(e,t,r)=>{const s=r.some((e=>{const r=typeof e;if(r==="string"){return typeof t===e}return t instanceof e}));if(!s){const s=r.map((e=>typeof e==="string"?e:e.name));throw new TypeError(`Expected '${e}' to be a type of ${s.join(" or ")}, got ${typeof t}`)}};e.exports=checkType},9237:e=>{e.exports=e=>{if(e.listenerCount("error")!==0){return e}e.__destroy=e._destroy;e._destroy=(...t)=>{const r=t.pop();e.__destroy(...t,(async e=>{await Promise.resolve();r(e)}))};const onError=t=>{Promise.resolve().then((()=>{e.emit("error",t)}))};e.once("error",onError);Promise.resolve().then((()=>{e.off("error",onError)}));return e}},7087:e=>{const makeError=(t,r,s)=>{e.exports[r]=class NodeError extends t{constructor(...e){super(typeof s==="string"?s:s(e));this.name=`${super.name} [${r}]`;this.code=r}}};makeError(TypeError,"ERR_INVALID_ARG_TYPE",(e=>{const t=e[0].includes(".")?"property":"argument";let r=e[1];const s=Array.isArray(r);if(s){r=`${r.slice(0,-1).join(", ")} or ${r.slice(-1)}`}return`The "${e[0]}" ${t} must be ${s?"one of":"of"} type ${r}. Received ${typeof e[2]}`}));makeError(TypeError,"ERR_INVALID_PROTOCOL",(e=>`Protocol "${e[0]}" not supported. Expected "${e[1]}"`));makeError(Error,"ERR_HTTP_HEADERS_SENT",(e=>`Cannot ${e[0]} headers after they are sent to the client`));makeError(TypeError,"ERR_INVALID_HTTP_TOKEN",(e=>`${e[0]} must be a valid HTTP token [${e[1]}]`));makeError(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",(e=>`Invalid value "${e[0]} for header "${e[1]}"`));makeError(TypeError,"ERR_INVALID_CHAR",(e=>`Invalid character in ${e[0]} [${e[1]}]`));makeError(Error,"ERR_HTTP2_NO_SOCKET_MANIPULATION","HTTP/2 sockets should not be directly manipulated (e.g. read and written)")},1199:e=>{e.exports=e=>{switch(e){case":method":case":scheme":case":authority":case":path":return true;default:return false}}},1564:(e,t,r)=>{const s=r(2781);const n=r(4404);const i=new n.TLSSocket(new s.PassThrough)._handle._parentWrap.constructor;e.exports=i},1818:e=>{e.exports=(e,t,r)=>{for(const s of r){e.on(s,((...e)=>t.emit(s,...e)))}}},9404:(e,t,r)=>{const{ERR_HTTP2_NO_SOCKET_MANIPULATION:s}=r(7087);const n={has(e,t){const r=e.session===undefined?e:e.session.socket;return t in e||t in r},get(e,t){switch(t){case"on":case"once":case"end":case"emit":case"destroy":return e[t].bind(e);case"writable":case"destroyed":return e[t];case"readable":if(e.destroyed){return false}return e.readable;case"setTimeout":{const{session:t}=e;if(t!==undefined){return t.setTimeout.bind(t)}return e.setTimeout.bind(e)}case"write":case"read":case"pause":case"resume":throw new s;default:{const r=e.session===undefined?e:e.session.socket;const s=r[t];return typeof s==="function"?s.bind(r):s}}},getPrototypeOf(e){if(e.session!==undefined){return Reflect.getPrototypeOf(e.session.socket)}return Reflect.getPrototypeOf(e)},set(e,t,r){switch(t){case"writable":case"readable":case"destroyed":case"on":case"once":case"end":case"emit":case"destroy":e[t]=r;return true;case"setTimeout":{const{session:t}=e;if(t===undefined){e.setTimeout=r}else{t.setTimeout=r}return true}case"write":case"read":case"pause":case"resume":throw new s;default:{const s=e.session===undefined?e:e.session.socket;s[t]=r;return true}}}};e.exports=n},4592:(e,t,r)=>{const{ERR_INVALID_HTTP_TOKEN:s}=r(7087);const n=r(1199);const i=/^[\^`\-\w!#$%&*+.|~]+$/;e.exports=e=>{if(typeof e!=="string"||!i.test(e)&&!n(e)){throw new s("Header name",e)}}},3549:(e,t,r)=>{const{ERR_HTTP_INVALID_HEADER_VALUE:s,ERR_INVALID_CHAR:n}=r(7087);const i=/[^\t\u0020-\u007E\u0080-\u00FF]/;e.exports=(e,t)=>{if(typeof t==="undefined"){throw new s(t,e)}if(i.test(t)){throw new n("header content",e)}}},2820:(e,t)=>{t.stringify=function stringify(e){if("undefined"==typeof e)return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON)e=e.toJSON();if(e&&"object"===typeof e){var t="";var r=Array.isArray(e);t=r?"[":"{";var s=true;for(var n in e){var i="function"==typeof e[n]||!r&&"undefined"===typeof e[n];if(Object.hasOwnProperty.call(e,n)&&!i){if(!s)t+=",";s=false;if(r){if(e[n]==undefined)t+="null";else t+=stringify(e[n])}else if(e[n]!==void 0){t+=stringify(n)+":"+stringify(e[n])}}}t+=r?"]":"}";return t}else if("string"===typeof e){return JSON.stringify(/^:/.test(e)?":"+e:e)}else if("undefined"===typeof e){return"null"}else return JSON.stringify(e)};t.parse=function(e){return JSON.parse(e,(function(e,t){if("string"===typeof t){if(/^:base64:/.test(t))return Buffer.from(t.substring(8),"base64");else return/^:/.test(t)?t.substring(1):t}return t}))}},3359:(e,t,r)=>{var s=r(4636);e.exports=function(e,t){t=t||{};var r=s.decode(e,t);if(!r){return null}var n=r.payload;if(typeof n==="string"){try{var i=JSON.parse(n);if(i!==null&&typeof i==="object"){n=i}}catch(e){}}if(t.complete===true){return{header:r.header,payload:n,signature:r.signature}}return n}},7486:(e,t,r)=>{e.exports={decode:r(3359),verify:r(2327),sign:r(2022),JsonWebTokenError:r(405),NotBeforeError:r(4383),TokenExpiredError:r(6637)}},405:e=>{var JsonWebTokenError=function(e,t){Error.call(this,e);if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}this.name="JsonWebTokenError";this.message=e;if(t)this.inner=t};JsonWebTokenError.prototype=Object.create(Error.prototype);JsonWebTokenError.prototype.constructor=JsonWebTokenError;e.exports=JsonWebTokenError},4383:(e,t,r)=>{var s=r(405);var NotBeforeError=function(e,t){s.call(this,e);this.name="NotBeforeError";this.date=t};NotBeforeError.prototype=Object.create(s.prototype);NotBeforeError.prototype.constructor=NotBeforeError;e.exports=NotBeforeError},6637:(e,t,r)=>{var s=r(405);var TokenExpiredError=function(e,t){s.call(this,e);this.name="TokenExpiredError";this.expiredAt=t};TokenExpiredError.prototype=Object.create(s.prototype);TokenExpiredError.prototype.constructor=TokenExpiredError;e.exports=TokenExpiredError},7622:(e,t,r)=>{const s=r(1383);e.exports=s.satisfies(process.version,">=15.7.0")},9085:(e,t,r)=>{var s=r(1383);e.exports=s.satisfies(process.version,"^6.12.0 || >=8.0.0")},5170:(e,t,r)=>{const s=r(1383);e.exports=s.satisfies(process.version,">=16.9.0")},6098:(e,t,r)=>{var s=r(900);e.exports=function(e,t){var r=t||Math.floor(Date.now()/1e3);if(typeof e==="string"){var n=s(e);if(typeof n==="undefined"){return}return Math.floor(r+n/1e3)}else if(typeof e==="number"){return r+e}else{return}}},7596:(e,t,r)=>{const s=r(7622);const n=r(5170);const i={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]};const o={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};e.exports=function(e,t){if(!e||!t)return;const r=t.asymmetricKeyType;if(!r)return;const a=i[r];if(!a){throw new Error(`Unknown key type "${r}".`)}if(!a.includes(e)){throw new Error(`"alg" parameter for "${r}" key type must be one of: ${a.join(", ")}.`)}if(s){switch(r){case"ec":const r=t.asymmetricKeyDetails.namedCurve;const s=o[e];if(r!==s){throw new Error(`"alg" parameter "${e}" requires curve "${s}".`)}break;case"rsa-pss":if(n){const r=parseInt(e.slice(-3),10);const{hashAlgorithm:s,mgf1HashAlgorithm:n,saltLength:i}=t.asymmetricKeyDetails;if(s!==`sha${r}`||n!==s){throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${e}.`)}if(i!==undefined&&i>r>>3){throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${e}.`)}}break}}}},2022:(e,t,r)=>{const s=r(6098);const n=r(9085);const i=r(7596);const o=r(4636);const a=r(7931);const c=r(6501);const u=r(1441);const l=r(298);const f=r(5723);const h=r(5180);const d=r(4499);const{KeyObject:p,createSecretKey:m,createPrivateKey:y}=r(6113);const g=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];if(n){g.splice(3,0,"PS256","PS384","PS512")}const b={expiresIn:{isValid:function(e){return u(e)||h(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return u(e)||h(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return h(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:a.bind(null,g),message:'"algorithm" must be a valid string enum value'},header:{isValid:f,message:'"header" must be an object'},encoding:{isValid:h,message:'"encoding" must be a string'},issuer:{isValid:h,message:'"issuer" must be a string'},subject:{isValid:h,message:'"subject" must be a string'},jwtid:{isValid:h,message:'"jwtid" must be a string'},noTimestamp:{isValid:c,message:'"noTimestamp" must be a boolean'},keyid:{isValid:h,message:'"keyid" must be a string'},mutatePayload:{isValid:c,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:c,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:c,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}};const w={iat:{isValid:l,message:'"iat" should be a number of seconds'},exp:{isValid:l,message:'"exp" should be a number of seconds'},nbf:{isValid:l,message:'"nbf" should be a number of seconds'}};function validate(e,t,r,s){if(!f(r)){throw new Error('Expected "'+s+'" to be a plain object.')}Object.keys(r).forEach((function(n){const i=e[n];if(!i){if(!t){throw new Error('"'+n+'" is not allowed in "'+s+'"')}return}if(!i.isValid(r[n])){throw new Error(i.message)}}))}function validateOptions(e){return validate(b,false,e,"options")}function validatePayload(e){return validate(w,true,e,"payload")}const v={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"};const E=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];e.exports=function(e,t,r,n){if(typeof r==="function"){n=r;r={}}else{r=r||{}}const a=typeof e==="object"&&!Buffer.isBuffer(e);const c=Object.assign({alg:r.algorithm||"HS256",typ:a?"JWT":undefined,kid:r.keyid},r.header);function failure(e){if(n){return n(e)}throw e}if(!t&&r.algorithm!=="none"){return failure(new Error("secretOrPrivateKey must have a value"))}if(t!=null&&!(t instanceof p)){try{t=y(t)}catch(e){try{t=m(typeof t==="string"?Buffer.from(t):t)}catch(e){return failure(new Error("secretOrPrivateKey is not valid key material"))}}}if(c.alg.startsWith("HS")&&t.type!=="secret"){return failure(new Error(`secretOrPrivateKey must be a symmetric key when using ${c.alg}`))}else if(/^(?:RS|PS|ES)/.test(c.alg)){if(t.type!=="private"){return failure(new Error(`secretOrPrivateKey must be an asymmetric key when using ${c.alg}`))}if(!r.allowInsecureKeySizes&&!c.alg.startsWith("ES")&&t.asymmetricKeyDetails!==undefined&&t.asymmetricKeyDetails.modulusLength<2048){return failure(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`))}}if(typeof e==="undefined"){return failure(new Error("payload is required"))}else if(a){try{validatePayload(e)}catch(e){return failure(e)}if(!r.mutatePayload){e=Object.assign({},e)}}else{const t=E.filter((function(e){return typeof r[e]!=="undefined"}));if(t.length>0){return failure(new Error("invalid "+t.join(",")+" option for "+typeof e+" payload"))}}if(typeof e.exp!=="undefined"&&typeof r.expiresIn!=="undefined"){return failure(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'))}if(typeof e.nbf!=="undefined"&&typeof r.notBefore!=="undefined"){return failure(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'))}try{validateOptions(r)}catch(e){return failure(e)}if(!r.allowInvalidAsymmetricKeyTypes){try{i(c.alg,t)}catch(e){return failure(e)}}const u=e.iat||Math.floor(Date.now()/1e3);if(r.noTimestamp){delete e.iat}else if(a){e.iat=u}if(typeof r.notBefore!=="undefined"){try{e.nbf=s(r.notBefore,u)}catch(e){return failure(e)}if(typeof e.nbf==="undefined"){return failure(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}}if(typeof r.expiresIn!=="undefined"&&typeof e==="object"){try{e.exp=s(r.expiresIn,u)}catch(e){return failure(e)}if(typeof e.exp==="undefined"){return failure(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}}Object.keys(v).forEach((function(t){const s=v[t];if(typeof r[t]!=="undefined"){if(typeof e[s]!=="undefined"){return failure(new Error('Bad "options.'+t+'" option. The payload already has an "'+s+'" property.'))}e[s]=r[t]}}));const l=r.encoding||"utf8";if(typeof n==="function"){n=n&&d(n);o.createSign({header:c,privateKey:t,payload:e,encoding:l}).once("error",n).once("done",(function(e){if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&e.length<256){return n(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`))}n(null,e)}))}else{let s=o.sign({header:c,payload:e,secret:t,encoding:l});if(!r.allowInsecureKeySizes&&/^(?:RS|PS)/.test(c.alg)&&s.length<256){throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${c.alg}`)}return s}}},2327:(e,t,r)=>{const s=r(405);const n=r(4383);const i=r(6637);const o=r(3359);const a=r(6098);const c=r(7596);const u=r(9085);const l=r(4636);const{KeyObject:f,createSecretKey:h,createPublicKey:d}=r(6113);const p=["RS256","RS384","RS512"];const m=["ES256","ES384","ES512"];const y=["RS256","RS384","RS512"];const g=["HS256","HS384","HS512"];if(u){p.splice(p.length,0,"PS256","PS384","PS512");y.splice(y.length,0,"PS256","PS384","PS512")}e.exports=function(e,t,r,u){if(typeof r==="function"&&!u){u=r;r={}}if(!r){r={}}r=Object.assign({},r);let b;if(u){b=u}else{b=function(e,t){if(e)throw e;return t}}if(r.clockTimestamp&&typeof r.clockTimestamp!=="number"){return b(new s("clockTimestamp must be a number"))}if(r.nonce!==undefined&&(typeof r.nonce!=="string"||r.nonce.trim()==="")){return b(new s("nonce must be a non-empty string"))}if(r.allowInvalidAsymmetricKeyTypes!==undefined&&typeof r.allowInvalidAsymmetricKeyTypes!=="boolean"){return b(new s("allowInvalidAsymmetricKeyTypes must be a boolean"))}const w=r.clockTimestamp||Math.floor(Date.now()/1e3);if(!e){return b(new s("jwt must be provided"))}if(typeof e!=="string"){return b(new s("jwt must be a string"))}const v=e.split(".");if(v.length!==3){return b(new s("jwt malformed"))}let E;try{E=o(e,{complete:true})}catch(e){return b(e)}if(!E){return b(new s("invalid token"))}const _=E.header;let S;if(typeof t==="function"){if(!u){return b(new s("verify must be called asynchronous if secret or public key is provided as a callback"))}S=t}else{S=function(e,r){return r(null,t)}}return S(_,(function(t,o){if(t){return b(new s("error in secret or public key callback: "+t.message))}const u=v[2].trim()!=="";if(!u&&o){return b(new s("jwt signature is required"))}if(u&&!o){return b(new s("secret or public key must be provided"))}if(!u&&!r.algorithms){return b(new s('please specify "none" in "algorithms" to verify unsigned tokens'))}if(o!=null&&!(o instanceof f)){try{o=d(o)}catch(e){try{o=h(typeof o==="string"?Buffer.from(o):o)}catch(e){return b(new s("secretOrPublicKey is not valid key material"))}}}if(!r.algorithms){if(o.type==="secret"){r.algorithms=g}else if(["rsa","rsa-pss"].includes(o.asymmetricKeyType)){r.algorithms=y}else if(o.asymmetricKeyType==="ec"){r.algorithms=m}else{r.algorithms=p}}if(r.algorithms.indexOf(E.header.alg)===-1){return b(new s("invalid algorithm"))}if(_.alg.startsWith("HS")&&o.type!=="secret"){return b(new s(`secretOrPublicKey must be a symmetric key when using ${_.alg}`))}else if(/^(?:RS|PS|ES)/.test(_.alg)&&o.type!=="public"){return b(new s(`secretOrPublicKey must be an asymmetric key when using ${_.alg}`))}if(!r.allowInvalidAsymmetricKeyTypes){try{c(_.alg,o)}catch(e){return b(e)}}let S;try{S=l.verify(e,E.header.alg,o)}catch(e){return b(e)}if(!S){return b(new s("invalid signature"))}const O=E.payload;if(typeof O.nbf!=="undefined"&&!r.ignoreNotBefore){if(typeof O.nbf!=="number"){return b(new s("invalid nbf value"))}if(O.nbf>w+(r.clockTolerance||0)){return b(new n("jwt not active",new Date(O.nbf*1e3)))}}if(typeof O.exp!=="undefined"&&!r.ignoreExpiration){if(typeof O.exp!=="number"){return b(new s("invalid exp value"))}if(w>=O.exp+(r.clockTolerance||0)){return b(new i("jwt expired",new Date(O.exp*1e3)))}}if(r.audience){const e=Array.isArray(r.audience)?r.audience:[r.audience];const t=Array.isArray(O.aud)?O.aud:[O.aud];const n=t.some((function(t){return e.some((function(e){return e instanceof RegExp?e.test(t):e===t}))}));if(!n){return b(new s("jwt audience invalid. expected: "+e.join(" or ")))}}if(r.issuer){const e=typeof r.issuer==="string"&&O.iss!==r.issuer||Array.isArray(r.issuer)&&r.issuer.indexOf(O.iss)===-1;if(e){return b(new s("jwt issuer invalid. expected: "+r.issuer))}}if(r.subject){if(O.sub!==r.subject){return b(new s("jwt subject invalid. expected: "+r.subject))}}if(r.jwtid){if(O.jti!==r.jwtid){return b(new s("jwt jwtid invalid. expected: "+r.jwtid))}}if(r.nonce){if(O.nonce!==r.nonce){return b(new s("jwt nonce invalid. expected: "+r.nonce))}}if(r.maxAge){if(typeof O.iat!=="number"){return b(new s("iat required when maxAge is specified"))}const e=a(r.maxAge,O.iat);if(typeof e==="undefined"){return b(new s('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(w>=e+(r.clockTolerance||0)){return b(new i("maxAge exceeded",new Date(e*1e3)))}}if(r.complete===true){const e=E.signature;return b(null,{header:_,payload:O,signature:e})}return b(null,O)}))}},6010:(e,t,r)=>{var s=r(9239);var n=r(1867).Buffer;var i=r(6113);var o=r(1728);var a=r(3837);var c='"%s" is not a valid algorithm.\n  Supported algorithms are:\n  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".';var u="secret must be a string or buffer";var l="key must be a string or a buffer";var f="key must be a string, a buffer or an object";var h=typeof i.createPublicKey==="function";if(h){l+=" or a KeyObject";u+="or a KeyObject"}function checkIsPublicKey(e){if(n.isBuffer(e)){return}if(typeof e==="string"){return}if(!h){throw typeError(l)}if(typeof e!=="object"){throw typeError(l)}if(typeof e.type!=="string"){throw typeError(l)}if(typeof e.asymmetricKeyType!=="string"){throw typeError(l)}if(typeof e.export!=="function"){throw typeError(l)}}function checkIsPrivateKey(e){if(n.isBuffer(e)){return}if(typeof e==="string"){return}if(typeof e==="object"){return}throw typeError(f)}function checkIsSecretKey(e){if(n.isBuffer(e)){return}if(typeof e==="string"){return e}if(!h){throw typeError(u)}if(typeof e!=="object"){throw typeError(u)}if(e.type!=="secret"){throw typeError(u)}if(typeof e.export!=="function"){throw typeError(u)}}function fromBase64(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function toBase64(e){e=e.toString();var t=4-e.length%4;if(t!==4){for(var r=0;r<t;++r){e+="="}}return e.replace(/\-/g,"+").replace(/_/g,"/")}function typeError(e){var t=[].slice.call(arguments,1);var r=a.format.bind(a,e).apply(null,t);return new TypeError(r)}function bufferOrString(e){return n.isBuffer(e)||typeof e==="string"}function normalizeInput(e){if(!bufferOrString(e))e=JSON.stringify(e);return e}function createHmacSigner(e){return function sign(t,r){checkIsSecretKey(r);t=normalizeInput(t);var s=i.createHmac("sha"+e,r);var n=(s.update(t),s.digest("base64"));return fromBase64(n)}}function createHmacVerifier(e){return function verify(t,r,i){var o=createHmacSigner(e)(t,i);return s(n.from(r),n.from(o))}}function createKeySigner(e){return function sign(t,r){checkIsPrivateKey(r);t=normalizeInput(t);var s=i.createSign("RSA-SHA"+e);var n=(s.update(t),s.sign(r,"base64"));return fromBase64(n)}}function createKeyVerifier(e){return function verify(t,r,s){checkIsPublicKey(s);t=normalizeInput(t);r=toBase64(r);var n=i.createVerify("RSA-SHA"+e);n.update(t);return n.verify(s,r,"base64")}}function createPSSKeySigner(e){return function sign(t,r){checkIsPrivateKey(r);t=normalizeInput(t);var s=i.createSign("RSA-SHA"+e);var n=(s.update(t),s.sign({key:r,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return fromBase64(n)}}function createPSSKeyVerifier(e){return function verify(t,r,s){checkIsPublicKey(s);t=normalizeInput(t);r=toBase64(r);var n=i.createVerify("RSA-SHA"+e);n.update(t);return n.verify({key:s,padding:i.constants.RSA_PKCS1_PSS_PADDING,saltLength:i.constants.RSA_PSS_SALTLEN_DIGEST},r,"base64")}}function createECDSASigner(e){var t=createKeySigner(e);return function sign(){var r=t.apply(null,arguments);r=o.derToJose(r,"ES"+e);return r}}function createECDSAVerifer(e){var t=createKeyVerifier(e);return function verify(r,s,n){s=o.joseToDer(s,"ES"+e).toString("base64");var i=t(r,s,n);return i}}function createNoneSigner(){return function sign(){return""}}function createNoneVerifier(){return function verify(e,t){return t===""}}e.exports=function jwa(e){var t={hs:createHmacSigner,rs:createKeySigner,ps:createPSSKeySigner,es:createECDSASigner,none:createNoneSigner};var r={hs:createHmacVerifier,rs:createKeyVerifier,ps:createPSSKeyVerifier,es:createECDSAVerifer,none:createNoneVerifier};var s=e.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!s)throw typeError(c,e);var n=(s[1]||s[3]).toLowerCase();var i=s[2];return{sign:t[n](i),verify:r[n](i)}}},4636:(e,t,r)=>{var s=r(3334);var n=r(5522);var i=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];t.ALGORITHMS=i;t.sign=s.sign;t.verify=n.verify;t.decode=n.decode;t.isValid=n.isValid;t.createSign=function createSign(e){return new s(e)};t.createVerify=function createVerify(e){return new n(e)}},1868:(e,t,r)=>{var s=r(1867).Buffer;var n=r(2781);var i=r(3837);function DataStream(e){this.buffer=null;this.writable=true;this.readable=true;if(!e){this.buffer=s.alloc(0);return this}if(typeof e.pipe==="function"){this.buffer=s.alloc(0);e.pipe(this);return this}if(e.length||typeof e==="object"){this.buffer=e;this.writable=false;process.nextTick(function(){this.emit("end",e);this.readable=false;this.emit("close")}.bind(this));return this}throw new TypeError("Unexpected data type ("+typeof e+")")}i.inherits(DataStream,n);DataStream.prototype.write=function write(e){this.buffer=s.concat([this.buffer,s.from(e)]);this.emit("data",e)};DataStream.prototype.end=function end(e){if(e)this.write(e);this.emit("end",e);this.emit("close");this.writable=false;this.readable=false};e.exports=DataStream},3334:(e,t,r)=>{var s=r(1867).Buffer;var n=r(1868);var i=r(6010);var o=r(2781);var a=r(5292);var c=r(3837);function base64url(e,t){return s.from(e,t).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jwsSecuredInput(e,t,r){r=r||"utf8";var s=base64url(a(e),"binary");var n=base64url(a(t),r);return c.format("%s.%s",s,n)}function jwsSign(e){var t=e.header;var r=e.payload;var s=e.secret||e.privateKey;var n=e.encoding;var o=i(t.alg);var a=jwsSecuredInput(t,r,n);var u=o.sign(a,s);return c.format("%s.%s",a,u)}function SignStream(e){var t=e.secret||e.privateKey||e.key;var r=new n(t);this.readable=true;this.header=e.header;this.encoding=e.encoding;this.secret=this.privateKey=this.key=r;this.payload=new n(e.payload);this.secret.once("close",function(){if(!this.payload.writable&&this.readable)this.sign()}.bind(this));this.payload.once("close",function(){if(!this.secret.writable&&this.readable)this.sign()}.bind(this))}c.inherits(SignStream,o);SignStream.prototype.sign=function sign(){try{var e=jwsSign({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});this.emit("done",e);this.emit("data",e);this.emit("end");this.readable=false;return e}catch(e){this.readable=false;this.emit("error",e);this.emit("close")}};SignStream.sign=jwsSign;e.exports=SignStream},5292:(e,t,r)=>{var s=r(4300).Buffer;e.exports=function toString(e){if(typeof e==="string")return e;if(typeof e==="number"||s.isBuffer(e))return e.toString();return JSON.stringify(e)}},5522:(e,t,r)=>{var s=r(1867).Buffer;var n=r(1868);var i=r(6010);var o=r(2781);var a=r(5292);var c=r(3837);var u=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function isObject(e){return Object.prototype.toString.call(e)==="[object Object]"}function safeJsonParse(e){if(isObject(e))return e;try{return JSON.parse(e)}catch(e){return undefined}}function headerFromJWS(e){var t=e.split(".",1)[0];return safeJsonParse(s.from(t,"base64").toString("binary"))}function securedInputFromJWS(e){return e.split(".",2).join(".")}function signatureFromJWS(e){return e.split(".")[2]}function payloadFromJWS(e,t){t=t||"utf8";var r=e.split(".")[1];return s.from(r,"base64").toString(t)}function isValidJws(e){return u.test(e)&&!!headerFromJWS(e)}function jwsVerify(e,t,r){if(!t){var s=new Error("Missing algorithm parameter for jws.verify");s.code="MISSING_ALGORITHM";throw s}e=a(e);var n=signatureFromJWS(e);var o=securedInputFromJWS(e);var c=i(t);return c.verify(o,n,r)}function jwsDecode(e,t){t=t||{};e=a(e);if(!isValidJws(e))return null;var r=headerFromJWS(e);if(!r)return null;var s=payloadFromJWS(e);if(r.typ==="JWT"||t.json)s=JSON.parse(s,t.encoding);return{header:r,payload:s,signature:signatureFromJWS(e)}}function VerifyStream(e){e=e||{};var t=e.secret||e.publicKey||e.key;var r=new n(t);this.readable=true;this.algorithm=e.algorithm;this.encoding=e.encoding;this.secret=this.publicKey=this.key=r;this.signature=new n(e.signature);this.secret.once("close",function(){if(!this.signature.writable&&this.readable)this.verify()}.bind(this));this.signature.once("close",function(){if(!this.secret.writable&&this.readable)this.verify()}.bind(this))}c.inherits(VerifyStream,o);VerifyStream.prototype.verify=function verify(){try{var e=jwsVerify(this.signature.buffer,this.algorithm,this.key.buffer);var t=jwsDecode(this.signature.buffer,this.encoding);this.emit("done",e,t);this.emit("data",e);this.emit("end");this.readable=false;return e}catch(e){this.readable=false;this.emit("error",e);this.emit("close")}};VerifyStream.decode=jwsDecode;VerifyStream.isValid=isValidJws;VerifyStream.verify=jwsVerify;e.exports=VerifyStream},1531:(e,t,r)=>{const s=r(2361);const n=r(2820);const loadStore=e=>{const t={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(e.adapter||e.uri){const r=e.adapter||/^[^:+]*/.exec(e.uri)[0];return new(require(t[r]))(e)}return new Map};const i=["sqlite","postgres","mysql","mongo","redis","tiered"];class Keyv extends s{constructor(e,{emitErrors:t=true,...r}={}){super();this.opts={namespace:"keyv",serialize:n.stringify,deserialize:n.parse,...typeof e==="string"?{uri:e}:e,...r};if(!this.opts.store){const e={...this.opts};this.opts.store=loadStore(e)}if(this.opts.compression){const e=this.opts.compression;this.opts.serialize=e.serialize.bind(e);this.opts.deserialize=e.deserialize.bind(e)}if(typeof this.opts.store.on==="function"&&t){this.opts.store.on("error",(e=>this.emit("error",e)))}this.opts.store.namespace=this.opts.namespace;const generateIterator=e=>async function*(){for await(const[t,r]of typeof e==="function"?e(this.opts.store.namespace):e){const e=await this.opts.deserialize(r);if(this.opts.store.namespace&&!t.includes(this.opts.store.namespace)){continue}if(typeof e.expires==="number"&&Date.now()>e.expires){this.delete(t);continue}yield[this._getKeyUnprefix(t),e.value]}};if(typeof this.opts.store[Symbol.iterator]==="function"&&this.opts.store instanceof Map){this.iterator=generateIterator(this.opts.store)}else if(typeof this.opts.store.iterator==="function"&&this.opts.store.opts&&this._checkIterableAdaptar()){this.iterator=generateIterator(this.opts.store.iterator.bind(this.opts.store))}}_checkIterableAdaptar(){return i.includes(this.opts.store.opts.dialect)||i.findIndex((e=>this.opts.store.opts.url.includes(e)))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map((e=>`${this.opts.namespace}:${e}`))}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,t){const{store:r}=this.opts;const s=Array.isArray(e);const n=s?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(s&&r.getMany===undefined){const e=[];for(const s of n){e.push(Promise.resolve().then((()=>r.get(s))).then((e=>typeof e==="string"?this.opts.deserialize(e):this.opts.compression?this.opts.deserialize(e):e)).then((e=>{if(e===undefined||e===null){return undefined}if(typeof e.expires==="number"&&Date.now()>e.expires){return this.delete(s).then((()=>undefined))}return t&&t.raw?e:e.value})))}return Promise.allSettled(e).then((e=>{const t=[];for(const r of e){t.push(r.value)}return t}))}return Promise.resolve().then((()=>s?r.getMany(n):r.get(n))).then((e=>typeof e==="string"?this.opts.deserialize(e):this.opts.compression?this.opts.deserialize(e):e)).then((r=>{if(r===undefined||r===null){return undefined}if(s){const s=[];for(let n of r){if(typeof n==="string"){n=this.opts.deserialize(n)}if(n===undefined||n===null){s.push(undefined);continue}if(typeof n.expires==="number"&&Date.now()>n.expires){this.delete(e).then((()=>undefined));s.push(undefined)}else{s.push(t&&t.raw?n:n.value)}}return s}if(typeof r.expires==="number"&&Date.now()>r.expires){return this.delete(e).then((()=>undefined))}return t&&t.raw?r:r.value}))}set(e,t,r){const s=this._getKeyPrefix(e);if(typeof r==="undefined"){r=this.opts.ttl}if(r===0){r=undefined}const{store:n}=this.opts;return Promise.resolve().then((()=>{const e=typeof r==="number"?Date.now()+r:null;if(typeof t==="symbol"){this.emit("error","symbol cannot be serialized")}t={value:t,expires:e};return this.opts.serialize(t)})).then((e=>n.set(s,e,r))).then((()=>true))}delete(e){const{store:t}=this.opts;if(Array.isArray(e)){const r=this._getKeyPrefixArray(e);if(t.deleteMany===undefined){const e=[];for(const s of r){e.push(t.delete(s))}return Promise.allSettled(e).then((e=>e.every((e=>e.value===true))))}return Promise.resolve().then((()=>t.deleteMany(r)))}const r=this._getKeyPrefix(e);return Promise.resolve().then((()=>t.delete(r)))}clear(){const{store:e}=this.opts;return Promise.resolve().then((()=>e.clear()))}has(e){const t=this._getKeyPrefix(e);const{store:r}=this.opts;return Promise.resolve().then((async()=>{if(typeof r.has==="function"){return r.has(t)}const e=await r.get(t);return e!==undefined}))}disconnect(){const{store:e}=this.opts;if(typeof e.disconnect==="function"){return e.disconnect()}}}e.exports=Keyv},7931:e=>{var t=1/0,r=9007199254740991,s=17976931348623157e292,n=0/0;var i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",c="[object String]",u="[object Symbol]";var l=/^\s+|\s+$/g;var f=/^[-+]0x[0-9a-f]+$/i;var h=/^0b[01]+$/i;var d=/^0o[0-7]+$/i;var p=/^(?:0|[1-9]\d*)$/;var m=parseInt;function arrayMap(e,t){var r=-1,s=e?e.length:0,n=Array(s);while(++r<s){n[r]=t(e[r],r,e)}return n}function baseFindIndex(e,t,r,s){var n=e.length,i=r+(s?1:-1);while(s?i--:++i<n){if(t(e[i],i,e)){return i}}return-1}function baseIndexOf(e,t,r){if(t!==t){return baseFindIndex(e,baseIsNaN,r)}var s=r-1,n=e.length;while(++s<n){if(e[s]===t){return s}}return-1}function baseIsNaN(e){return e!==e}function baseTimes(e,t){var r=-1,s=Array(e);while(++r<e){s[r]=t(r)}return s}function baseValues(e,t){return arrayMap(t,(function(t){return e[t]}))}function overArg(e,t){return function(r){return e(t(r))}}var y=Object.prototype;var g=y.hasOwnProperty;var b=y.toString;var w=y.propertyIsEnumerable;var v=overArg(Object.keys,Object),E=Math.max;function arrayLikeKeys(e,t){var r=_(e)||isArguments(e)?baseTimes(e.length,String):[];var s=r.length,n=!!s;for(var i in e){if((t||g.call(e,i))&&!(n&&(i=="length"||isIndex(i,s)))){r.push(i)}}return r}function baseKeys(e){if(!isPrototype(e)){return v(e)}var t=[];for(var r in Object(e)){if(g.call(e,r)&&r!="constructor"){t.push(r)}}return t}function isIndex(e,t){t=t==null?r:t;return!!t&&(typeof e=="number"||p.test(e))&&(e>-1&&e%1==0&&e<t)}function isPrototype(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||y;return e===r}function includes(e,t,r,s){e=isArrayLike(e)?e:values(e);r=r&&!s?toInteger(r):0;var n=e.length;if(r<0){r=E(n+r,0)}return isString(e)?r<=n&&e.indexOf(t,r)>-1:!!n&&baseIndexOf(e,t,r)>-1}function isArguments(e){return isArrayLikeObject(e)&&g.call(e,"callee")&&(!w.call(e,"callee")||b.call(e)==i)}var _=Array.isArray;function isArrayLike(e){return e!=null&&isLength(e.length)&&!isFunction(e)}function isArrayLikeObject(e){return isObjectLike(e)&&isArrayLike(e)}function isFunction(e){var t=isObject(e)?b.call(e):"";return t==o||t==a}function isLength(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=r}function isObject(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isString(e){return typeof e=="string"||!_(e)&&isObjectLike(e)&&b.call(e)==c}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&b.call(e)==u}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===t||e===-t){var r=e<0?-1:1;return r*s}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return n}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(l,"");var r=h.test(e);return r||d.test(e)?m(e.slice(2),r?2:8):f.test(e)?n:+e}function keys(e){return isArrayLike(e)?arrayLikeKeys(e):baseKeys(e)}function values(e){return e?baseValues(e,keys(e)):[]}e.exports=includes},6501:e=>{var t="[object Boolean]";var r=Object.prototype;var s=r.toString;function isBoolean(e){return e===true||e===false||isObjectLike(e)&&s.call(e)==t}function isObjectLike(e){return!!e&&typeof e=="object"}e.exports=isBoolean},1441:e=>{var t=1/0,r=17976931348623157e292,s=0/0;var n="[object Symbol]";var i=/^\s+|\s+$/g;var o=/^[-+]0x[0-9a-f]+$/i;var a=/^0b[01]+$/i;var c=/^0o[0-7]+$/i;var u=parseInt;var l=Object.prototype;var f=l.toString;function isInteger(e){return typeof e=="number"&&e==toInteger(e)}function isObject(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&f.call(e)==n}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===t||e===-t){var s=e<0?-1:1;return s*r}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return s}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(i,"");var r=a.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):o.test(e)?s:+e}e.exports=isInteger},298:e=>{var t="[object Number]";var r=Object.prototype;var s=r.toString;function isObjectLike(e){return!!e&&typeof e=="object"}function isNumber(e){return typeof e=="number"||isObjectLike(e)&&s.call(e)==t}e.exports=isNumber},5723:e=>{var t="[object Object]";function isHostObject(e){var t=false;if(e!=null&&typeof e.toString!="function"){try{t=!!(e+"")}catch(e){}}return t}function overArg(e,t){return function(r){return e(t(r))}}var r=Function.prototype,s=Object.prototype;var n=r.toString;var i=s.hasOwnProperty;var o=n.call(Object);var a=s.toString;var c=overArg(Object.getPrototypeOf,Object);function isObjectLike(e){return!!e&&typeof e=="object"}function isPlainObject(e){if(!isObjectLike(e)||a.call(e)!=t||isHostObject(e)){return false}var r=c(e);if(r===null){return true}var s=i.call(r,"constructor")&&r.constructor;return typeof s=="function"&&s instanceof s&&n.call(s)==o}e.exports=isPlainObject},5180:e=>{var t="[object String]";var r=Object.prototype;var s=r.toString;var n=Array.isArray;function isObjectLike(e){return!!e&&typeof e=="object"}function isString(e){return typeof e=="string"||!n(e)&&isObjectLike(e)&&s.call(e)==t}e.exports=isString},4499:e=>{var t="Expected a function";var r=1/0,s=17976931348623157e292,n=0/0;var i="[object Symbol]";var o=/^\s+|\s+$/g;var a=/^[-+]0x[0-9a-f]+$/i;var c=/^0b[01]+$/i;var u=/^0o[0-7]+$/i;var l=parseInt;var f=Object.prototype;var h=f.toString;function before(e,r){var s;if(typeof r!="function"){throw new TypeError(t)}e=toInteger(e);return function(){if(--e>0){s=r.apply(this,arguments)}if(e<=1){r=undefined}return s}}function once(e){return before(2,e)}function isObject(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function isObjectLike(e){return!!e&&typeof e=="object"}function isSymbol(e){return typeof e=="symbol"||isObjectLike(e)&&h.call(e)==i}function toFinite(e){if(!e){return e===0?e:0}e=toNumber(e);if(e===r||e===-r){var t=e<0?-1:1;return t*s}return e===e?e:0}function toInteger(e){var t=toFinite(e),r=t%1;return t===t?r?t-r:t:0}function toNumber(e){if(typeof e=="number"){return e}if(isSymbol(e)){return n}if(isObject(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=isObject(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=e.replace(o,"");var r=c.test(e);return r||u.test(e)?l(e.slice(2),r?2:8):a.test(e)?n:+e}e.exports=once},900:e=>{var t=1e3;var r=t*60;var s=r*60;var n=s*24;var i=n*7;var o=n*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!a){return}var c=parseFloat(a[1]);var u=(a[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return c*o;case"weeks":case"week":case"w":return c*i;case"days":case"day":case"d":return c*n;case"hours":case"hour":case"hrs":case"hr":case"h":return c*s;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return undefined}}function fmtShort(e){var i=Math.abs(e);if(i>=n){return Math.round(e/n)+"d"}if(i>=s){return Math.round(e/s)+"h"}if(i>=r){return Math.round(e/r)+"m"}if(i>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var i=Math.abs(e);if(i>=n){return plural(e,i,n,"day")}if(i>=s){return plural(e,i,s,"hour")}if(i>=r){return plural(e,i,r,"minute")}if(i>=t){return plural(e,i,t,"second")}return e+" ms"}function plural(e,t,r,s){var n=t>=r*1.5;return Math.round(e/r)+" "+s+(n?"s":"")}},9273:e=>{class QuickLRU{constructor(e={}){if(!(e.maxSize&&e.maxSize>0)){throw new TypeError("`maxSize` must be a number greater than 0")}this.maxSize=e.maxSize;this.onEviction=e.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=0}_set(e,t){this.cache.set(e,t);this._size++;if(this._size>=this.maxSize){this._size=0;if(typeof this.onEviction==="function"){for(const[e,t]of this.oldCache.entries()){this.onEviction(e,t)}}this.oldCache=this.cache;this.cache=new Map}}get(e){if(this.cache.has(e)){return this.cache.get(e)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);this.oldCache.delete(e);this._set(e,t);return t}}set(e,t){if(this.cache.has(e)){this.cache.set(e,t)}else{this._set(e,t)}return this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e)){return this.cache.get(e)}if(this.oldCache.has(e)){return this.oldCache.get(e)}}delete(e){const t=this.cache.delete(e);if(t){this._size--}return this.oldCache.delete(e)||t}clear(){this.cache.clear();this.oldCache.clear();this._size=0}*keys(){for(const[e]of this){yield e}}*values(){for(const[,e]of this){yield e}}*[Symbol.iterator](){for(const e of this.cache){yield e}for(const e of this.oldCache){const[t]=e;if(!this.cache.has(t)){yield e}}}get size(){let e=0;for(const t of this.oldCache.keys()){if(!this.cache.has(t)){e++}}return Math.min(this._size+e,this.maxSize)}}e.exports=QuickLRU},6624:(e,t,r)=>{const s=r(4404);e.exports=(e={},t=s.connect)=>new Promise(((r,s)=>{let n=false;let i;const callback=async()=>{await o;i.off("timeout",onTimeout);i.off("error",s);if(e.resolveSocket){r({alpnProtocol:i.alpnProtocol,socket:i,timeout:n});if(n){await Promise.resolve();i.emit("timeout")}}else{i.destroy();r({alpnProtocol:i.alpnProtocol,timeout:n})}};const onTimeout=async()=>{n=true;callback()};const o=(async()=>{try{i=await t(e,callback);i.on("error",s);i.once("timeout",onTimeout)}catch(e){s(e)}})()}))},1867:(e,t,r)=>{
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var s=r(4300);var n=s.Buffer;function copyProps(e,t){for(var r in e){t[r]=e[r]}}if(n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow){e.exports=s}else{copyProps(s,t);t.Buffer=SafeBuffer}function SafeBuffer(e,t,r){return n(e,t,r)}SafeBuffer.prototype=Object.create(n.prototype);copyProps(n,SafeBuffer);SafeBuffer.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return n(e,t,r)};SafeBuffer.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var s=n(e);if(t!==undefined){if(typeof r==="string"){s.fill(t,r)}else{s.fill(t)}}else{s.fill(0)}return s};SafeBuffer.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n(e)};SafeBuffer.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return s.SlowBuffer(e)}},1532:(e,t,r)=>{const s=Symbol("SemVer ANY");class Comparator{static get ANY(){return s}constructor(e,t){t=n(t);if(e instanceof Comparator){if(e.loose===!!t.loose){return e}else{e=e.value}}e=e.trim().split(/\s+/).join(" ");c("comparator",e,t);this.options=t;this.loose=!!t.loose;this.parse(e);if(this.semver===s){this.value=""}else{this.value=this.operator+this.semver.version}c("comp",this)}parse(e){const t=this.options.loose?i[o.COMPARATORLOOSE]:i[o.COMPARATOR];const r=e.match(t);if(!r){throw new TypeError(`Invalid comparator: ${e}`)}this.operator=r[1]!==undefined?r[1]:"";if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=s}else{this.semver=new u(r[2],this.options.loose)}}toString(){return this.value}test(e){c("Comparator.test",e,this.options.loose);if(this.semver===s||e===s){return true}if(typeof e==="string"){try{e=new u(e,this.options)}catch(e){return false}}return a(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator)){throw new TypeError("a Comparator is required")}if(this.operator===""){if(this.value===""){return true}return new l(e.value,t).test(this.value)}else if(e.operator===""){if(e.value===""){return true}return new l(this.value,t).test(e.semver)}t=n(t);if(t.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")){return false}if(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))){return false}if(this.operator.startsWith(">")&&e.operator.startsWith(">")){return true}if(this.operator.startsWith("<")&&e.operator.startsWith("<")){return true}if(this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")){return true}if(a(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<")){return true}if(a(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")){return true}return false}}e.exports=Comparator;const n=r(785);const{safeRe:i,t:o}=r(9523);const a=r(5098);const c=r(427);const u=r(8088);const l=r(9828)},9828:(e,t,r)=>{class Range{constructor(e,t){t=i(t);if(e instanceof Range){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{return new Range(e.raw,t)}}if(e instanceof o){this.raw=e.value;this.set=[[e]];this.format();return this}this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;this.raw=e.trim().split(/\s+/).join(" ");this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${this.raw}`)}if(this.set.length>1){const e=this.set[0];this.set=this.set.filter((e=>!isNullSet(e[0])));if(this.set.length===0){this.set=[e]}else if(this.set.length>1){for(const e of this.set){if(e.length===1&&isAny(e[0])){this.set=[e];break}}}}this.format()}format(){this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim();return this.range}toString(){return this.range}parseRange(e){const t=(this.options.includePrerelease&&p)|(this.options.loose&&m);const r=t+":"+e;const s=n.get(r);if(s){return s}const i=this.options.loose;const c=i?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(c,hyphenReplace(this.options.includePrerelease));a("hyphen replace",e);e=e.replace(u[l.COMPARATORTRIM],f);a("comparator trim",e);e=e.replace(u[l.TILDETRIM],h);a("tilde trim",e);e=e.replace(u[l.CARETTRIM],d);a("caret trim",e);let y=e.split(" ").map((e=>parseComparator(e,this.options))).join(" ").split(/\s+/).map((e=>replaceGTE0(e,this.options)));if(i){y=y.filter((e=>{a("loose invalid filter",e,this.options);return!!e.match(u[l.COMPARATORLOOSE])}))}a("range list",y);const g=new Map;const b=y.map((e=>new o(e,this.options)));for(const e of b){if(isNullSet(e)){return[e]}g.set(e.value,e)}if(g.size>1&&g.has("")){g.delete("")}const w=[...g.values()];n.set(r,w);return w}intersects(e,t){if(!(e instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((r=>isSatisfiable(r,t)&&e.set.some((e=>isSatisfiable(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e){return false}if(typeof e==="string"){try{e=new c(e,this.options)}catch(e){return false}}for(let t=0;t<this.set.length;t++){if(testSet(this.set[t],e,this.options)){return true}}return false}}e.exports=Range;const s=r(1196);const n=new s({max:1e3});const i=r(785);const o=r(1532);const a=r(427);const c=r(8088);const{safeRe:u,t:l,comparatorTrimReplace:f,tildeTrimReplace:h,caretTrimReplace:d}=r(9523);const{FLAG_INCLUDE_PRERELEASE:p,FLAG_LOOSE:m}=r(2293);const isNullSet=e=>e.value==="<0.0.0-0";const isAny=e=>e.value==="";const isSatisfiable=(e,t)=>{let r=true;const s=e.slice();let n=s.pop();while(r&&s.length){r=s.every((e=>n.intersects(e,t)));n=s.pop()}return r};const parseComparator=(e,t)=>{a("comp",e,t);e=replaceCarets(e,t);a("caret",e);e=replaceTildes(e,t);a("tildes",e);e=replaceXRanges(e,t);a("xrange",e);e=replaceStars(e,t);a("stars",e);return e};const isX=e=>!e||e.toLowerCase()==="x"||e==="*";const replaceTildes=(e,t)=>e.trim().split(/\s+/).map((e=>replaceTilde(e,t))).join(" ");const replaceTilde=(e,t)=>{const r=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(r,((t,r,s,n,i)=>{a("tilde",e,t,r,s,n,i);let o;if(isX(r)){o=""}else if(isX(s)){o=`>=${r}.0.0 <${+r+1}.0.0-0`}else if(isX(n)){o=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`}else if(i){a("replaceTilde pr",i);o=`>=${r}.${s}.${n}-${i} <${r}.${+s+1}.0-0`}else{o=`>=${r}.${s}.${n} <${r}.${+s+1}.0-0`}a("tilde return",o);return o}))};const replaceCarets=(e,t)=>e.trim().split(/\s+/).map((e=>replaceCaret(e,t))).join(" ");const replaceCaret=(e,t)=>{a("caret",e,t);const r=t.loose?u[l.CARETLOOSE]:u[l.CARET];const s=t.includePrerelease?"-0":"";return e.replace(r,((t,r,n,i,o)=>{a("caret",e,t,r,n,i,o);let c;if(isX(r)){c=""}else if(isX(n)){c=`>=${r}.0.0${s} <${+r+1}.0.0-0`}else if(isX(i)){if(r==="0"){c=`>=${r}.${n}.0${s} <${r}.${+n+1}.0-0`}else{c=`>=${r}.${n}.0${s} <${+r+1}.0.0-0`}}else if(o){a("replaceCaret pr",o);if(r==="0"){if(n==="0"){c=`>=${r}.${n}.${i}-${o} <${r}.${n}.${+i+1}-0`}else{c=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`}}else{c=`>=${r}.${n}.${i}-${o} <${+r+1}.0.0-0`}}else{a("no pr");if(r==="0"){if(n==="0"){c=`>=${r}.${n}.${i}${s} <${r}.${n}.${+i+1}-0`}else{c=`>=${r}.${n}.${i}${s} <${r}.${+n+1}.0-0`}}else{c=`>=${r}.${n}.${i} <${+r+1}.0.0-0`}}a("caret return",c);return c}))};const replaceXRanges=(e,t)=>{a("replaceXRanges",e,t);return e.split(/\s+/).map((e=>replaceXRange(e,t))).join(" ")};const replaceXRange=(e,t)=>{e=e.trim();const r=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(r,((r,s,n,i,o,c)=>{a("xRange",e,r,s,n,i,o,c);const u=isX(n);const l=u||isX(i);const f=l||isX(o);const h=f;if(s==="="&&h){s=""}c=t.includePrerelease?"-0":"";if(u){if(s===">"||s==="<"){r="<0.0.0-0"}else{r="*"}}else if(s&&h){if(l){i=0}o=0;if(s===">"){s=">=";if(l){n=+n+1;i=0;o=0}else{i=+i+1;o=0}}else if(s==="<="){s="<";if(l){n=+n+1}else{i=+i+1}}if(s==="<"){c="-0"}r=`${s+n}.${i}.${o}${c}`}else if(l){r=`>=${n}.0.0${c} <${+n+1}.0.0-0`}else if(f){r=`>=${n}.${i}.0${c} <${n}.${+i+1}.0-0`}a("xRange return",r);return r}))};const replaceStars=(e,t)=>{a("replaceStars",e,t);return e.trim().replace(u[l.STAR],"")};const replaceGTE0=(e,t)=>{a("replaceGTE0",e,t);return e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")};const hyphenReplace=e=>(t,r,s,n,i,o,a,c,u,l,f,h,d)=>{if(isX(s)){r=""}else if(isX(n)){r=`>=${s}.0.0${e?"-0":""}`}else if(isX(i)){r=`>=${s}.${n}.0${e?"-0":""}`}else if(o){r=`>=${r}`}else{r=`>=${r}${e?"-0":""}`}if(isX(u)){c=""}else if(isX(l)){c=`<${+u+1}.0.0-0`}else if(isX(f)){c=`<${u}.${+l+1}.0-0`}else if(h){c=`<=${u}.${l}.${f}-${h}`}else if(e){c=`<${u}.${l}.${+f+1}-0`}else{c=`<=${c}`}return`${r} ${c}`.trim()};const testSet=(e,t,r)=>{for(let r=0;r<e.length;r++){if(!e[r].test(t)){return false}}if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++){a(e[r].semver);if(e[r].semver===o.ANY){continue}if(e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch){return true}}}return false}return true}},8088:(e,t,r)=>{const s=r(427);const{MAX_LENGTH:n,MAX_SAFE_INTEGER:i}=r(2293);const{safeRe:o,t:a}=r(9523);const c=r(785);const{compareIdentifiers:u}=r(2463);class SemVer{constructor(e,t){t=c(t);if(e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{e=e.version}}else if(typeof e!=="string"){throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`)}if(e.length>n){throw new TypeError(`version is longer than ${n} characters`)}s("SemVer",e,t);this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r){throw new TypeError(`Invalid Version: ${e}`)}this.raw=e;this.major=+r[1];this.minor=+r[2];this.patch=+r[3];if(this.major>i||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>i||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>i||this.patch<0){throw new TypeError("Invalid patch version")}if(!r[4]){this.prerelease=[]}else{this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i){return t}}return e}))}this.build=r[5]?r[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(e){s("SemVer.compare",this.version,this.options,e);if(!(e instanceof SemVer)){if(typeof e==="string"&&e===this.version){return 0}e=new SemVer(e,this.options)}if(e.version===this.version){return 0}return this.compareMain(e)||this.comparePre(e)}compareMain(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}return u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}if(this.prerelease.length&&!e.prerelease.length){return-1}else if(!this.prerelease.length&&e.prerelease.length){return 1}else if(!this.prerelease.length&&!e.prerelease.length){return 0}let t=0;do{const r=this.prerelease[t];const n=e.prerelease[t];s("prerelease compare",t,r,n);if(r===undefined&&n===undefined){return 0}else if(n===undefined){return 1}else if(r===undefined){return-1}else if(r===n){continue}else{return u(r,n)}}while(++t)}compareBuild(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}let t=0;do{const r=this.build[t];const n=e.build[t];s("prerelease compare",t,r,n);if(r===undefined&&n===undefined){return 0}else if(n===undefined){return 1}else if(r===undefined){return-1}else if(r===n){continue}else{return u(r,n)}}while(++t)}inc(e,t,r){switch(e){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",t,r);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",t,r);break;case"prepatch":this.prerelease.length=0;this.inc("patch",t,r);this.inc("pre",t,r);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",t,r)}this.inc("pre",t,r);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":{const e=Number(r)?1:0;if(!t&&r===false){throw new Error("invalid increment argument: identifier is empty")}if(this.prerelease.length===0){this.prerelease=[e]}else{let s=this.prerelease.length;while(--s>=0){if(typeof this.prerelease[s]==="number"){this.prerelease[s]++;s=-2}}if(s===-1){if(t===this.prerelease.join(".")&&r===false){throw new Error("invalid increment argument: identifier already exists")}this.prerelease.push(e)}}if(t){let s=[t,e];if(r===false){s=[t]}if(u(this.prerelease[0],t)===0){if(isNaN(this.prerelease[1])){this.prerelease=s}}else{this.prerelease=s}}break}default:throw new Error(`invalid increment argument: ${e}`)}this.raw=this.format();if(this.build.length){this.raw+=`+${this.build.join(".")}`}return this}}e.exports=SemVer},8848:(e,t,r)=>{const s=r(5925);const clean=(e,t)=>{const r=s(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};e.exports=clean},5098:(e,t,r)=>{const s=r(1898);const n=r(6017);const i=r(4123);const o=r(5930);const a=r(194);const c=r(7520);const cmp=(e,t,r,u)=>{switch(t){case"===":if(typeof e==="object"){e=e.version}if(typeof r==="object"){r=r.version}return e===r;case"!==":if(typeof e==="object"){e=e.version}if(typeof r==="object"){r=r.version}return e!==r;case"":case"=":case"==":return s(e,r,u);case"!=":return n(e,r,u);case">":return i(e,r,u);case">=":return o(e,r,u);case"<":return a(e,r,u);case"<=":return c(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}};e.exports=cmp},3466:(e,t,r)=>{const s=r(8088);const n=r(5925);const{safeRe:i,t:o}=r(9523);const coerce=(e,t)=>{if(e instanceof s){return e}if(typeof e==="number"){e=String(e)}if(typeof e!=="string"){return null}t=t||{};let r=null;if(!t.rtl){r=e.match(i[o.COERCE])}else{let t;while((t=i[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length)){if(!r||t.index+t[0].length!==r.index+r[0].length){r=t}i[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length}i[o.COERCERTL].lastIndex=-1}if(r===null){return null}return n(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};e.exports=coerce},2156:(e,t,r)=>{const s=r(8088);const compareBuild=(e,t,r)=>{const n=new s(e,r);const i=new s(t,r);return n.compare(i)||n.compareBuild(i)};e.exports=compareBuild},2804:(e,t,r)=>{const s=r(4309);const compareLoose=(e,t)=>s(e,t,true);e.exports=compareLoose},4309:(e,t,r)=>{const s=r(8088);const compare=(e,t,r)=>new s(e,r).compare(new s(t,r));e.exports=compare},4297:(e,t,r)=>{const s=r(5925);const diff=(e,t)=>{const r=s(e,null,true);const n=s(t,null,true);const i=r.compare(n);if(i===0){return null}const o=i>0;const a=o?r:n;const c=o?n:r;const u=!!a.prerelease.length;const l=!!c.prerelease.length;if(l&&!u){if(!c.patch&&!c.minor){return"major"}if(a.patch){return"patch"}if(a.minor){return"minor"}return"major"}const f=u?"pre":"";if(r.major!==n.major){return f+"major"}if(r.minor!==n.minor){return f+"minor"}if(r.patch!==n.patch){return f+"patch"}return"prerelease"};e.exports=diff},1898:(e,t,r)=>{const s=r(4309);const eq=(e,t,r)=>s(e,t,r)===0;e.exports=eq},4123:(e,t,r)=>{const s=r(4309);const gt=(e,t,r)=>s(e,t,r)>0;e.exports=gt},5930:(e,t,r)=>{const s=r(4309);const gte=(e,t,r)=>s(e,t,r)>=0;e.exports=gte},929:(e,t,r)=>{const s=r(8088);const inc=(e,t,r,n,i)=>{if(typeof r==="string"){i=n;n=r;r=undefined}try{return new s(e instanceof s?e.version:e,r).inc(t,n,i).version}catch(e){return null}};e.exports=inc},194:(e,t,r)=>{const s=r(4309);const lt=(e,t,r)=>s(e,t,r)<0;e.exports=lt},7520:(e,t,r)=>{const s=r(4309);const lte=(e,t,r)=>s(e,t,r)<=0;e.exports=lte},6688:(e,t,r)=>{const s=r(8088);const major=(e,t)=>new s(e,t).major;e.exports=major},8447:(e,t,r)=>{const s=r(8088);const minor=(e,t)=>new s(e,t).minor;e.exports=minor},6017:(e,t,r)=>{const s=r(4309);const neq=(e,t,r)=>s(e,t,r)!==0;e.exports=neq},5925:(e,t,r)=>{const s=r(8088);const parse=(e,t,r=false)=>{if(e instanceof s){return e}try{return new s(e,t)}catch(e){if(!r){return null}throw e}};e.exports=parse},2866:(e,t,r)=>{const s=r(8088);const patch=(e,t)=>new s(e,t).patch;e.exports=patch},4016:(e,t,r)=>{const s=r(5925);const prerelease=(e,t)=>{const r=s(e,t);return r&&r.prerelease.length?r.prerelease:null};e.exports=prerelease},6417:(e,t,r)=>{const s=r(4309);const rcompare=(e,t,r)=>s(t,e,r);e.exports=rcompare},8701:(e,t,r)=>{const s=r(2156);const rsort=(e,t)=>e.sort(((e,r)=>s(r,e,t)));e.exports=rsort},6055:(e,t,r)=>{const s=r(9828);const satisfies=(e,t,r)=>{try{t=new s(t,r)}catch(e){return false}return t.test(e)};e.exports=satisfies},1426:(e,t,r)=>{const s=r(2156);const sort=(e,t)=>e.sort(((e,r)=>s(e,r,t)));e.exports=sort},9601:(e,t,r)=>{const s=r(5925);const valid=(e,t)=>{const r=s(e,t);return r?r.version:null};e.exports=valid},1383:(e,t,r)=>{const s=r(9523);const n=r(2293);const i=r(8088);const o=r(2463);const a=r(5925);const c=r(9601);const u=r(8848);const l=r(929);const f=r(4297);const h=r(6688);const d=r(8447);const p=r(2866);const m=r(4016);const y=r(4309);const g=r(6417);const b=r(2804);const w=r(2156);const v=r(1426);const E=r(8701);const _=r(4123);const S=r(194);const O=r(1898);const A=r(6017);const R=r(5930);const T=r(7520);const x=r(5098);const k=r(3466);const P=r(1532);const C=r(9828);const I=r(6055);const j=r(2706);const N=r(579);const L=r(832);const $=r(4179);const M=r(2098);const q=r(420);const H=r(9380);const U=r(3323);const D=r(7008);const B=r(5297);const F=r(7863);e.exports={parse:a,valid:c,clean:u,inc:l,diff:f,major:h,minor:d,patch:p,prerelease:m,compare:y,rcompare:g,compareLoose:b,compareBuild:w,sort:v,rsort:E,gt:_,lt:S,eq:O,neq:A,gte:R,lte:T,cmp:x,coerce:k,Comparator:P,Range:C,satisfies:I,toComparators:j,maxSatisfying:N,minSatisfying:L,minVersion:$,validRange:M,outside:q,gtr:H,ltr:U,intersects:D,simplifyRange:B,subset:F,SemVer:i,re:s.re,src:s.src,tokens:s.t,SEMVER_SPEC_VERSION:n.SEMVER_SPEC_VERSION,RELEASE_TYPES:n.RELEASE_TYPES,compareIdentifiers:o.compareIdentifiers,rcompareIdentifiers:o.rcompareIdentifiers}},2293:e=>{const t="2.0.0";const r=256;const s=Number.MAX_SAFE_INTEGER||9007199254740991;const n=16;const i=r-6;const o=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:r,MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:i,MAX_SAFE_INTEGER:s,RELEASE_TYPES:o,SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},427:e=>{const t=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},2463:e=>{const t=/^[0-9]+$/;const compareIdentifiers=(e,r)=>{const s=t.test(e);const n=t.test(r);if(s&&n){e=+e;r=+r}return e===r?0:s&&!n?-1:n&&!s?1:e<r?-1:1};const rcompareIdentifiers=(e,t)=>compareIdentifiers(t,e);e.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},785:e=>{const t=Object.freeze({loose:true});const r=Object.freeze({});const parseOptions=e=>{if(!e){return r}if(typeof e!=="object"){return t}return e};e.exports=parseOptions},9523:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:s,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=r(2293);const o=r(427);t=e.exports={};const a=t.re=[];const c=t.safeRe=[];const u=t.src=[];const l=t.t={};let f=0;const h="[a-zA-Z0-9-]";const d=[["\\s",1],["\\d",i],[h,n]];const makeSafeRegex=e=>{for(const[t,r]of d){e=e.split(`${t}*`).join(`${t}{0,${r}}`).split(`${t}+`).join(`${t}{1,${r}}`)}return e};const createToken=(e,t,r)=>{const s=makeSafeRegex(t);const n=f++;o(e,n,t);l[e]=n;u[n]=t;a[n]=new RegExp(t,r?"g":undefined);c[n]=new RegExp(s,r?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","\\d+");createToken("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${h}*`);createToken("MAINVERSION",`(${u[l.NUMERICIDENTIFIER]})\\.`+`(${u[l.NUMERICIDENTIFIER]})\\.`+`(${u[l.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.`+`(${u[l.NUMERICIDENTIFIERLOOSE]})\\.`+`(${u[l.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${u[l.NUMERICIDENTIFIER]}|${u[l.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${u[l.NUMERICIDENTIFIERLOOSE]}|${u[l.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${u[l.PRERELEASEIDENTIFIER]}(?:\\.${u[l.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${u[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${u[l.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER",`${h}+`);createToken("BUILD",`(?:\\+(${u[l.BUILDIDENTIFIER]}(?:\\.${u[l.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${u[l.MAINVERSION]}${u[l.PRERELEASE]}?${u[l.BUILD]}?`);createToken("FULL",`^${u[l.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${u[l.MAINVERSIONLOOSE]}${u[l.PRERELEASELOOSE]}?${u[l.BUILD]}?`);createToken("LOOSE",`^${u[l.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${u[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${u[l.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${u[l.XRANGEIDENTIFIER]})`+`(?:\\.(${u[l.XRANGEIDENTIFIER]})`+`(?:\\.(${u[l.XRANGEIDENTIFIER]})`+`(?:${u[l.PRERELEASE]})?${u[l.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${u[l.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${u[l.XRANGEIDENTIFIERLOOSE]})`+`(?:${u[l.PRERELEASELOOSE]})?${u[l.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${u[l.GTLT]}\\s*${u[l.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${s}})`+`(?:\\.(\\d{1,${s}}))?`+`(?:\\.(\\d{1,${s}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",u[l.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${u[l.LONETILDE]}\\s+`,true);t.tildeTrimReplace="$1~";createToken("TILDE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${u[l.LONETILDE]}${u[l.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${u[l.LONECARET]}\\s+`,true);t.caretTrimReplace="$1^";createToken("CARET",`^${u[l.LONECARET]}${u[l.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${u[l.LONECARET]}${u[l.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${u[l.GTLT]}\\s*(${u[l.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${u[l.GTLT]}\\s*(${u[l.LOOSEPLAIN]}|${u[l.XRANGEPLAIN]})`,true);t.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${u[l.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${u[l.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${u[l.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${u[l.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},1196:(e,t,r)=>{const s=r(220);const n=Symbol("max");const i=Symbol("length");const o=Symbol("lengthCalculator");const a=Symbol("allowStale");const c=Symbol("maxAge");const u=Symbol("dispose");const l=Symbol("noDisposeOnSet");const f=Symbol("lruList");const h=Symbol("cache");const d=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(e){if(typeof e==="number")e={max:e};if(!e)e={};if(e.max&&(typeof e.max!=="number"||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[n]=e.max||Infinity;const r=e.length||naiveLength;this[o]=typeof r!=="function"?naiveLength:r;this[a]=e.stale||false;if(e.maxAge&&typeof e.maxAge!=="number")throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0;this[u]=e.dispose;this[l]=e.noDisposeOnSet||false;this[d]=e.updateAgeOnGet||false;this.reset()}set max(e){if(typeof e!=="number"||e<0)throw new TypeError("max must be a non-negative number");this[n]=e||Infinity;trim(this)}get max(){return this[n]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if(typeof e!=="number")throw new TypeError("maxAge must be a non-negative number");this[c]=e;trim(this)}get maxAge(){return this[c]}set lengthCalculator(e){if(typeof e!=="function")e=naiveLength;if(e!==this[o]){this[o]=e;this[i]=0;this[f].forEach((e=>{e.length=this[o](e.value,e.key);this[i]+=e.length}))}trim(this)}get lengthCalculator(){return this[o]}get length(){return this[i]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;r!==null;){const s=r.prev;forEachStep(this,e,r,t);r=s}}forEach(e,t){t=t||this;for(let r=this[f].head;r!==null;){const s=r.next;forEachStep(this,e,r,t);r=s}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){if(this[u]&&this[f]&&this[f].length){this[f].forEach((e=>this[u](e.key,e.value)))}this[h]=new Map;this[f]=new s;this[i]=0}dump(){return this[f].map((e=>isStale(this,e)?false:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,r){r=r||this[c];if(r&&typeof r!=="number")throw new TypeError("maxAge must be a number");const s=r?Date.now():0;const a=this[o](t,e);if(this[h].has(e)){if(a>this[n]){del(this,this[h].get(e));return false}const o=this[h].get(e);const c=o.value;if(this[u]){if(!this[l])this[u](e,c.value)}c.now=s;c.maxAge=r;c.value=t;this[i]+=a-c.length;c.length=a;this.get(e);trim(this);return true}const d=new Entry(e,t,a,s,r);if(d.length>this[n]){if(this[u])this[u](e,t);return false}this[i]+=d.length;this[f].unshift(d);this[h].set(e,this[f].head);trim(this);return true}has(e){if(!this[h].has(e))return false;const t=this[h].get(e).value;return!isStale(this,t)}get(e){return get(this,e,true)}peek(e){return get(this,e,false)}pop(){const e=this[f].tail;if(!e)return null;del(this,e);return e.value}del(e){del(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const s=e[r];const n=s.e||0;if(n===0)this.set(s.k,s.v);else{const e=n-t;if(e>0){this.set(s.k,s.v,e)}}}}prune(){this[h].forEach(((e,t)=>get(this,t,false)))}}const get=(e,t,r)=>{const s=e[h].get(t);if(s){const t=s.value;if(isStale(e,t)){del(e,s);if(!e[a])return undefined}else{if(r){if(e[d])s.value.now=Date.now();e[f].unshiftNode(s)}}return t.value}};const isStale=(e,t)=>{if(!t||!t.maxAge&&!e[c])return false;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]};const trim=e=>{if(e[i]>e[n]){for(let t=e[f].tail;e[i]>e[n]&&t!==null;){const r=t.prev;del(e,t);t=r}}};const del=(e,t)=>{if(t){const r=t.value;if(e[u])e[u](r.key,r.value);e[i]-=r.length;e[h].delete(r.key);e[f].removeNode(t)}};class Entry{constructor(e,t,r,s,n){this.key=e;this.value=t;this.length=r;this.now=s;this.maxAge=n||0}}const forEachStep=(e,t,r,s)=>{let n=r.value;if(isStale(e,n)){del(e,r);if(!e[a])n=undefined}if(n)t.call(s,n.value,n.key,e)};e.exports=LRUCache},5327:e=>{e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},220:(e,t,r)=>{e.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(e){var t=this;if(!(t instanceof Yallist)){t=new Yallist}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach((function(e){t.push(e)}))}else if(arguments.length>0){for(var r=0,s=arguments.length;r<s;r++){t.push(arguments[r])}}return t}Yallist.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var r=e.prev;if(t){t.prev=r}if(r){r.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=r}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};Yallist.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};Yallist.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){push(this,arguments[e])}return this.length};Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){unshift(this,arguments[e])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};Yallist.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};Yallist.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,s=0;r!==null;s++){e.call(t,r.value,s,this);r=r.next}};Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,s=this.length-1;r!==null;s--){e.call(t,r.value,s,this);r=r.prev}};Yallist.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++){r=r.next}if(t===e&&r!==null){return r.value}};Yallist.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++){r=r.prev}if(t===e&&r!==null){return r.value}};Yallist.prototype.map=function(e,t){t=t||this;var r=new Yallist;for(var s=this.head;s!==null;){r.push(e.call(t,s.value,this));s=s.next}return r};Yallist.prototype.mapReverse=function(e,t){t=t||this;var r=new Yallist;for(var s=this.tail;s!==null;){r.push(e.call(t,s.value,this));s=s.prev}return r};Yallist.prototype.reduce=function(e,t){var r;var s=this.head;if(arguments.length>1){r=t}else if(this.head){s=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=0;s!==null;n++){r=e(r,s.value,n);s=s.next}return r};Yallist.prototype.reduceReverse=function(e,t){var r;var s=this.tail;if(arguments.length>1){r=t}else if(this.tail){s=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=this.length-1;s!==null;n--){r=e(r,s.value,n);s=s.prev}return r};Yallist.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,r=this.head;r!==null;t++){e[t]=r.value;r=r.next}return e};Yallist.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,r=this.tail;r!==null;t++){e[t]=r.value;r=r.prev}return e};Yallist.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var s=0,n=this.head;n!==null&&s<e;s++){n=n.next}for(;n!==null&&s<t;s++,n=n.next){r.push(n.value)}return r};Yallist.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var s=this.length,n=this.tail;n!==null&&s>t;s--){n=n.prev}for(;n!==null&&s>e;s--,n=n.prev){r.push(n.value)}return r};Yallist.prototype.splice=function(e,t,...r){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var s=0,n=this.head;n!==null&&s<e;s++){n=n.next}var i=[];for(var s=0;n&&s<t;s++){i.push(n.value);n=this.removeNode(n)}if(n===null){n=this.tail}if(n!==this.head&&n!==this.tail){n=n.prev}for(var s=0;s<r.length;s++){n=insert(this,n,r[s])}return i};Yallist.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var r=e;r!==null;r=r.prev){var s=r.prev;r.prev=r.next;r.next=s}this.head=t;this.tail=e;return this};function insert(e,t,r){var s=t===e.head?new Node(r,null,t,e):new Node(r,t,t.next,e);if(s.next===null){e.tail=s}if(s.prev===null){e.head=s}e.length++;return s}function push(e,t){e.tail=new Node(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function Node(e,t,r,s){if(!(this instanceof Node)){return new Node(e,t,r,s)}this.list=s;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{r(5327)(Yallist)}catch(e){}},9380:(e,t,r)=>{const s=r(420);const gtr=(e,t,r)=>s(e,t,">",r);e.exports=gtr},7008:(e,t,r)=>{const s=r(9828);const intersects=(e,t,r)=>{e=new s(e,r);t=new s(t,r);return e.intersects(t,r)};e.exports=intersects},3323:(e,t,r)=>{const s=r(420);const ltr=(e,t,r)=>s(e,t,"<",r);e.exports=ltr},579:(e,t,r)=>{const s=r(8088);const n=r(9828);const maxSatisfying=(e,t,r)=>{let i=null;let o=null;let a=null;try{a=new n(t,r)}catch(e){return null}e.forEach((e=>{if(a.test(e)){if(!i||o.compare(e)===-1){i=e;o=new s(i,r)}}}));return i};e.exports=maxSatisfying},832:(e,t,r)=>{const s=r(8088);const n=r(9828);const minSatisfying=(e,t,r)=>{let i=null;let o=null;let a=null;try{a=new n(t,r)}catch(e){return null}e.forEach((e=>{if(a.test(e)){if(!i||o.compare(e)===1){i=e;o=new s(i,r)}}}));return i};e.exports=minSatisfying},4179:(e,t,r)=>{const s=r(8088);const n=r(9828);const i=r(4123);const minVersion=(e,t)=>{e=new n(e,t);let r=new s("0.0.0");if(e.test(r)){return r}r=new s("0.0.0-0");if(e.test(r)){return r}r=null;for(let t=0;t<e.set.length;++t){const n=e.set[t];let o=null;n.forEach((e=>{const t=new s(e.semver.version);switch(e.operator){case">":if(t.prerelease.length===0){t.patch++}else{t.prerelease.push(0)}t.raw=t.format();case"":case">=":if(!o||i(t,o)){o=t}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}));if(o&&(!r||i(r,o))){r=o}}if(r&&e.test(r)){return r}return null};e.exports=minVersion},420:(e,t,r)=>{const s=r(8088);const n=r(1532);const{ANY:i}=n;const o=r(9828);const a=r(6055);const c=r(4123);const u=r(194);const l=r(7520);const f=r(5930);const outside=(e,t,r,h)=>{e=new s(e,h);t=new o(t,h);let d,p,m,y,g;switch(r){case">":d=c;p=l;m=u;y=">";g=">=";break;case"<":d=u;p=f;m=c;y="<";g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h)){return false}for(let r=0;r<t.set.length;++r){const s=t.set[r];let o=null;let a=null;s.forEach((e=>{if(e.semver===i){e=new n(">=0.0.0")}o=o||e;a=a||e;if(d(e.semver,o.semver,h)){o=e}else if(m(e.semver,a.semver,h)){a=e}}));if(o.operator===y||o.operator===g){return false}if((!a.operator||a.operator===y)&&p(e,a.semver)){return false}else if(a.operator===g&&m(e,a.semver)){return false}}return true};e.exports=outside},5297:(e,t,r)=>{const s=r(6055);const n=r(4309);e.exports=(e,t,r)=>{const i=[];let o=null;let a=null;const c=e.sort(((e,t)=>n(e,t,r)));for(const e of c){const n=s(e,t,r);if(n){a=e;if(!o){o=e}}else{if(a){i.push([o,a])}a=null;o=null}}if(o){i.push([o,null])}const u=[];for(const[e,t]of i){if(e===t){u.push(e)}else if(!t&&e===c[0]){u.push("*")}else if(!t){u.push(`>=${e}`)}else if(e===c[0]){u.push(`<=${t}`)}else{u.push(`${e} - ${t}`)}}const l=u.join(" || ");const f=typeof t.raw==="string"?t.raw:String(t);return l.length<f.length?l:t}},7863:(e,t,r)=>{const s=r(9828);const n=r(1532);const{ANY:i}=n;const o=r(6055);const a=r(4309);const subset=(e,t,r={})=>{if(e===t){return true}e=new s(e,r);t=new s(t,r);let n=false;e:for(const s of e.set){for(const e of t.set){const t=simpleSubset(s,e,r);n=n||t!==null;if(t){continue e}}if(n){return false}}return true};const c=[new n(">=0.0.0-0")];const u=[new n(">=0.0.0")];const simpleSubset=(e,t,r)=>{if(e===t){return true}if(e.length===1&&e[0].semver===i){if(t.length===1&&t[0].semver===i){return true}else if(r.includePrerelease){e=c}else{e=u}}if(t.length===1&&t[0].semver===i){if(r.includePrerelease){return true}else{t=u}}const s=new Set;let n,l;for(const t of e){if(t.operator===">"||t.operator===">="){n=higherGT(n,t,r)}else if(t.operator==="<"||t.operator==="<="){l=lowerLT(l,t,r)}else{s.add(t.semver)}}if(s.size>1){return null}let f;if(n&&l){f=a(n.semver,l.semver,r);if(f>0){return null}else if(f===0&&(n.operator!==">="||l.operator!=="<=")){return null}}for(const e of s){if(n&&!o(e,String(n),r)){return null}if(l&&!o(e,String(l),r)){return null}for(const s of t){if(!o(e,String(s),r)){return false}}return true}let h,d;let p,m;let y=l&&!r.includePrerelease&&l.semver.prerelease.length?l.semver:false;let g=n&&!r.includePrerelease&&n.semver.prerelease.length?n.semver:false;if(y&&y.prerelease.length===1&&l.operator==="<"&&y.prerelease[0]===0){y=false}for(const e of t){m=m||e.operator===">"||e.operator===">=";p=p||e.operator==="<"||e.operator==="<=";if(n){if(g){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===g.major&&e.semver.minor===g.minor&&e.semver.patch===g.patch){g=false}}if(e.operator===">"||e.operator===">="){h=higherGT(n,e,r);if(h===e&&h!==n){return false}}else if(n.operator===">="&&!o(n.semver,String(e),r)){return false}}if(l){if(y){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch){y=false}}if(e.operator==="<"||e.operator==="<="){d=lowerLT(l,e,r);if(d===e&&d!==l){return false}}else if(l.operator==="<="&&!o(l.semver,String(e),r)){return false}}if(!e.operator&&(l||n)&&f!==0){return false}}if(n&&p&&!l&&f!==0){return false}if(l&&m&&!n&&f!==0){return false}if(g||y){return false}return true};const higherGT=(e,t,r)=>{if(!e){return t}const s=a(e.semver,t.semver,r);return s>0?e:s<0?t:t.operator===">"&&e.operator===">="?t:e};const lowerLT=(e,t,r)=>{if(!e){return t}const s=a(e.semver,t.semver,r);return s<0?e:s>0?t:t.operator==="<"&&e.operator==="<="?t:e};e.exports=subset},2706:(e,t,r)=>{const s=r(9828);const toComparators=(e,t)=>new s(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));e.exports=toComparators},2098:(e,t,r)=>{const s=r(9828);const validRange=(e,t)=>{try{return new s(e,t).range||"*"}catch(e){return null}};e.exports=validRange},4294:(e,t,r)=>{e.exports=r(4219)},4219:(e,t,r)=>{var s=r(1808);var n=r(4404);var i=r(3685);var o=r(5687);var a=r(2361);var c=r(9491);var u=r(3837);t.httpOverHttp=httpOverHttp;t.httpsOverHttp=httpsOverHttp;t.httpOverHttps=httpOverHttps;t.httpsOverHttps=httpsOverHttps;function httpOverHttp(e){var t=new TunnelingAgent(e);t.request=i.request;return t}function httpsOverHttp(e){var t=new TunnelingAgent(e);t.request=i.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function httpOverHttps(e){var t=new TunnelingAgent(e);t.request=o.request;return t}function httpsOverHttps(e){var t=new TunnelingAgent(e);t.request=o.request;t.createSocket=createSecureSocket;t.defaultPort=443;return t}function TunnelingAgent(e){var t=this;t.options=e||{};t.proxyOptions=t.options.proxy||{};t.maxSockets=t.options.maxSockets||i.Agent.defaultMaxSockets;t.requests=[];t.sockets=[];t.on("free",(function onFree(e,r,s,n){var i=toOptions(r,s,n);for(var o=0,a=t.requests.length;o<a;++o){var c=t.requests[o];if(c.host===i.host&&c.port===i.port){t.requests.splice(o,1);c.request.onSocket(e);return}}e.destroy();t.removeSocket(e)}))}u.inherits(TunnelingAgent,a.EventEmitter);TunnelingAgent.prototype.addRequest=function addRequest(e,t,r,s){var n=this;var i=mergeOptions({request:e},n.options,toOptions(t,r,s));if(n.sockets.length>=this.maxSockets){n.requests.push(i);return}n.createSocket(i,(function(t){t.on("free",onFree);t.on("close",onCloseOrRemove);t.on("agentRemove",onCloseOrRemove);e.onSocket(t);function onFree(){n.emit("free",t,i)}function onCloseOrRemove(e){n.removeSocket(t);t.removeListener("free",onFree);t.removeListener("close",onCloseOrRemove);t.removeListener("agentRemove",onCloseOrRemove)}}))};TunnelingAgent.prototype.createSocket=function createSocket(e,t){var r=this;var s={};r.sockets.push(s);var n=mergeOptions({},r.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:false,headers:{host:e.host+":"+e.port}});if(e.localAddress){n.localAddress=e.localAddress}if(n.proxyAuth){n.headers=n.headers||{};n.headers["Proxy-Authorization"]="Basic "+new Buffer(n.proxyAuth).toString("base64")}l("making CONNECT request");var i=r.request(n);i.useChunkedEncodingByDefault=false;i.once("response",onResponse);i.once("upgrade",onUpgrade);i.once("connect",onConnect);i.once("error",onError);i.end();function onResponse(e){e.upgrade=true}function onUpgrade(e,t,r){process.nextTick((function(){onConnect(e,t,r)}))}function onConnect(n,o,a){i.removeAllListeners();o.removeAllListeners();if(n.statusCode!==200){l("tunneling socket could not be established, statusCode=%d",n.statusCode);o.destroy();var c=new Error("tunneling socket could not be established, "+"statusCode="+n.statusCode);c.code="ECONNRESET";e.request.emit("error",c);r.removeSocket(s);return}if(a.length>0){l("got illegal response body from proxy");o.destroy();var c=new Error("got illegal response body from proxy");c.code="ECONNRESET";e.request.emit("error",c);r.removeSocket(s);return}l("tunneling connection has established");r.sockets[r.sockets.indexOf(s)]=o;return t(o)}function onError(t){i.removeAllListeners();l("tunneling socket could not be established, cause=%s\n",t.message,t.stack);var n=new Error("tunneling socket could not be established, "+"cause="+t.message);n.code="ECONNRESET";e.request.emit("error",n);r.removeSocket(s)}};TunnelingAgent.prototype.removeSocket=function removeSocket(e){var t=this.sockets.indexOf(e);if(t===-1){return}this.sockets.splice(t,1);var r=this.requests.shift();if(r){this.createSocket(r,(function(e){r.request.onSocket(e)}))}};function createSecureSocket(e,t){var r=this;TunnelingAgent.prototype.createSocket.call(r,e,(function(s){var i=e.request.getHeader("host");var o=mergeOptions({},r.options,{socket:s,servername:i?i.replace(/:.*$/,""):e.host});var a=n.connect(0,o);r.sockets[r.sockets.indexOf(s)]=a;t(a)}))}function toOptions(e,t,r){if(typeof e==="string"){return{host:e,port:t,localAddress:r}}return e}function mergeOptions(e){for(var t=1,r=arguments.length;t<r;++t){var s=arguments[t];if(typeof s==="object"){var n=Object.keys(s);for(var i=0,o=n.length;i<o;++i){var a=n[i];if(s[a]!==undefined){e[a]=s[a]}}}}return e}var l;if(process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)){l=function(){var e=Array.prototype.slice.call(arguments);if(typeof e[0]==="string"){e[0]="TUNNEL: "+e[0]}else{e.unshift("TUNNEL:")}console.error.apply(console,e)}}else{l=function(){}}t.debug=l},5840:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});Object.defineProperty(t,"v1",{enumerable:true,get:function(){return s.default}});Object.defineProperty(t,"v3",{enumerable:true,get:function(){return n.default}});Object.defineProperty(t,"v4",{enumerable:true,get:function(){return i.default}});Object.defineProperty(t,"v5",{enumerable:true,get:function(){return o.default}});Object.defineProperty(t,"NIL",{enumerable:true,get:function(){return a.default}});Object.defineProperty(t,"version",{enumerable:true,get:function(){return c.default}});Object.defineProperty(t,"validate",{enumerable:true,get:function(){return u.default}});Object.defineProperty(t,"stringify",{enumerable:true,get:function(){return l.default}});Object.defineProperty(t,"parse",{enumerable:true,get:function(){return f.default}});var s=_interopRequireDefault(r(8628));var n=_interopRequireDefault(r(6409));var i=_interopRequireDefault(r(5122));var o=_interopRequireDefault(r(9120));var a=_interopRequireDefault(r(5332));var c=_interopRequireDefault(r(1595));var u=_interopRequireDefault(r(6900));var l=_interopRequireDefault(r(8950));var f=_interopRequireDefault(r(2746));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},4569:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function md5(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return s.default.createHash("md5").update(e).digest()}var n=md5;t["default"]=n},5332:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r="00000000-0000-0000-0000-000000000000";t["default"]=r},2746:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function parse(e){if(!(0,s.default)(e)){throw TypeError("Invalid UUID")}let t;const r=new Uint8Array(16);r[0]=(t=parseInt(e.slice(0,8),16))>>>24;r[1]=t>>>16&255;r[2]=t>>>8&255;r[3]=t&255;r[4]=(t=parseInt(e.slice(9,13),16))>>>8;r[5]=t&255;r[6]=(t=parseInt(e.slice(14,18),16))>>>8;r[7]=t&255;r[8]=(t=parseInt(e.slice(19,23),16))>>>8;r[9]=t&255;r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255;r[11]=t/4294967296&255;r[12]=t>>>24&255;r[13]=t>>>16&255;r[14]=t>>>8&255;r[15]=t&255;return r}var n=parse;t["default"]=n},814:(e,t)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t["default"]=r},807:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=rng;var s=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const n=new Uint8Array(256);let i=n.length;function rng(){if(i>n.length-16){s.default.randomFillSync(n);i=0}return n.slice(i,i+=16)}},5274:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(6113));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function sha1(e){if(Array.isArray(e)){e=Buffer.from(e)}else if(typeof e==="string"){e=Buffer.from(e,"utf8")}return s.default.createHash("sha1").update(e).digest()}var n=sha1;t["default"]=n},8950:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const n=[];for(let e=0;e<256;++e){n.push((e+256).toString(16).substr(1))}function stringify(e,t=0){const r=(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase();if(!(0,s.default)(r)){throw TypeError("Stringified UUID is invalid")}return r}var i=stringify;t["default"]=i},8628:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(807));var n=_interopRequireDefault(r(8950));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}let i;let o;let a=0;let c=0;function v1(e,t,r){let u=t&&r||0;const l=t||new Array(16);e=e||{};let f=e.node||i;let h=e.clockseq!==undefined?e.clockseq:o;if(f==null||h==null){const t=e.random||(e.rng||s.default)();if(f==null){f=i=[t[0]|1,t[1],t[2],t[3],t[4],t[5]]}if(h==null){h=o=(t[6]<<8|t[7])&16383}}let d=e.msecs!==undefined?e.msecs:Date.now();let p=e.nsecs!==undefined?e.nsecs:c+1;const m=d-a+(p-c)/1e4;if(m<0&&e.clockseq===undefined){h=h+1&16383}if((m<0||d>a)&&e.nsecs===undefined){p=0}if(p>=1e4){throw new Error("uuid.v1(): Can't create more than 10M uuids/sec")}a=d;c=p;o=h;d+=122192928e5;const y=((d&268435455)*1e4+p)%4294967296;l[u++]=y>>>24&255;l[u++]=y>>>16&255;l[u++]=y>>>8&255;l[u++]=y&255;const g=d/4294967296*1e4&268435455;l[u++]=g>>>8&255;l[u++]=g&255;l[u++]=g>>>24&15|16;l[u++]=g>>>16&255;l[u++]=h>>>8|128;l[u++]=h&255;for(let e=0;e<6;++e){l[u+e]=f[e]}return t||(0,n.default)(l)}var u=v1;t["default"]=u},6409:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(5998));var n=_interopRequireDefault(r(4569));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=(0,s.default)("v3",48,n.default);var o=i;t["default"]=o},5998:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=_default;t.URL=t.DNS=void 0;var s=_interopRequireDefault(r(8950));var n=_interopRequireDefault(r(2746));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function stringToBytes(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r){t.push(e.charCodeAt(r))}return t}const i="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=i;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o;function _default(e,t,r){function generateUUID(e,i,o,a){if(typeof e==="string"){e=stringToBytes(e)}if(typeof i==="string"){i=(0,n.default)(i)}if(i.length!==16){throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)")}let c=new Uint8Array(16+e.length);c.set(i);c.set(e,i.length);c=r(c);c[6]=c[6]&15|t;c[8]=c[8]&63|128;if(o){a=a||0;for(let e=0;e<16;++e){o[a+e]=c[e]}return o}return(0,s.default)(c)}try{generateUUID.name=e}catch(e){}generateUUID.DNS=i;generateUUID.URL=o;return generateUUID}},5122:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(807));var n=_interopRequireDefault(r(8950));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function v4(e,t,r){e=e||{};const i=e.random||(e.rng||s.default)();i[6]=i[6]&15|64;i[8]=i[8]&63|128;if(t){r=r||0;for(let e=0;e<16;++e){t[r+e]=i[e]}return t}return(0,n.default)(i)}var i=v4;t["default"]=i},9120:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(5998));var n=_interopRequireDefault(r(5274));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const i=(0,s.default)("v5",80,n.default);var o=i;t["default"]=o},6900:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(814));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function validate(e){return typeof e==="string"&&s.default.test(e)}var n=validate;t["default"]=n},1595:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:true});t["default"]=void 0;var s=_interopRequireDefault(r(6900));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function version(e){if(!(0,s.default)(e)){throw TypeError("Invalid UUID")}return parseInt(e.substr(14,1),16)}var n=version;t["default"]=n},9491:t=>{t.exports=e(import.meta.url)("assert")},4300:t=>{t.exports=e(import.meta.url)("buffer")},6113:t=>{t.exports=e(import.meta.url)("crypto")},2361:t=>{t.exports=e(import.meta.url)("events")},7147:t=>{t.exports=e(import.meta.url)("fs")},3685:t=>{t.exports=e(import.meta.url)("http")},5158:t=>{t.exports=e(import.meta.url)("http2")},5687:t=>{t.exports=e(import.meta.url)("https")},1808:t=>{t.exports=e(import.meta.url)("net")},2037:t=>{t.exports=e(import.meta.url)("os")},1017:t=>{t.exports=e(import.meta.url)("path")},2781:t=>{t.exports=e(import.meta.url)("stream")},4404:t=>{t.exports=e(import.meta.url)("tls")},7310:t=>{t.exports=e(import.meta.url)("url")},3837:t=>{t.exports=e(import.meta.url)("util")},9796:t=>{t.exports=e(import.meta.url)("zlib")}};var r={};function __nccwpck_require__(e){var s=r[e];if(s!==undefined){return s.exports}var n=r[e]={exports:{}};var i=true;try{t[e].call(n.exports,n,n.exports,__nccwpck_require__);i=false}finally{if(i)delete r[e]}return n.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=new URL(".",import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/)?1:0,-1)+"/";var s={};(()=>{var t=__nccwpck_require__(2186);const r=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function isTypedArrayName(e){return r.includes(e)}const s=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","WeakRef","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement","NaN",...r];function isObjectTypeName(e){return s.includes(e)}const n=["null","undefined","string","number","bigint","boolean","symbol"];function isPrimitiveTypeName(e){return n.includes(e)}const i=["positive number","negative number","Class","string with a number","null or undefined","Iterable","AsyncIterable","native Promise","EnumCase","string with a URL","truthy","falsy","primitive","integer","plain object","TypedArray","array-like","tuple-like","Node.js Stream","infinite number","empty array","non-empty array","empty string","empty string or whitespace","non-empty string","non-empty string and not whitespace","empty object","non-empty object","empty set","non-empty set","empty map","non-empty map","PropertyKey","even integer","odd integer","T","in range","predicate returns truthy for any value","predicate returns truthy for all values","valid length","whitespace string",...s,...n];const getObjectType=e=>{const t=Object.prototype.toString.call(e).slice(8,-1);if(/HTML\w+Element/.test(t)&&isHtmlElement(e)){return"HTMLElement"}if(isObjectTypeName(t)){return t}return undefined};function detect(e){if(e===null){return"null"}switch(typeof e){case"undefined":{return"undefined"}case"string":{return"string"}case"number":{return Number.isNaN(e)?"NaN":"number"}case"boolean":{return"boolean"}case"function":{return"Function"}case"bigint":{return"bigint"}case"symbol":{return"symbol"}default:}if(isObservable(e)){return"Observable"}if(isArray(e)){return"Array"}if(isBuffer(e)){return"Buffer"}const t=getObjectType(e);if(t){return t}if(e instanceof String||e instanceof Boolean||e instanceof Number){throw new TypeError("Please don't use object wrappers for primitive types")}return"Object"}function hasPromiseApi(e){return isFunction(e?.then)&&isFunction(e?.catch)}const o=Object.assign(detect,{all:isAll,any:isAny,array:isArray,arrayBuffer:isArrayBuffer,arrayLike:isArrayLike,asyncFunction:isAsyncFunction,asyncGenerator:isAsyncGenerator,asyncGeneratorFunction:isAsyncGeneratorFunction,asyncIterable:isAsyncIterable,bigint:isBigint,bigInt64Array:isBigInt64Array,bigUint64Array:isBigUint64Array,blob:isBlob,boolean:isBoolean,boundFunction:isBoundFunction,buffer:isBuffer,class:isClass,class_:isClass,dataView:isDataView,date:isDate,detect:detect,directInstanceOf:isDirectInstanceOf,domElement:isHtmlElement,emptyArray:isEmptyArray,emptyMap:isEmptyMap,emptyObject:isEmptyObject,emptySet:isEmptySet,emptyString:isEmptyString,emptyStringOrWhitespace:isEmptyStringOrWhitespace,enumCase:isEnumCase,error:isError,evenInteger:isEvenInteger,falsy:isFalsy,float32Array:isFloat32Array,float64Array:isFloat64Array,formData:isFormData,function:isFunction,function_:isFunction,generator:isGenerator,generatorFunction:isGeneratorFunction,htmlElement:isHtmlElement,infinite:isInfinite,inRange:isInRange,int16Array:isInt16Array,int32Array:isInt32Array,int8Array:isInt8Array,integer:isInteger,iterable:isIterable,map:isMap,nan:isNan,nativePromise:isNativePromise,negativeNumber:isNegativeNumber,nodeStream:isNodeStream,nonEmptyArray:isNonEmptyArray,nonEmptyMap:isNonEmptyMap,nonEmptyObject:isNonEmptyObject,nonEmptySet:isNonEmptySet,nonEmptyString:isNonEmptyString,nonEmptyStringAndNotWhitespace:isNonEmptyStringAndNotWhitespace,null:isNull,null_:isNull,nullOrUndefined:isNullOrUndefined,number:isNumber,numericString:isNumericString,object:isObject,observable:isObservable,oddInteger:isOddInteger,plainObject:isPlainObject,positiveNumber:isPositiveNumber,primitive:isPrimitive,promise:isPromise,propertyKey:isPropertyKey,regExp:isRegExp,safeInteger:isSafeInteger,set:isSet,sharedArrayBuffer:isSharedArrayBuffer,string:isString,symbol:isSymbol,truthy:isTruthy,tupleLike:isTupleLike,typedArray:isTypedArray,uint16Array:isUint16Array,uint32Array:isUint32Array,uint8Array:isUint8Array,uint8ClampedArray:isUint8ClampedArray,undefined:isUndefined,urlInstance:isUrlInstance,urlSearchParams:isUrlSearchParams,urlString:isUrlString,validLength:isValidLength,weakMap:isWeakMap,weakRef:isWeakRef,weakSet:isWeakSet,whitespaceString:isWhitespaceString});function isAbsoluteMod2(e){return t=>isInteger(t)&&Math.abs(t%2)===e}function isAll(e,...t){return predicateOnArray(Array.prototype.every,e,t)}function isAny(e,...t){const r=isArray(e)?e:[e];return r.some((e=>predicateOnArray(Array.prototype.some,e,t)))}function isArray(e,t){if(!Array.isArray(e)){return false}if(!isFunction(t)){return true}return e.every((e=>t(e)))}function isArrayBuffer(e){return getObjectType(e)==="ArrayBuffer"}function isArrayLike(e){return!isNullOrUndefined(e)&&!isFunction(e)&&isValidLength(e.length)}function isAsyncFunction(e){return getObjectType(e)==="AsyncFunction"}function isAsyncGenerator(e){return isAsyncIterable(e)&&isFunction(e.next)&&isFunction(e.throw)}function isAsyncGeneratorFunction(e){return getObjectType(e)==="AsyncGeneratorFunction"}function isAsyncIterable(e){return isFunction(e?.[Symbol.asyncIterator])}function isBigint(e){return typeof e==="bigint"}function isBigInt64Array(e){return getObjectType(e)==="BigInt64Array"}function isBigUint64Array(e){return getObjectType(e)==="BigUint64Array"}function isBlob(e){return getObjectType(e)==="Blob"}function isBoolean(e){return e===true||e===false}function isBoundFunction(e){return isFunction(e)&&!Object.prototype.hasOwnProperty.call(e,"prototype")}function isBuffer(e){return e?.constructor?.isBuffer?.(e)??false}function isClass(e){return isFunction(e)&&e.toString().startsWith("class ")}function isDataView(e){return getObjectType(e)==="DataView"}function isDate(e){return getObjectType(e)==="Date"}function isDirectInstanceOf(e,t){if(e===undefined||e===null){return false}return Object.getPrototypeOf(e)===t.prototype}function isEmptyArray(e){return isArray(e)&&e.length===0}function isEmptyMap(e){return isMap(e)&&e.size===0}function isEmptyObject(e){return isObject(e)&&!isMap(e)&&!isSet(e)&&Object.keys(e).length===0}function isEmptySet(e){return isSet(e)&&e.size===0}function isEmptyString(e){return isString(e)&&e.length===0}function isEmptyStringOrWhitespace(e){return isEmptyString(e)||isWhitespaceString(e)}function isEnumCase(e,t){return Object.values(t).includes(e)}function isError(e){return getObjectType(e)==="Error"}function isEvenInteger(e){return isAbsoluteMod2(0)(e)}function isFalsy(e){return!e}function isFloat32Array(e){return getObjectType(e)==="Float32Array"}function isFloat64Array(e){return getObjectType(e)==="Float64Array"}function isFormData(e){return getObjectType(e)==="FormData"}function isFunction(e){return typeof e==="function"}function isGenerator(e){return isIterable(e)&&isFunction(e?.next)&&isFunction(e?.throw)}function isGeneratorFunction(e){return getObjectType(e)==="GeneratorFunction"}const a=1;const c=["innerHTML","ownerDocument","style","attributes","nodeValue"];function isHtmlElement(e){return isObject(e)&&e.nodeType===a&&isString(e.nodeName)&&!isPlainObject(e)&&c.every((t=>t in e))}function isInfinite(e){return e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY}function isInRange(e,t){if(isNumber(t)){return e>=Math.min(0,t)&&e<=Math.max(t,0)}if(isArray(t)&&t.length===2){return e>=Math.min(...t)&&e<=Math.max(...t)}throw new TypeError(`Invalid range: ${JSON.stringify(t)}`)}function isInt16Array(e){return getObjectType(e)==="Int16Array"}function isInt32Array(e){return getObjectType(e)==="Int32Array"}function isInt8Array(e){return getObjectType(e)==="Int8Array"}function isInteger(e){return Number.isInteger(e)}function isIterable(e){return isFunction(e?.[Symbol.iterator])}function isMap(e){return getObjectType(e)==="Map"}function isNan(e){return Number.isNaN(e)}function isNativePromise(e){return getObjectType(e)==="Promise"}function isNegativeNumber(e){return isNumber(e)&&e<0}function isNodeStream(e){return isObject(e)&&isFunction(e.pipe)&&!isObservable(e)}function isNonEmptyArray(e){return isArray(e)&&e.length>0}function isNonEmptyMap(e){return isMap(e)&&e.size>0}function isNonEmptyObject(e){return isObject(e)&&!isMap(e)&&!isSet(e)&&Object.keys(e).length>0}function isNonEmptySet(e){return isSet(e)&&e.size>0}function isNonEmptyString(e){return isString(e)&&e.length>0}function isNonEmptyStringAndNotWhitespace(e){return isString(e)&&!isEmptyStringOrWhitespace(e)}function isNull(e){return e===null}function isNullOrUndefined(e){return isNull(e)||isUndefined(e)}function isNumber(e){return typeof e==="number"&&!Number.isNaN(e)}function isNumericString(e){return isString(e)&&!isEmptyStringOrWhitespace(e)&&!Number.isNaN(Number(e))}function isObject(e){return!isNull(e)&&(typeof e==="object"||isFunction(e))}function isObservable(e){if(!e){return false}if(e===e[Symbol.observable]?.()){return true}if(e===e["@@observable"]?.()){return true}return false}function isOddInteger(e){return isAbsoluteMod2(1)(e)}function isPlainObject(e){if(typeof e!=="object"||e===null){return false}const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function isPositiveNumber(e){return isNumber(e)&&e>0}function isPrimitive(e){return isNull(e)||isPrimitiveTypeName(typeof e)}function isPromise(e){return isNativePromise(e)||hasPromiseApi(e)}function isPropertyKey(e){return isAny([isString,isNumber,isSymbol],e)}function isRegExp(e){return getObjectType(e)==="RegExp"}function isSafeInteger(e){return Number.isSafeInteger(e)}function isSet(e){return getObjectType(e)==="Set"}function isSharedArrayBuffer(e){return getObjectType(e)==="SharedArrayBuffer"}function isString(e){return typeof e==="string"}function isSymbol(e){return typeof e==="symbol"}function isTruthy(e){return Boolean(e)}function isTupleLike(e,t){if(isArray(t)&&isArray(e)&&t.length===e.length){return t.every(((t,r)=>t(e[r])))}return false}function isTypedArray(e){return isTypedArrayName(getObjectType(e))}function isUint16Array(e){return getObjectType(e)==="Uint16Array"}function isUint32Array(e){return getObjectType(e)==="Uint32Array"}function isUint8Array(e){return getObjectType(e)==="Uint8Array"}function isUint8ClampedArray(e){return getObjectType(e)==="Uint8ClampedArray"}function isUndefined(e){return e===undefined}function isUrlInstance(e){return getObjectType(e)==="URL"}function isUrlSearchParams(e){return getObjectType(e)==="URLSearchParams"}function isUrlString(e){if(!isString(e)){return false}try{new URL(e);return true}catch{return false}}function isValidLength(e){return isSafeInteger(e)&&e>=0}function isWeakMap(e){return getObjectType(e)==="WeakMap"}function isWeakRef(e){return getObjectType(e)==="WeakRef"}function isWeakSet(e){return getObjectType(e)==="WeakSet"}function isWhitespaceString(e){return isString(e)&&/^\s+$/.test(e)}function predicateOnArray(e,t,r){if(!isFunction(t)){throw new TypeError(`Invalid predicate: ${JSON.stringify(t)}`)}if(r.length===0){throw new TypeError("Invalid number of values")}return e.call(r,t)}function typeErrorMessage(e,t){return`Expected value which is \`${e}\`, received value of type \`${o(t)}\`.`}function unique(e){return Array.from(new Set(e))}const u=new Intl.ListFormat("en",{style:"long",type:"conjunction"});const l=new Intl.ListFormat("en",{style:"long",type:"disjunction"});function typeErrorMessageMultipleValues(e,t){const r=unique((isArray(e)?e:[e]).map((e=>`\`${e}\``)));const s=unique(t.map((e=>`\`${o(e)}\``)));return`Expected values which are ${l.format(r)}. Received values of type${s.length>1?"s":""} ${u.format(s)}.`}const f={all:assertAll,any:assertAny,array:assertArray,arrayBuffer:assertArrayBuffer,arrayLike:assertArrayLike,asyncFunction:assertAsyncFunction,asyncGenerator:assertAsyncGenerator,asyncGeneratorFunction:assertAsyncGeneratorFunction,asyncIterable:assertAsyncIterable,bigint:assertBigint,bigInt64Array:assertBigInt64Array,bigUint64Array:assertBigUint64Array,blob:assertBlob,boolean:assertBoolean,boundFunction:assertBoundFunction,buffer:assertBuffer,class:assertClass,class_:assertClass,dataView:assertDataView,date:assertDate,directInstanceOf:assertDirectInstanceOf,domElement:assertHtmlElement,emptyArray:assertEmptyArray,emptyMap:assertEmptyMap,emptyObject:assertEmptyObject,emptySet:assertEmptySet,emptyString:assertEmptyString,emptyStringOrWhitespace:assertEmptyStringOrWhitespace,enumCase:assertEnumCase,error:assertError,evenInteger:assertEvenInteger,falsy:assertFalsy,float32Array:assertFloat32Array,float64Array:assertFloat64Array,formData:assertFormData,function:assertFunction,function_:assertFunction,generator:assertGenerator,generatorFunction:assertGeneratorFunction,htmlElement:assertHtmlElement,infinite:assertInfinite,inRange:assertInRange,int16Array:assertInt16Array,int32Array:assertInt32Array,int8Array:assertInt8Array,integer:assertInteger,iterable:assertIterable,map:assertMap,nan:assertNan,nativePromise:assertNativePromise,negativeNumber:assertNegativeNumber,nodeStream:assertNodeStream,nonEmptyArray:assertNonEmptyArray,nonEmptyMap:assertNonEmptyMap,nonEmptyObject:assertNonEmptyObject,nonEmptySet:assertNonEmptySet,nonEmptyString:assertNonEmptyString,nonEmptyStringAndNotWhitespace:assertNonEmptyStringAndNotWhitespace,null:assertNull,null_:assertNull,nullOrUndefined:assertNullOrUndefined,number:assertNumber,numericString:assertNumericString,object:assertObject,observable:assertObservable,oddInteger:assertOddInteger,plainObject:assertPlainObject,positiveNumber:assertPositiveNumber,primitive:assertPrimitive,promise:assertPromise,propertyKey:assertPropertyKey,regExp:assertRegExp,safeInteger:assertSafeInteger,set:assertSet,sharedArrayBuffer:assertSharedArrayBuffer,string:assertString,symbol:assertSymbol,truthy:assertTruthy,tupleLike:assertTupleLike,typedArray:assertTypedArray,uint16Array:assertUint16Array,uint32Array:assertUint32Array,uint8Array:assertUint8Array,uint8ClampedArray:assertUint8ClampedArray,undefined:assertUndefined,urlInstance:assertUrlInstance,urlSearchParams:assertUrlSearchParams,urlString:assertUrlString,validLength:assertValidLength,weakMap:assertWeakMap,weakRef:assertWeakRef,weakSet:assertWeakSet,whitespaceString:assertWhitespaceString};const h={isArray:"Array",isArrayBuffer:"ArrayBuffer",isArrayLike:"array-like",isAsyncFunction:"AsyncFunction",isAsyncGenerator:"AsyncGenerator",isAsyncGeneratorFunction:"AsyncGeneratorFunction",isAsyncIterable:"AsyncIterable",isBigint:"bigint",isBigInt64Array:"BigInt64Array",isBigUint64Array:"BigUint64Array",isBlob:"Blob",isBoolean:"boolean",isBoundFunction:"Function",isBuffer:"Buffer",isClass:"Class",isDataView:"DataView",isDate:"Date",isDirectInstanceOf:"T",isDomElement:"HTMLElement",isEmptyArray:"empty array",isEmptyMap:"empty map",isEmptyObject:"empty object",isEmptySet:"empty set",isEmptyString:"empty string",isEmptyStringOrWhitespace:"empty string or whitespace",isEnumCase:"EnumCase",isError:"Error",isEvenInteger:"even integer",isFalsy:"falsy",isFloat32Array:"Float32Array",isFloat64Array:"Float64Array",isFormData:"FormData",isFunction:"Function",isGenerator:"Generator",isGeneratorFunction:"GeneratorFunction",isHtmlElement:"HTMLElement",isInfinite:"infinite number",isInRange:"in range",isInt16Array:"Int16Array",isInt32Array:"Int32Array",isInt8Array:"Int8Array",isInteger:"integer",isIterable:"Iterable",isMap:"Map",isNan:"NaN",isNativePromise:"native Promise",isNegativeNumber:"negative number",isNodeStream:"Node.js Stream",isNonEmptyArray:"non-empty array",isNonEmptyMap:"non-empty map",isNonEmptyObject:"non-empty object",isNonEmptySet:"non-empty set",isNonEmptyString:"non-empty string",isNonEmptyStringAndNotWhitespace:"non-empty string and not whitespace",isNull:"null",isNullOrUndefined:"null or undefined",isNumber:"number",isNumericString:"string with a number",isObject:"Object",isObservable:"Observable",isOddInteger:"odd integer",isPlainObject:"plain object",isPositiveNumber:"positive number",isPrimitive:"primitive",isPromise:"Promise",isPropertyKey:"PropertyKey",isRegExp:"RegExp",isSafeInteger:"integer",isSet:"Set",isSharedArrayBuffer:"SharedArrayBuffer",isString:"string",isSymbol:"symbol",isTruthy:"truthy",isTupleLike:"tuple-like",isTypedArray:"TypedArray",isUint16Array:"Uint16Array",isUint32Array:"Uint32Array",isUint8Array:"Uint8Array",isUint8ClampedArray:"Uint8ClampedArray",isUndefined:"undefined",isUrlInstance:"URL",isUrlSearchParams:"URLSearchParams",isUrlString:"string with a URL",isValidLength:"valid length",isWeakMap:"WeakMap",isWeakRef:"WeakRef",isWeakSet:"WeakSet",isWhitespaceString:"whitespace string"};function keysOf(e){return Object.keys(e)}const d=keysOf(h);function isIsMethodName(e){return d.includes(e)}function assertAll(e,...t){if(!isAll(e,...t)){const r=isIsMethodName(e.name)?h[e.name]:"predicate returns truthy for all values";throw new TypeError(typeErrorMessageMultipleValues(r,t))}}function assertAny(e,...t){if(!isAny(e,...t)){const r=isArray(e)?e:[e];const s=r.map((e=>isIsMethodName(e.name)?h[e.name]:"predicate returns truthy for any value"));throw new TypeError(typeErrorMessageMultipleValues(s,t))}}function assertArray(e,t){if(!isArray(e)){throw new TypeError(typeErrorMessage("Array",e))}if(t){e.forEach(t)}}function assertArrayBuffer(e){if(!isArrayBuffer(e)){throw new TypeError(typeErrorMessage("ArrayBuffer",e))}}function assertArrayLike(e){if(!isArrayLike(e)){throw new TypeError(typeErrorMessage("array-like",e))}}function assertAsyncFunction(e){if(!isAsyncFunction(e)){throw new TypeError(typeErrorMessage("AsyncFunction",e))}}function assertAsyncGenerator(e){if(!isAsyncGenerator(e)){throw new TypeError(typeErrorMessage("AsyncGenerator",e))}}function assertAsyncGeneratorFunction(e){if(!isAsyncGeneratorFunction(e)){throw new TypeError(typeErrorMessage("AsyncGeneratorFunction",e))}}function assertAsyncIterable(e){if(!isAsyncIterable(e)){throw new TypeError(typeErrorMessage("AsyncIterable",e))}}function assertBigint(e){if(!isBigint(e)){throw new TypeError(typeErrorMessage("bigint",e))}}function assertBigInt64Array(e){if(!isBigInt64Array(e)){throw new TypeError(typeErrorMessage("BigInt64Array",e))}}function assertBigUint64Array(e){if(!isBigUint64Array(e)){throw new TypeError(typeErrorMessage("BigUint64Array",e))}}function assertBlob(e){if(!isBlob(e)){throw new TypeError(typeErrorMessage("Blob",e))}}function assertBoolean(e){if(!isBoolean(e)){throw new TypeError(typeErrorMessage("boolean",e))}}function assertBoundFunction(e){if(!isBoundFunction(e)){throw new TypeError(typeErrorMessage("Function",e))}}function assertBuffer(e){if(!isBuffer(e)){throw new TypeError(typeErrorMessage("Buffer",e))}}function assertClass(e){if(!isClass(e)){throw new TypeError(typeErrorMessage("Class",e))}}function assertDataView(e){if(!isDataView(e)){throw new TypeError(typeErrorMessage("DataView",e))}}function assertDate(e){if(!isDate(e)){throw new TypeError(typeErrorMessage("Date",e))}}function assertDirectInstanceOf(e,t){if(!isDirectInstanceOf(e,t)){throw new TypeError(typeErrorMessage("T",e))}}function assertEmptyArray(e){if(!isEmptyArray(e)){throw new TypeError(typeErrorMessage("empty array",e))}}function assertEmptyMap(e){if(!isEmptyMap(e)){throw new TypeError(typeErrorMessage("empty map",e))}}function assertEmptyObject(e){if(!isEmptyObject(e)){throw new TypeError(typeErrorMessage("empty object",e))}}function assertEmptySet(e){if(!isEmptySet(e)){throw new TypeError(typeErrorMessage("empty set",e))}}function assertEmptyString(e){if(!isEmptyString(e)){throw new TypeError(typeErrorMessage("empty string",e))}}function assertEmptyStringOrWhitespace(e){if(!isEmptyStringOrWhitespace(e)){throw new TypeError(typeErrorMessage("empty string or whitespace",e))}}function assertEnumCase(e,t){if(!isEnumCase(e,t)){throw new TypeError(typeErrorMessage("EnumCase",e))}}function assertError(e){if(!isError(e)){throw new TypeError(typeErrorMessage("Error",e))}}function assertEvenInteger(e){if(!isEvenInteger(e)){throw new TypeError(typeErrorMessage("even integer",e))}}function assertFalsy(e){if(!isFalsy(e)){throw new TypeError(typeErrorMessage("falsy",e))}}function assertFloat32Array(e){if(!isFloat32Array(e)){throw new TypeError(typeErrorMessage("Float32Array",e))}}function assertFloat64Array(e){if(!isFloat64Array(e)){throw new TypeError(typeErrorMessage("Float64Array",e))}}function assertFormData(e){if(!isFormData(e)){throw new TypeError(typeErrorMessage("FormData",e))}}function assertFunction(e){if(!isFunction(e)){throw new TypeError(typeErrorMessage("Function",e))}}function assertGenerator(e){if(!isGenerator(e)){throw new TypeError(typeErrorMessage("Generator",e))}}function assertGeneratorFunction(e){if(!isGeneratorFunction(e)){throw new TypeError(typeErrorMessage("GeneratorFunction",e))}}function assertHtmlElement(e){if(!isHtmlElement(e)){throw new TypeError(typeErrorMessage("HTMLElement",e))}}function assertInfinite(e){if(!isInfinite(e)){throw new TypeError(typeErrorMessage("infinite number",e))}}function assertInRange(e,t){if(!isInRange(e,t)){throw new TypeError(typeErrorMessage("in range",e))}}function assertInt16Array(e){if(!isInt16Array(e)){throw new TypeError(typeErrorMessage("Int16Array",e))}}function assertInt32Array(e){if(!isInt32Array(e)){throw new TypeError(typeErrorMessage("Int32Array",e))}}function assertInt8Array(e){if(!isInt8Array(e)){throw new TypeError(typeErrorMessage("Int8Array",e))}}function assertInteger(e){if(!isInteger(e)){throw new TypeError(typeErrorMessage("integer",e))}}function assertIterable(e){if(!isIterable(e)){throw new TypeError(typeErrorMessage("Iterable",e))}}function assertMap(e){if(!isMap(e)){throw new TypeError(typeErrorMessage("Map",e))}}function assertNan(e){if(!isNan(e)){throw new TypeError(typeErrorMessage("NaN",e))}}function assertNativePromise(e){if(!isNativePromise(e)){throw new TypeError(typeErrorMessage("native Promise",e))}}function assertNegativeNumber(e){if(!isNegativeNumber(e)){throw new TypeError(typeErrorMessage("negative number",e))}}function assertNodeStream(e){if(!isNodeStream(e)){throw new TypeError(typeErrorMessage("Node.js Stream",e))}}function assertNonEmptyArray(e){if(!isNonEmptyArray(e)){throw new TypeError(typeErrorMessage("non-empty array",e))}}function assertNonEmptyMap(e){if(!isNonEmptyMap(e)){throw new TypeError(typeErrorMessage("non-empty map",e))}}function assertNonEmptyObject(e){if(!isNonEmptyObject(e)){throw new TypeError(typeErrorMessage("non-empty object",e))}}function assertNonEmptySet(e){if(!isNonEmptySet(e)){throw new TypeError(typeErrorMessage("non-empty set",e))}}function assertNonEmptyString(e){if(!isNonEmptyString(e)){throw new TypeError(typeErrorMessage("non-empty string",e))}}function assertNonEmptyStringAndNotWhitespace(e){if(!isNonEmptyStringAndNotWhitespace(e)){throw new TypeError(typeErrorMessage("non-empty string and not whitespace",e))}}function assertNull(e){if(!isNull(e)){throw new TypeError(typeErrorMessage("null",e))}}function assertNullOrUndefined(e){if(!isNullOrUndefined(e)){throw new TypeError(typeErrorMessage("null or undefined",e))}}function assertNumber(e){if(!isNumber(e)){throw new TypeError(typeErrorMessage("number",e))}}function assertNumericString(e){if(!isNumericString(e)){throw new TypeError(typeErrorMessage("string with a number",e))}}function assertObject(e){if(!isObject(e)){throw new TypeError(typeErrorMessage("Object",e))}}function assertObservable(e){if(!isObservable(e)){throw new TypeError(typeErrorMessage("Observable",e))}}function assertOddInteger(e){if(!isOddInteger(e)){throw new TypeError(typeErrorMessage("odd integer",e))}}function assertPlainObject(e){if(!isPlainObject(e)){throw new TypeError(typeErrorMessage("plain object",e))}}function assertPositiveNumber(e){if(!isPositiveNumber(e)){throw new TypeError(typeErrorMessage("positive number",e))}}function assertPrimitive(e){if(!isPrimitive(e)){throw new TypeError(typeErrorMessage("primitive",e))}}function assertPromise(e){if(!isPromise(e)){throw new TypeError(typeErrorMessage("Promise",e))}}function assertPropertyKey(e){if(!isPropertyKey(e)){throw new TypeError(typeErrorMessage("PropertyKey",e))}}function assertRegExp(e){if(!isRegExp(e)){throw new TypeError(typeErrorMessage("RegExp",e))}}function assertSafeInteger(e){if(!isSafeInteger(e)){throw new TypeError(typeErrorMessage("integer",e))}}function assertSet(e){if(!isSet(e)){throw new TypeError(typeErrorMessage("Set",e))}}function assertSharedArrayBuffer(e){if(!isSharedArrayBuffer(e)){throw new TypeError(typeErrorMessage("SharedArrayBuffer",e))}}function assertString(e){if(!isString(e)){throw new TypeError(typeErrorMessage("string",e))}}function assertSymbol(e){if(!isSymbol(e)){throw new TypeError(typeErrorMessage("symbol",e))}}function assertTruthy(e){if(!isTruthy(e)){throw new TypeError(typeErrorMessage("truthy",e))}}function assertTupleLike(e,t){if(!isTupleLike(e,t)){throw new TypeError(typeErrorMessage("tuple-like",e))}}function assertTypedArray(e){if(!isTypedArray(e)){throw new TypeError(typeErrorMessage("TypedArray",e))}}function assertUint16Array(e){if(!isUint16Array(e)){throw new TypeError(typeErrorMessage("Uint16Array",e))}}function assertUint32Array(e){if(!isUint32Array(e)){throw new TypeError(typeErrorMessage("Uint32Array",e))}}function assertUint8Array(e){if(!isUint8Array(e)){throw new TypeError(typeErrorMessage("Uint8Array",e))}}function assertUint8ClampedArray(e){if(!isUint8ClampedArray(e)){throw new TypeError(typeErrorMessage("Uint8ClampedArray",e))}}function assertUndefined(e){if(!isUndefined(e)){throw new TypeError(typeErrorMessage("undefined",e))}}function assertUrlInstance(e){if(!isUrlInstance(e)){throw new TypeError(typeErrorMessage("URL",e))}}function assertUrlSearchParams(e){if(!isUrlSearchParams(e)){throw new TypeError(typeErrorMessage("URLSearchParams",e))}}function assertUrlString(e){if(!isUrlString(e)){throw new TypeError(typeErrorMessage("string with a URL",e))}}function assertValidLength(e){if(!isValidLength(e)){throw new TypeError(typeErrorMessage("valid length",e))}}function assertWeakMap(e){if(!isWeakMap(e)){throw new TypeError(typeErrorMessage("WeakMap",e))}}function assertWeakRef(e){if(!isWeakRef(e)){throw new TypeError(typeErrorMessage("WeakRef",e))}}function assertWeakSet(e){if(!isWeakSet(e)){throw new TypeError(typeErrorMessage("WeakSet",e))}}function assertWhitespaceString(e){if(!isWhitespaceString(e)){throw new TypeError(typeErrorMessage("whitespace string",e))}}const p=o;const m=e(import.meta.url)("node:events");class CancelError extends Error{constructor(e){super(e||"Promise was canceled");this.name="CancelError"}get isCanceled(){return true}}const y=Object.freeze({pending:Symbol("pending"),canceled:Symbol("canceled"),resolved:Symbol("resolved"),rejected:Symbol("rejected")});class PCancelable{static fn(e){return(...t)=>new PCancelable(((r,s,n)=>{t.push(n);e(...t).then(r,s)}))}#e=[];#t=true;#r=y.pending;#s;#n;constructor(e){this.#s=new Promise(((t,r)=>{this.#n=r;const onResolve=e=>{if(this.#r!==y.canceled||!onCancel.shouldReject){t(e);this.#i(y.resolved)}};const onReject=e=>{if(this.#r!==y.canceled||!onCancel.shouldReject){r(e);this.#i(y.rejected)}};const onCancel=e=>{if(this.#r!==y.pending){throw new Error(`The \`onCancel\` handler was attached after the promise ${this.#r.description}.`)}this.#e.push(e)};Object.defineProperties(onCancel,{shouldReject:{get:()=>this.#t,set:e=>{this.#t=e}}});e(onResolve,onReject,onCancel)}))}then(e,t){return this.#s.then(e,t)}catch(e){return this.#s.catch(e)}finally(e){return this.#s.finally(e)}cancel(e){if(this.#r!==y.pending){return}this.#i(y.canceled);if(this.#e.length>0){try{for(const e of this.#e){e()}}catch(e){this.#n(e);return}}if(this.#t){this.#n(new CancelError(e))}}get isCanceled(){return this.#r===y.canceled}#i(e){if(this.#r===y.pending){this.#r=e}}}Object.setPrototypeOf(PCancelable.prototype,Promise.prototype);function isRequest(e){return p.object(e)&&"_onResponse"in e}class RequestError extends Error{input;code;stack;response;request;timings;constructor(e,t,r){super(e);Error.captureStackTrace(this,this.constructor);this.name="RequestError";this.code=t.code??"ERR_GOT_REQUEST_ERROR";this.input=t.input;if(isRequest(r)){Object.defineProperty(this,"request",{enumerable:false,value:r});Object.defineProperty(this,"response",{enumerable:false,value:r.response});this.options=r.options}else{this.options=r}this.timings=this.request?.timings;if(p.string(t.stack)&&p.string(this.stack)){const e=this.stack.indexOf(this.message)+this.message.length;const r=this.stack.slice(e).split("\n").reverse();const s=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split("\n").reverse();while(s.length>0&&s[0]===r[0]){r.shift()}this.stack=`${this.stack.slice(0,e)}${r.reverse().join("\n")}${s.reverse().join("\n")}`}}}class MaxRedirectsError extends RequestError{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e);this.name="MaxRedirectsError";this.code="ERR_TOO_MANY_REDIRECTS"}}class HTTPError extends RequestError{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request);this.name="HTTPError";this.code="ERR_NON_2XX_3XX_RESPONSE"}}class CacheError extends RequestError{constructor(e,t){super(e.message,e,t);this.name="CacheError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}}class UploadError extends RequestError{constructor(e,t){super(e.message,e,t);this.name="UploadError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}}class TimeoutError extends RequestError{timings;event;constructor(e,t,r){super(e.message,e,r);this.name="TimeoutError";this.event=e.event;this.timings=t}}class ReadError extends RequestError{constructor(e,t){super(e.message,e,t);this.name="ReadError";this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}}class RetryError extends RequestError{constructor(e){super("Retrying",{},e);this.name="RetryError";this.code="ERR_RETRYING"}}class AbortError extends RequestError{constructor(e){super("This operation was aborted.",{},e);this.code="ERR_ABORTED";this.name="AbortError"}}const g=e(import.meta.url)("node:process");const b=e(import.meta.url)("node:buffer");const w=e(import.meta.url)("node:stream");const v=e(import.meta.url)("node:http");var E=__nccwpck_require__(2361);var _=__nccwpck_require__(3837);var S=__nccwpck_require__(6214);const timer=e=>{if(e.timings){return e.timings}const t={start:Date.now(),socket:undefined,lookup:undefined,connect:undefined,secureConnect:undefined,upload:undefined,response:undefined,end:undefined,error:undefined,abort:undefined,phases:{wait:undefined,dns:undefined,tcp:undefined,tls:undefined,request:undefined,firstByte:undefined,download:undefined,total:undefined}};e.timings=t;const handleError=e=>{e.once(E.errorMonitor,(()=>{t.error=Date.now();t.phases.total=t.error-t.start}))};handleError(e);const onAbort=()=>{t.abort=Date.now();t.phases.total=t.abort-t.start};e.prependOnceListener("abort",onAbort);const onSocket=e=>{t.socket=Date.now();t.phases.wait=t.socket-t.start;if(_.types.isProxy(e)){return}const lookupListener=()=>{t.lookup=Date.now();t.phases.dns=t.lookup-t.socket};e.prependOnceListener("lookup",lookupListener);S(e,{connect:()=>{t.connect=Date.now();if(t.lookup===undefined){e.removeListener("lookup",lookupListener);t.lookup=t.connect;t.phases.dns=t.lookup-t.socket}t.phases.tcp=t.connect-t.lookup},secureConnect:()=>{t.secureConnect=Date.now();t.phases.tls=t.secureConnect-t.connect}})};if(e.socket){onSocket(e.socket)}else{e.prependOnceListener("socket",onSocket)}const onUpload=()=>{t.upload=Date.now();t.phases.request=t.upload-(t.secureConnect??t.connect)};if(e.writableFinished){onUpload()}else{e.prependOnceListener("finish",onUpload)}e.prependOnceListener("response",(r=>{t.response=Date.now();t.phases.firstByte=t.response-t.upload;r.timings=t;handleError(r);r.prependOnceListener("end",(()=>{e.off("abort",onAbort);r.off("aborted",onAbort);if(t.phases.total){return}t.end=Date.now();t.phases.download=t.end-t.response;t.phases.total=t.end-t.start}));r.prependOnceListener("aborted",onAbort)}));return t};const O=timer;const A=e(import.meta.url)("node:url");const R=e(import.meta.url)("node:crypto");const T="text/plain";const x="us-ascii";const testParameter=(e,t)=>t.some((t=>t instanceof RegExp?t.test(e):t===e));const k=new Set(["https:","http:","file:"]);const hasCustomProtocol=e=>{try{const{protocol:t}=new URL(e);return t.endsWith(":")&&!k.has(t)}catch{return false}};const normalizeDataURL=(e,{stripHash:t})=>{const r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r){throw new Error(`Invalid URL: ${e}`)}let{type:s,data:n,hash:i}=r.groups;const o=s.split(";");i=t?"":i;let a=false;if(o[o.length-1]==="base64"){o.pop();a=true}const c=o.shift()?.toLowerCase()??"";const u=o.map((e=>{let[t,r=""]=e.split("=").map((e=>e.trim()));if(t==="charset"){r=r.toLowerCase();if(r===x){return""}}return`${t}${r?`=${r}`:""}`})).filter(Boolean);const l=[...u];if(a){l.push("base64")}if(l.length>0||c&&c!==T){l.unshift(c)}return`data:${l.join(";")},${a?n.trim():n}${i?`#${i}`:""}`};function normalizeUrl(e,t){t={defaultProtocol:"http",normalizeProtocol:true,forceHttp:false,forceHttps:false,stripAuthentication:true,stripHash:false,stripTextFragment:true,stripWWW:true,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:true,removeSingleSlash:true,removeDirectoryIndex:false,removeExplicitPort:false,sortQueryParameters:true,...t};if(typeof t.defaultProtocol==="string"&&!t.defaultProtocol.endsWith(":")){t.defaultProtocol=`${t.defaultProtocol}:`}e=e.trim();if(/^data:/i.test(e)){return normalizeDataURL(e,t)}if(hasCustomProtocol(e)){return e}const r=e.startsWith("//");const s=!r&&/^\.*\//.test(e);if(!s){e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol)}const n=new URL(e);if(t.forceHttp&&t.forceHttps){throw new Error("The `forceHttp` and `forceHttps` options cannot be used together")}if(t.forceHttp&&n.protocol==="https:"){n.protocol="http:"}if(t.forceHttps&&n.protocol==="http:"){n.protocol="https:"}if(t.stripAuthentication){n.username="";n.password=""}if(t.stripHash){n.hash=""}else if(t.stripTextFragment){n.hash=n.hash.replace(/#?:~:text.*?$/i,"")}if(n.pathname){const e=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g;let t=0;let r="";for(;;){const s=e.exec(n.pathname);if(!s){break}const i=s[0];const o=s.index;const a=n.pathname.slice(t,o);r+=a.replace(/\/{2,}/g,"/");r+=i;t=o+i.length}const s=n.pathname.slice(t,n.pathname.length);r+=s.replace(/\/{2,}/g,"/");n.pathname=r}if(n.pathname){try{n.pathname=decodeURI(n.pathname)}catch{}}if(t.removeDirectoryIndex===true){t.removeDirectoryIndex=[/^index\.[a-z]+$/]}if(Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=n.pathname.split("/");const r=e[e.length-1];if(testParameter(r,t.removeDirectoryIndex)){e=e.slice(0,-1);n.pathname=e.slice(1).join("/")+"/"}}if(n.hostname){n.hostname=n.hostname.replace(/\.$/,"");if(t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)){n.hostname=n.hostname.replace(/^www\./,"")}}if(Array.isArray(t.removeQueryParameters)){for(const e of[...n.searchParams.keys()]){if(testParameter(e,t.removeQueryParameters)){n.searchParams.delete(e)}}}if(!Array.isArray(t.keepQueryParameters)&&t.removeQueryParameters===true){n.search=""}if(Array.isArray(t.keepQueryParameters)&&t.keepQueryParameters.length>0){for(const e of[...n.searchParams.keys()]){if(!testParameter(e,t.keepQueryParameters)){n.searchParams.delete(e)}}}if(t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}if(t.removeTrailingSlash){n.pathname=n.pathname.replace(/\/$/,"")}if(t.removeExplicitPort&&n.port){n.port=""}const i=e;e=n.toString();if(!t.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""){e=e.replace(/\/$/,"")}if((t.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&t.removeSingleSlash){e=e.replace(/\/$/,"")}if(r&&!t.normalizeProtocol){e=e.replace(/^http:\/\//,"//")}if(t.stripProtocol){e=e.replace(/^(?:https?:)?\/\//,"")}return e}var P=__nccwpck_require__(1766);var C=__nccwpck_require__(1002);function lowercaseKeys(e){return Object.fromEntries(Object.entries(e).map((([e,t])=>[e.toLowerCase(),t])))}class Response extends w.Readable{statusCode;headers;body;url;constructor({statusCode:e,headers:t,body:r,url:s}){if(typeof e!=="number"){throw new TypeError("Argument `statusCode` should be a number")}if(typeof t!=="object"){throw new TypeError("Argument `headers` should be an object")}if(!(r instanceof Uint8Array)){throw new TypeError("Argument `body` should be a buffer")}if(typeof s!=="string"){throw new TypeError("Argument `url` should be a string")}super({read(){this.push(r);this.push(null)}});this.statusCode=e;this.headers=lowercaseKeys(t);this.body=r;this.url=s}}var I=__nccwpck_require__(1531);const j=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];function mimicResponse(e,t){if(t._readableState.autoDestroy){throw new Error("The second stream must have the `autoDestroy` option set to `false`")}const r=new Set([...Object.keys(e),...j]);const s={};for(const n of r){if(n in t){continue}s[n]={get(){const t=e[n];const r=typeof t==="function";return r?t.bind(e):t},set(t){e[n]=t},enumerable:true,configurable:false}}Object.defineProperties(t,s);e.once("aborted",(()=>{t.destroy();t.emit("aborted")}));e.once("close",(()=>{if(e.complete){if(t.readable){t.once("end",(()=>{t.emit("close")}))}else{t.emit("close")}}else{t.emit("close")}}));return t}class types_RequestError extends Error{constructor(e){super(e.message);Object.assign(this,e)}}class types_CacheError extends Error{constructor(e){super(e.message);Object.assign(this,e)}}class CacheableRequest{constructor(e,t){this.hooks=new Map;this.request=()=>(e,t)=>{let r;if(typeof e==="string"){r=normalizeUrlObject(A.parse(e));e={}}else if(e instanceof A.URL){r=normalizeUrlObject(A.parse(e.toString()));e={}}else{const[t,...s]=(e.path??"").split("?");const n=s.length>0?`?${s.join("?")}`:"";r=normalizeUrlObject({...e,pathname:t,search:n})}e={headers:{},method:"GET",cache:true,strictTtl:false,automaticFailover:false,...e,...urlObjectToRequestOptions(r)};e.headers=Object.fromEntries(N(e.headers).map((([e,t])=>[e.toLowerCase(),t])));const s=new m;const n=normalizeUrl(A.format(r),{stripWWW:false,removeTrailingSlash:false,stripAuthentication:false});let i=`${e.method}:${n}`;if(e.body&&e.method!==undefined&&["POST","PATCH","PUT"].includes(e.method)){if(e.body instanceof w.Readable){e.cache=false}else{i+=`:${R.createHash("md5").update(e.body).digest("hex")}`}}let o=false;let a=false;const makeRequest=e=>{a=true;let r=false;let requestErrorCallback=()=>{};const n=new Promise((e=>{requestErrorCallback=()=>{if(!r){r=true;e()}}}));const handler=async r=>{if(o){r.status=r.statusCode;const t=C.fromObject(o.cachePolicy).revalidatedPolicy(e,r);if(!t.modified){r.resume();await new Promise((e=>{r.once("end",e)}));const e=convertHeaders(t.policy.responseHeaders());r=new Response({statusCode:o.statusCode,headers:e,body:o.body,url:o.url});r.cachePolicy=t.policy;r.fromCache=true}}if(!r.fromCache){r.cachePolicy=new C(e,r,e);r.fromCache=false}let a;if(e.cache&&r.cachePolicy.storable()){a=cloneResponse(r);(async()=>{try{const t=P.buffer(r);await Promise.race([n,new Promise((e=>r.once("end",e))),new Promise((e=>r.once("close",e)))]);const s=await t;let a={url:r.url,statusCode:r.fromCache?o.statusCode:r.statusCode,body:s,cachePolicy:r.cachePolicy.toObject()};let c=e.strictTtl?r.cachePolicy.timeToLive():undefined;if(e.maxTtl){c=c?Math.min(c,e.maxTtl):e.maxTtl}if(this.hooks.size>0){for(const e of this.hooks.keys()){a=await this.runHook(e,a,r)}}await this.cache.set(i,a,c)}catch(e){s.emit("error",new types_CacheError(e))}})()}else if(e.cache&&o){(async()=>{try{await this.cache.delete(i)}catch(e){s.emit("error",new types_CacheError(e))}})()}s.emit("response",a??r);if(typeof t==="function"){t(a??r)}};try{const t=this.cacheRequest(e,handler);t.once("error",requestErrorCallback);t.once("abort",requestErrorCallback);t.once("destroy",requestErrorCallback);s.emit("request",t)}catch(e){s.emit("error",new types_RequestError(e))}};(async()=>{const get=async e=>{await Promise.resolve();const r=e.cache?await this.cache.get(i):undefined;if(r===undefined&&!e.forceRefresh){makeRequest(e);return}const n=C.fromObject(r.cachePolicy);if(n.satisfiesWithoutRevalidation(e)&&!e.forceRefresh){const e=convertHeaders(n.responseHeaders());const i=new Response({statusCode:r.statusCode,headers:e,body:r.body,url:r.url});i.cachePolicy=n;i.fromCache=true;s.emit("response",i);if(typeof t==="function"){t(i)}}else if(n.satisfiesWithoutRevalidation(e)&&Date.now()>=n.timeToLive()&&e.forceRefresh){await this.cache.delete(i);e.headers=n.revalidationHeaders(e);makeRequest(e)}else{o=r;e.headers=n.revalidationHeaders(e);makeRequest(e)}};const errorHandler=e=>s.emit("error",new types_CacheError(e));if(this.cache instanceof I){const e=this.cache;e.once("error",errorHandler);s.on("error",(()=>e.removeListener("error",errorHandler)));s.on("response",(()=>e.removeListener("error",errorHandler)))}try{await get(e)}catch(t){if(e.automaticFailover&&!a){makeRequest(e)}s.emit("error",new types_CacheError(t))}})();return s};this.addHook=(e,t)=>{if(!this.hooks.has(e)){this.hooks.set(e,t)}};this.removeHook=e=>this.hooks.delete(e);this.getHook=e=>this.hooks.get(e);this.runHook=async(e,...t)=>this.hooks.get(e)?.(...t);if(t instanceof I){this.cache=t}else if(typeof t==="string"){this.cache=new I({uri:t,namespace:"cacheable-request"})}else{this.cache=new I({store:t,namespace:"cacheable-request"})}this.request=this.request.bind(this);this.cacheRequest=e}}const N=Object.entries;const cloneResponse=e=>{const t=new w.PassThrough({autoDestroy:false});mimicResponse(e,t);return e.pipe(t)};const urlObjectToRequestOptions=e=>{const t={...e};t.path=`${e.pathname||"/"}${e.search||""}`;delete t.pathname;delete t.search;return t};const normalizeUrlObject=e=>({protocol:e.protocol,auth:e.auth,hostname:e.hostname||e.host||"localhost",port:e.port,pathname:e.pathname,search:e.search});const convertHeaders=e=>{const t=[];for(const r of Object.keys(e)){t[r.toLowerCase()]=e[r]}return t};const L=CacheableRequest;const $="onResponse";var M=__nccwpck_require__(2391);const contents_getStreamContents=async(e,{init:t,convertChunk:r,getSize:s,truncateChunk:n,addChunk:i,getFinalChunk:o,finalize:a},{maxBuffer:c=Number.POSITIVE_INFINITY}={})=>{if(!contents_isAsyncIterable(e)){throw new Error("The first argument must be a Readable, a ReadableStream, or an async iterable.")}const u=t();u.length=0;try{for await(const t of e){const e=getChunkType(t);const o=r[e](t,u);appendChunk({convertedChunk:o,state:u,getSize:s,truncateChunk:n,addChunk:i,maxBuffer:c})}appendFinalChunk({state:u,convertChunk:r,getSize:s,truncateChunk:n,addChunk:i,getFinalChunk:o,maxBuffer:c});return a(u)}catch(e){e.bufferedData=a(u);throw e}};const appendFinalChunk=({state:e,getSize:t,truncateChunk:r,addChunk:s,getFinalChunk:n,maxBuffer:i})=>{const o=n(e);if(o!==undefined){appendChunk({convertedChunk:o,state:e,getSize:t,truncateChunk:r,addChunk:s,maxBuffer:i})}};const appendChunk=({convertedChunk:e,state:t,getSize:r,truncateChunk:s,addChunk:n,maxBuffer:i})=>{const o=r(e);const a=t.length+o;if(a<=i){addNewChunk(e,t,n,a);return}const c=s(e,i-t.length);if(c!==undefined){addNewChunk(c,t,n,i)}throw new MaxBufferError};const addNewChunk=(e,t,r,s)=>{t.contents=r(e,t,s);t.length=s};const contents_isAsyncIterable=e=>typeof e==="object"&&e!==null&&typeof e[Symbol.asyncIterator]==="function";const getChunkType=e=>{const t=typeof e;if(t==="string"){return"string"}if(t!=="object"||e===null){return"others"}if(globalThis.Buffer?.isBuffer(e)){return"buffer"}const r=q.call(e);if(r==="[object ArrayBuffer]"){return"arrayBuffer"}if(r==="[object DataView]"){return"dataView"}if(Number.isInteger(e.byteLength)&&Number.isInteger(e.byteOffset)&&q.call(e.buffer)==="[object ArrayBuffer]"){return"typedArray"}return"others"};const{toString:q}=Object.prototype;class MaxBufferError extends Error{name="MaxBufferError";constructor(){super("maxBuffer exceeded")}}const identity=e=>e;const noop=()=>undefined;const getContentsProp=({contents:e})=>e;const throwObjectStream=e=>{throw new Error(`Streams in object mode are not supported: ${String(e)}`)};const getLengthProp=e=>e.length;async function getStreamAsArray(e,t){return getStreamContents(e,H,t)}const initArray=()=>({contents:[]});const increment=()=>1;const addArrayChunk=(e,{contents:t})=>{t.push(e);return t};const H={init:initArray,convertChunk:{string:identity,buffer:identity,arrayBuffer:identity,dataView:identity,typedArray:identity,others:identity},getSize:increment,truncateChunk:noop,addChunk:addArrayChunk,getFinalChunk:noop,finalize:getContentsProp};async function getStreamAsArrayBuffer(e,t){return contents_getStreamContents(e,B,t)}const initArrayBuffer=()=>({contents:new ArrayBuffer(0)});const useTextEncoder=e=>U.encode(e);const U=new TextEncoder;const useUint8Array=e=>new Uint8Array(e);const useUint8ArrayWithOffset=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);const truncateArrayBufferChunk=(e,t)=>e.slice(0,t);const addArrayBufferChunk=(e,{contents:t,length:r},s)=>{const n=hasArrayBufferResize()?resizeArrayBuffer(t,s):resizeArrayBufferSlow(t,s);new Uint8Array(n).set(e,r);return n};const resizeArrayBufferSlow=(e,t)=>{if(t<=e.byteLength){return e}const r=new ArrayBuffer(getNewContentsLength(t));new Uint8Array(r).set(new Uint8Array(e),0);return r};const resizeArrayBuffer=(e,t)=>{if(t<=e.maxByteLength){e.resize(t);return e}const r=new ArrayBuffer(t,{maxByteLength:getNewContentsLength(t)});new Uint8Array(r).set(new Uint8Array(e),0);return r};const getNewContentsLength=e=>D**Math.ceil(Math.log(e)/Math.log(D));const D=2;const finalizeArrayBuffer=({contents:e,length:t})=>hasArrayBufferResize()?e:e.slice(0,t);const hasArrayBufferResize=()=>"resize"in ArrayBuffer.prototype;const B={init:initArrayBuffer,convertChunk:{string:useTextEncoder,buffer:useUint8Array,arrayBuffer:useUint8Array,dataView:useUint8ArrayWithOffset,typedArray:useUint8ArrayWithOffset,others:throwObjectStream},getSize:getLengthProp,truncateChunk:truncateArrayBufferChunk,addChunk:addArrayBufferChunk,getFinalChunk:noop,finalize:finalizeArrayBuffer};async function getStreamAsBuffer(e,t){if(!("Buffer"in globalThis)){throw new Error("getStreamAsBuffer() is only supported in Node.js")}try{return arrayBufferToNodeBuffer(await getStreamAsArrayBuffer(e,t))}catch(e){if(e.bufferedData!==undefined){e.bufferedData=arrayBufferToNodeBuffer(e.bufferedData)}throw e}}const arrayBufferToNodeBuffer=e=>globalThis.Buffer.from(e);async function getStreamAsString(e,t){return getStreamContents(e,F,t)}const initString=()=>({contents:"",textDecoder:new TextDecoder});const useTextDecoder=(e,{textDecoder:t})=>t.decode(e,{stream:true});const addStringChunk=(e,{contents:t})=>t+e;const truncateStringChunk=(e,t)=>e.slice(0,t);const getFinalStringChunk=({textDecoder:e})=>{const t=e.decode();return t===""?undefined:t};const F={init:initString,convertChunk:{string:identity,buffer:useTextDecoder,arrayBuffer:useTextDecoder,dataView:useTextDecoder,typedArray:useTextDecoder,others:throwObjectStream},getSize:getLengthProp,truncateChunk:truncateStringChunk,addChunk:addStringChunk,getFinalChunk:getFinalStringChunk,finalize:getContentsProp};var __accessCheck=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)};var __privateGet=(e,t,r)=>{__accessCheck(e,t,"read from private field");return r?r.call(e):t.get(e)};var __privateAdd=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)};var __privateSet=(e,t,r,s)=>{__accessCheck(e,t,"write to private field");s?s.call(e,r):t.set(e,r);return r};var __privateMethod=(e,t,r)=>{__accessCheck(e,t,"access private method");return r};var lib_isFunction=e=>typeof e==="function";var lib_isAsyncIterable=e=>lib_isFunction(e[Symbol.asyncIterator]);var z=65536;function*chunk(e){if(e.byteLength<=z){yield e;return}let t=0;while(t<e.byteLength){const r=Math.min(e.byteLength-t,z);const s=e.buffer.slice(t,t+r);t+=s.byteLength;yield new Uint8Array(s)}}async function*readStream(e){const t=e.getReader();while(true){const{done:e,value:r}=await t.read();if(e){break}yield r}}async function*chunkStream(e){for await(const t of e){yield*chunk(t)}}var getStreamIterator=e=>{if(lib_isAsyncIterable(e)){return chunkStream(e)}if(lib_isFunction(e.getReader)){return chunkStream(readStream(e))}throw new TypeError("Unsupported data source: Expected either ReadableStream or async iterable.")};var V="abcdefghijklmnopqrstuvwxyz0123456789";function createBoundary(){let e=16;let t="";while(e--){t+=V[Math.random()*V.length<<0]}return t}var normalizeValue=e=>String(e).replace(/\r|\n/g,((e,t,r)=>{if(e==="\r"&&r[t+1]!=="\n"||e==="\n"&&r[t-1]!=="\r"){return"\r\n"}return e}));var getType=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase();function lib_isPlainObject(e){if(getType(e)!=="object"){return false}const t=Object.getPrototypeOf(e);if(t===null||t===void 0){return true}const r=t.constructor&&t.constructor.toString();return r===Object.toString()}function getProperty(e,t){if(typeof t==="string"){for(const[r,s]of Object.entries(e)){if(t.toLowerCase()===r.toLowerCase()){return s}}}return void 0}var proxyHeaders=e=>new Proxy(e,{get:(e,t)=>getProperty(e,t),has:(e,t)=>getProperty(e,t)!==void 0});var lib_isFormData=e=>Boolean(e&&lib_isFunction(e.constructor)&&e[Symbol.toStringTag]==="FormData"&&lib_isFunction(e.append)&&lib_isFunction(e.getAll)&&lib_isFunction(e.entries)&&lib_isFunction(e[Symbol.iterator]));var escapeName=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22");var isFile=e=>Boolean(e&&typeof e==="object"&&lib_isFunction(e.constructor)&&e[Symbol.toStringTag]==="File"&&lib_isFunction(e.stream)&&e.name!=null);var G={enableAdditionalHeaders:false};var W={writable:false,configurable:false};var K,J,Y,X,Q,Z,ee,te,re,se,ne,ie;var oe=class{constructor(e,t,r){__privateAdd(this,re);__privateAdd(this,ne);__privateAdd(this,K,"\r\n");__privateAdd(this,J,void 0);__privateAdd(this,Y,void 0);__privateAdd(this,X,"-".repeat(2));__privateAdd(this,Q,new TextEncoder);__privateAdd(this,Z,void 0);__privateAdd(this,ee,void 0);__privateAdd(this,te,void 0);if(!lib_isFormData(e)){throw new TypeError("Expected first argument to be a FormData instance.")}let s;if(lib_isPlainObject(t)){r=t}else{s=t}if(!s){s=createBoundary()}if(typeof s!=="string"){throw new TypeError("Expected boundary argument to be a string.")}if(r&&!lib_isPlainObject(r)){throw new TypeError("Expected options argument to be an object.")}__privateSet(this,ee,Array.from(e.entries()));__privateSet(this,te,{...G,...r});__privateSet(this,J,__privateGet(this,Q).encode(__privateGet(this,K)));__privateSet(this,Y,__privateGet(this,J).byteLength);this.boundary=`form-data-boundary-${s}`;this.contentType=`multipart/form-data; boundary=${this.boundary}`;__privateSet(this,Z,__privateGet(this,Q).encode(`${__privateGet(this,X)}${this.boundary}${__privateGet(this,X)}${__privateGet(this,K).repeat(2)}`));const n={"Content-Type":this.contentType};const i=__privateMethod(this,ne,ie).call(this);if(i){this.contentLength=i;n["Content-Length"]=i}this.headers=proxyHeaders(Object.freeze(n));Object.defineProperties(this,{boundary:W,contentType:W,contentLength:W,headers:W})}*values(){for(const[e,t]of __privateGet(this,ee)){const r=isFile(t)?t:__privateGet(this,Q).encode(normalizeValue(t));yield __privateMethod(this,re,se).call(this,e,r);yield r;yield __privateGet(this,J)}yield __privateGet(this,Z)}async*encode(){for(const e of this.values()){if(isFile(e)){yield*getStreamIterator(e.stream())}else{yield*chunk(e)}}}[Symbol.iterator](){return this.values()}[Symbol.asyncIterator](){return this.encode()}};K=new WeakMap;J=new WeakMap;Y=new WeakMap;X=new WeakMap;Q=new WeakMap;Z=new WeakMap;ee=new WeakMap;te=new WeakMap;re=new WeakSet;se=function(e,t){let r="";r+=`${__privateGet(this,X)}${this.boundary}${__privateGet(this,K)}`;r+=`Content-Disposition: form-data; name="${escapeName(e)}"`;if(isFile(t)){r+=`; filename="${escapeName(t.name)}"${__privateGet(this,K)}`;r+=`Content-Type: ${t.type||"application/octet-stream"}`}if(__privateGet(this,te).enableAdditionalHeaders===true){const e=isFile(t)?t.size:t.byteLength;if(e!=null&&!isNaN(e)){r+=`${__privateGet(this,K)}Content-Length: ${e}`}}return __privateGet(this,Q).encode(`${r}${__privateGet(this,K).repeat(2)}`)};ne=new WeakSet;ie=function(){let e=0;for(const[t,r]of __privateGet(this,ee)){const s=isFile(r)?r:__privateGet(this,Q).encode(normalizeValue(r));const n=isFile(s)?s.size:s.byteLength;if(n==null||isNaN(n)){return void 0}e+=__privateMethod(this,re,se).call(this,t,s).byteLength;e+=n;e+=__privateGet(this,Y)}return String(e+__privateGet(this,Z).byteLength)};const ae=e(import.meta.url)("node:util");function is_form_data_isFormData(e){return p.nodeStream(e)&&p.function_(e.getBoundary)}async function getBodySize(e,t){if(t&&"content-length"in t){return Number(t["content-length"])}if(!e){return 0}if(p.string(e)){return b.Buffer.byteLength(e)}if(p.buffer(e)){return e.length}if(is_form_data_isFormData(e)){return(0,ae.promisify)(e.getLength.bind(e))()}return undefined}function proxyEvents(e,t,r){const s={};for(const n of r){const eventFunction=(...e)=>{t.emit(n,...e)};s[n]=eventFunction;e.on(n,eventFunction)}return()=>{for(const[t,r]of Object.entries(s)){e.off(t,r)}}}const ce=e(import.meta.url)("node:net");function unhandle(){const e=[];return{once(t,r,s){t.once(r,s);e.push({origin:t,event:r,fn:s})},unhandleAll(){for(const t of e){const{origin:e,event:r,fn:s}=t;e.removeListener(r,s)}e.length=0}}}const ue=Symbol("reentry");const timed_out_noop=()=>{};class timed_out_TimeoutError extends Error{event;code;constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`);this.event=t;this.name="TimeoutError";this.code="ETIMEDOUT"}}function timedOut(e,t,r){if(ue in e){return timed_out_noop}e[ue]=true;const s=[];const{once:n,unhandleAll:i}=unhandle();const addTimeout=(e,t,r)=>{const n=setTimeout(t,e,e,r);n.unref?.();const cancel=()=>{clearTimeout(n)};s.push(cancel);return cancel};const{host:o,hostname:a}=r;const timeoutHandler=(t,r)=>{e.destroy(new timed_out_TimeoutError(t,r))};const cancelTimeouts=()=>{for(const e of s){e()}i()};e.once("error",(t=>{cancelTimeouts();if(e.listenerCount("error")===0){throw t}}));if(t.request!==undefined){const r=addTimeout(t.request,timeoutHandler,"request");n(e,"response",(e=>{n(e,"end",r)}))}if(t.socket!==undefined){const{socket:r}=t;const socketTimeoutHandler=()=>{timeoutHandler(r,"socket")};e.setTimeout(r,socketTimeoutHandler);s.push((()=>{e.removeListener("timeout",socketTimeoutHandler)}))}const c=t.lookup!==undefined;const u=t.connect!==undefined;const l=t.secureConnect!==undefined;const f=t.send!==undefined;if(c||u||l||f){n(e,"socket",(s=>{const{socketPath:i}=e;if(s.connecting){const e=Boolean(i??ce.isIP(a??o??"")!==0);if(c&&!e&&s.address().address===undefined){const e=addTimeout(t.lookup,timeoutHandler,"lookup");n(s,"lookup",e)}if(u){const timeConnect=()=>addTimeout(t.connect,timeoutHandler,"connect");if(e){n(s,"connect",timeConnect())}else{n(s,"lookup",(e=>{if(e===null){n(s,"connect",timeConnect())}}))}}if(l&&r.protocol==="https:"){n(s,"connect",(()=>{const e=addTimeout(t.secureConnect,timeoutHandler,"secureConnect");n(s,"secureConnect",e)}))}}if(f){const timeRequest=()=>addTimeout(t.send,timeoutHandler,"send");if(s.connecting){n(s,"connect",(()=>{n(e,"upload-complete",timeRequest())}))}else{n(e,"upload-complete",timeRequest())}}}))}if(t.response!==undefined){n(e,"upload-complete",(()=>{const r=addTimeout(t.response,timeoutHandler,"response");n(e,"response",r)}))}if(t.read!==undefined){n(e,"response",(e=>{const r=addTimeout(t.read,timeoutHandler,"read");n(e,"end",r)}))}return cancelTimeouts}function urlToOptions(e){e=e;const t={protocol:e.protocol,hostname:p.string(e.hostname)&&e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,host:e.host,hash:e.hash,search:e.search,pathname:e.pathname,href:e.href,path:`${e.pathname||""}${e.search||""}`};if(p.string(e.port)&&e.port.length>0){t.port=Number(e.port)}if(e.username||e.password){t.auth=`${e.username||""}:${e.password||""}`}return t}class WeakableMap{weakMap;map;constructor(){this.weakMap=new WeakMap;this.map=new Map}set(e,t){if(typeof e==="object"){this.weakMap.set(e,t)}else{this.map.set(e,t)}}get(e){if(typeof e==="object"){return this.weakMap.get(e)}return this.map.get(e)}has(e){if(typeof e==="object"){return this.weakMap.has(e)}return this.map.has(e)}}const calculateRetryDelay=({attemptCount:e,retryOptions:t,error:r,retryAfter:s,computedValue:n})=>{if(r.name==="RetryError"){return 1}if(e>t.limit){return 0}const i=t.methods.includes(r.options.method);const o=t.errorCodes.includes(r.code);const a=r.response&&t.statusCodes.includes(r.response.statusCode);if(!i||!o&&!a){return 0}if(r.response){if(s){if(s>n){return 0}return s}if(r.response.statusCode===413){return 0}}const c=Math.random()*t.noise;return Math.min(2**(e-1)*1e3,t.backoffLimit)+c};const le=calculateRetryDelay;const fe=e(import.meta.url)("node:tls");const he=e(import.meta.url)("node:https");const de=e(import.meta.url)("node:dns");const pe=e(import.meta.url)("node:os");const{Resolver:me}=de.promises;const ye=Symbol("cacheableLookupCreateConnection");const ge=Symbol("cacheableLookupInstance");const be=Symbol("expires");const we=typeof de.ALL==="number";const verifyAgent=e=>{if(!(e&&typeof e.createConnection==="function")){throw new Error("Expected an Agent instance as the first argument")}};const map4to6=e=>{for(const t of e){if(t.family===6){continue}t.address=`::ffff:${t.address}`;t.family=6}};const getIfaceInfo=()=>{let e=false;let t=false;for(const r of Object.values(pe.networkInterfaces())){for(const s of r){if(s.internal){continue}if(s.family==="IPv6"){t=true}else{e=true}if(e&&t){return{has4:e,has6:t}}}}return{has4:e,has6:t}};const source_isIterable=e=>Symbol.iterator in e;const ignoreNoResultErrors=e=>e.catch((e=>{if(e.code==="ENODATA"||e.code==="ENOTFOUND"||e.code==="ENOENT"){return[]}throw e}));const ve={ttl:true};const Ee={all:true};const _e={all:true,family:4};const Se={all:true,family:6};class CacheableLookup{constructor({cache:e=new Map,maxTtl:t=Infinity,fallbackDuration:r=3600,errorTtl:s=.15,resolver:n=new me,lookup:i=de.lookup}={}){this.maxTtl=t;this.errorTtl=s;this._cache=e;this._resolver=n;this._dnsLookup=i&&(0,ae.promisify)(i);this.stats={cache:0,query:0};if(this._resolver instanceof me){this._resolve4=this._resolver.resolve4.bind(this._resolver);this._resolve6=this._resolver.resolve6.bind(this._resolver)}else{this._resolve4=(0,ae.promisify)(this._resolver.resolve4.bind(this._resolver));this._resolve6=(0,ae.promisify)(this._resolver.resolve6.bind(this._resolver))}this._iface=getIfaceInfo();this._pending={};this._nextRemovalTime=false;this._hostnamesToFallback=new Set;this.fallbackDuration=r;if(r>0){const e=setInterval((()=>{this._hostnamesToFallback.clear()}),r*1e3);if(e.unref){e.unref()}this._fallbackInterval=e}this.lookup=this.lookup.bind(this);this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear();this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,r){if(typeof t==="function"){r=t;t={}}else if(typeof t==="number"){t={family:t}}if(!r){throw new Error("Callback must be a function.")}this.lookupAsync(e,t).then((e=>{if(t.all){r(null,e)}else{r(null,e.address,e.family,e.expires,e.ttl,e.source)}}),r)}async lookupAsync(e,t={}){if(typeof t==="number"){t={family:t}}let r=await this.query(e);if(t.family===6){const e=r.filter((e=>e.family===6));if(t.hints&de.V4MAPPED){if(we&&t.hints&de.ALL||e.length===0){map4to6(r)}else{r=e}}else{r=e}}else if(t.family===4){r=r.filter((e=>e.family===4))}if(t.hints&de.ADDRCONFIG){const{_iface:e}=this;r=r.filter((t=>t.family===6?e.has6:e.has4))}if(r.length===0){const t=new Error(`cacheableLookup ENOTFOUND ${e}`);t.code="ENOTFOUND";t.hostname=e;throw t}if(t.all){return r}return r[0]}async query(e){let t="cache";let r=await this._cache.get(e);if(r){this.stats.cache++}if(!r){const s=this._pending[e];if(s){this.stats.cache++;r=await s}else{t="query";const s=this.queryAndCache(e);this._pending[e]=s;this.stats.query++;try{r=await s}finally{delete this._pending[e]}}}r=r.map((e=>({...e,source:t})));return r}async _resolve(e){const[t,r]=await Promise.all([ignoreNoResultErrors(this._resolve4(e,ve)),ignoreNoResultErrors(this._resolve6(e,ve))]);let s=0;let n=0;let i=0;const o=Date.now();for(const e of t){e.family=4;e.expires=o+e.ttl*1e3;s=Math.max(s,e.ttl)}for(const e of r){e.family=6;e.expires=o+e.ttl*1e3;n=Math.max(n,e.ttl)}if(t.length>0){if(r.length>0){i=Math.min(s,n)}else{i=s}}else{i=n}return{entries:[...t,...r],cacheTtl:i}}async _lookup(e){try{const[t,r]=await Promise.all([ignoreNoResultErrors(this._dnsLookup(e,_e)),ignoreNoResultErrors(this._dnsLookup(e,Se))]);return{entries:[...t,...r],cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,t,r){if(this.maxTtl>0&&r>0){r=Math.min(r,this.maxTtl)*1e3;t[be]=Date.now()+r;try{await this._cache.set(e,t,r)}catch(e){this.lookupAsync=async()=>{const t=new Error("Cache Error. Please recreate the CacheableLookup instance.");t.cause=e;throw t}}if(source_isIterable(this._cache)){this._tick(r)}}}async queryAndCache(e){if(this._hostnamesToFallback.has(e)){return this._dnsLookup(e,Ee)}let t=await this._resolve(e);if(t.entries.length===0&&this._dnsLookup){t=await this._lookup(e);if(t.entries.length!==0&&this.fallbackDuration>0){this._hostnamesToFallback.add(e)}}const r=t.entries.length===0?this.errorTtl:t.cacheTtl;await this._set(e,t.entries,r);return t.entries}_tick(e){const t=this._nextRemovalTime;if(!t||e<t){clearTimeout(this._removalTimeout);this._nextRemovalTime=e;this._removalTimeout=setTimeout((()=>{this._nextRemovalTime=false;let e=Infinity;const t=Date.now();for(const[r,s]of this._cache){const n=s[be];if(t>=n){this._cache.delete(r)}else if(n<e){e=n}}if(e!==Infinity){this._tick(e-t)}}),e);if(this._removalTimeout.unref){this._removalTimeout.unref()}}}install(e){verifyAgent(e);if(ye in e){throw new Error("CacheableLookup has been already installed")}e[ye]=e.createConnection;e[ge]=this;e.createConnection=(t,r)=>{if(!("lookup"in t)){t.lookup=this.lookup}return e[ye](t,r)}}uninstall(e){verifyAgent(e);if(e[ye]){if(e[ge]!==this){throw new Error("The agent is not owned by this CacheableLookup instance")}e.createConnection=e[ye];delete e[ye];delete e[ge]}}updateInterfaceInfo(){const{_iface:e}=this;this._iface=getIfaceInfo();if(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6){this._cache.clear()}}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}}var Oe=__nccwpck_require__(4645);function parseLinkHeader(e){const t=[];const r=e.split(",");for(const s of r){const[r,...n]=s.split(";");const i=r.trim();if(i[0]!=="<"||i.at(-1)!==">"){throw new Error(`Invalid format of the Link header reference: ${i}`)}const o=i.slice(1,-1);const a={};if(n.length===0){throw new Error(`Unexpected end of Link header parameters: ${n.join(";")}`)}for(const t of n){const r=t.trim();const s=r.indexOf("=");if(s===-1){throw new Error(`Failed to parse Link header: ${e}`)}const n=r.slice(0,s).trim();const i=r.slice(s+1).trim();a[n]=i}t.push({reference:o,parameters:a})}return t}const[Ae,Re]=g.versions.node.split(".").map(Number);function validateSearchParameters(e){for(const t in e){const r=e[t];f.any([p.string,p.number,p.boolean,p.null_,p.undefined],r)}}const Te=new Map;let xe;const getGlobalDnsCache=()=>{if(xe){return xe}xe=new CacheableLookup;return xe};const ke={request:undefined,agent:{http:undefined,https:undefined,http2:undefined},h2session:undefined,decompress:true,timeout:{connect:undefined,lookup:undefined,read:undefined,request:undefined,response:undefined,secureConnect:undefined,send:undefined,socket:undefined},prefixUrl:"",body:undefined,form:undefined,json:undefined,cookieJar:undefined,ignoreInvalidCookies:false,searchParams:undefined,dnsLookup:undefined,dnsCache:undefined,context:{},hooks:{init:[],beforeRequest:[],beforeError:[],beforeRedirect:[],beforeRetry:[],afterResponse:[]},followRedirect:true,maxRedirects:10,cache:undefined,throwHttpErrors:true,username:"",password:"",http2:false,allowGetBody:false,headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},methodRewriting:false,dnsLookupIpVersion:undefined,parseJson:JSON.parse,stringifyJson:JSON.stringify,retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:undefined,calculateDelay:({computedValue:e})=>e,backoffLimit:Number.POSITIVE_INFINITY,noise:100},localAddress:undefined,method:"GET",createConnection:undefined,cacheOptions:{shared:undefined,cacheHeuristic:undefined,immutableMinTimeToLive:undefined,ignoreCargoCult:undefined},https:{alpnProtocols:undefined,rejectUnauthorized:undefined,checkServerIdentity:undefined,certificateAuthority:undefined,key:undefined,certificate:undefined,passphrase:undefined,pfx:undefined,ciphers:undefined,honorCipherOrder:undefined,minVersion:undefined,maxVersion:undefined,signatureAlgorithms:undefined,tlsSessionLifetime:undefined,dhparam:undefined,ecdhCurve:undefined,certificateRevocationLists:undefined},encoding:undefined,resolveBodyOnly:false,isStream:false,responseType:"text",url:undefined,pagination:{transform(e){if(e.request.options.responseType==="json"){return e.body}return JSON.parse(e.body)},paginate({response:e}){const t=e.headers.link;if(typeof t!=="string"||t.trim()===""){return false}const r=parseLinkHeader(t);const s=r.find((e=>e.parameters.rel==="next"||e.parameters.rel==='"next"'));if(s){return{url:new URL(s.reference,e.url)}}return false},filter:()=>true,shouldContinue:()=>true,countLimit:Number.POSITIVE_INFINITY,backoff:0,requestLimit:1e4,stackAllItems:false},setHost:true,maxHeaderSize:undefined,signal:undefined,enableUnixSockets:false};const cloneInternals=e=>{const{hooks:t,retry:r}=e;const s={...e,context:{...e.context},cacheOptions:{...e.cacheOptions},https:{...e.https},agent:{...e.agent},headers:{...e.headers},retry:{...r,errorCodes:[...r.errorCodes],methods:[...r.methods],statusCodes:[...r.statusCodes]},timeout:{...e.timeout},hooks:{init:[...t.init],beforeRequest:[...t.beforeRequest],beforeError:[...t.beforeError],beforeRedirect:[...t.beforeRedirect],beforeRetry:[...t.beforeRetry],afterResponse:[...t.afterResponse]},searchParams:e.searchParams?new URLSearchParams(e.searchParams):undefined,pagination:{...e.pagination}};if(s.url!==undefined){s.prefixUrl=""}return s};const cloneRaw=e=>{const{hooks:t,retry:r}=e;const s={...e};if(p.object(e.context)){s.context={...e.context}}if(p.object(e.cacheOptions)){s.cacheOptions={...e.cacheOptions}}if(p.object(e.https)){s.https={...e.https}}if(p.object(e.cacheOptions)){s.cacheOptions={...s.cacheOptions}}if(p.object(e.agent)){s.agent={...e.agent}}if(p.object(e.headers)){s.headers={...e.headers}}if(p.object(r)){s.retry={...r};if(p.array(r.errorCodes)){s.retry.errorCodes=[...r.errorCodes]}if(p.array(r.methods)){s.retry.methods=[...r.methods]}if(p.array(r.statusCodes)){s.retry.statusCodes=[...r.statusCodes]}}if(p.object(e.timeout)){s.timeout={...e.timeout}}if(p.object(t)){s.hooks={...t};if(p.array(t.init)){s.hooks.init=[...t.init]}if(p.array(t.beforeRequest)){s.hooks.beforeRequest=[...t.beforeRequest]}if(p.array(t.beforeError)){s.hooks.beforeError=[...t.beforeError]}if(p.array(t.beforeRedirect)){s.hooks.beforeRedirect=[...t.beforeRedirect]}if(p.array(t.beforeRetry)){s.hooks.beforeRetry=[...t.beforeRetry]}if(p.array(t.afterResponse)){s.hooks.afterResponse=[...t.afterResponse]}}if(p.object(e.pagination)){s.pagination={...e.pagination}}return s};const getHttp2TimeoutOption=e=>{const t=[e.timeout.socket,e.timeout.connect,e.timeout.lookup,e.timeout.request,e.timeout.secureConnect].filter((e=>typeof e==="number"));if(t.length>0){return Math.min(...t)}return undefined};const init=(e,t,r)=>{const s=e.hooks?.init;if(s){for(const e of s){e(t,r)}}};class Options{_unixOptions;_internals;_merging;_init;constructor(e,t,r){f.any([p.string,p.urlInstance,p.object,p.undefined],e);f.any([p.object,p.undefined],t);f.any([p.object,p.undefined],r);if(e instanceof Options||t instanceof Options){throw new TypeError("The defaults must be passed as the third argument")}this._internals=cloneInternals(r?._internals??r??ke);this._init=[...r?._init??[]];this._merging=false;this._unixOptions=undefined;try{if(p.plainObject(e)){try{this.merge(e);this.merge(t)}finally{this.url=e.url}}else{try{this.merge(t)}finally{if(t?.url!==undefined){if(e===undefined){this.url=t.url}else{throw new TypeError("The `url` option is mutually exclusive with the `input` argument")}}else if(e!==undefined){this.url=e}}}}catch(e){e.options=this;throw e}}merge(e){if(!e){return}if(e instanceof Options){for(const t of e._init){this.merge(t)}return}e=cloneRaw(e);init(this,e,this);init(e,e,this);this._merging=true;if("isStream"in e){this.isStream=e.isStream}try{let t=false;for(const r in e){if(r==="mutableDefaults"||r==="handlers"){continue}if(r==="url"){continue}if(!(r in this)){throw new Error(`Unexpected option: ${r}`)}const s=e[r];if(s===undefined){continue}this[r]=s;t=true}if(t){this._init.push(e)}}finally{this._merging=false}}get request(){return this._internals.request}set request(e){f.any([p.function_,p.undefined],e);this._internals.request=e}get agent(){return this._internals.agent}set agent(e){f.plainObject(e);for(const t in e){if(!(t in this._internals.agent)){throw new TypeError(`Unexpected agent option: ${t}`)}f.any([p.object,p.undefined],e[t])}if(this._merging){Object.assign(this._internals.agent,e)}else{this._internals.agent={...e}}}get h2session(){return this._internals.h2session}set h2session(e){this._internals.h2session=e}get decompress(){return this._internals.decompress}set decompress(e){f.boolean(e);this._internals.decompress=e}get timeout(){return this._internals.timeout}set timeout(e){f.plainObject(e);for(const t in e){if(!(t in this._internals.timeout)){throw new Error(`Unexpected timeout option: ${t}`)}f.any([p.number,p.undefined],e[t])}if(this._merging){Object.assign(this._internals.timeout,e)}else{this._internals.timeout={...e}}}get prefixUrl(){return this._internals.prefixUrl}set prefixUrl(e){f.any([p.string,p.urlInstance],e);if(e===""){this._internals.prefixUrl="";return}e=e.toString();if(!e.endsWith("/")){e+="/"}if(this._internals.prefixUrl&&this._internals.url){const{href:t}=this._internals.url;this._internals.url.href=e+t.slice(this._internals.prefixUrl.length)}this._internals.prefixUrl=e}get body(){return this._internals.body}set body(e){f.any([p.string,p.buffer,p.nodeStream,p.generator,p.asyncGenerator,lib_isFormData,p.undefined],e);if(p.nodeStream(e)){f.truthy(e.readable)}if(e!==undefined){f.undefined(this._internals.form);f.undefined(this._internals.json)}this._internals.body=e}get form(){return this._internals.form}set form(e){f.any([p.plainObject,p.undefined],e);if(e!==undefined){f.undefined(this._internals.body);f.undefined(this._internals.json)}this._internals.form=e}get json(){return this._internals.json}set json(e){if(e!==undefined){f.undefined(this._internals.body);f.undefined(this._internals.form)}this._internals.json=e}get url(){return this._internals.url}set url(e){f.any([p.string,p.urlInstance,p.undefined],e);if(e===undefined){this._internals.url=undefined;return}if(p.string(e)&&e.startsWith("/")){throw new Error("`url` must not start with a slash")}const t=`${this.prefixUrl}${e.toString()}`;const r=new URL(t);this._internals.url=r;if(r.protocol==="unix:"){r.href=`http://unix${r.pathname}${r.search}`}if(r.protocol!=="http:"&&r.protocol!=="https:"){const e=new Error(`Unsupported protocol: ${r.protocol}`);e.code="ERR_UNSUPPORTED_PROTOCOL";throw e}if(this._internals.username){r.username=this._internals.username;this._internals.username=""}if(this._internals.password){r.password=this._internals.password;this._internals.password=""}if(this._internals.searchParams){r.search=this._internals.searchParams.toString();this._internals.searchParams=undefined}if(r.hostname==="unix"){if(!this._internals.enableUnixSockets){throw new Error("Using UNIX domain sockets but option `enableUnixSockets` is not enabled")}const e=/(?<socketPath>.+?):(?<path>.+)/.exec(`${r.pathname}${r.search}`);if(e?.groups){const{socketPath:t,path:r}=e.groups;this._unixOptions={socketPath:t,path:r,host:""}}else{this._unixOptions=undefined}return}this._unixOptions=undefined}get cookieJar(){return this._internals.cookieJar}set cookieJar(e){f.any([p.object,p.undefined],e);if(e===undefined){this._internals.cookieJar=undefined;return}let{setCookie:t,getCookieString:r}=e;f.function_(t);f.function_(r);if(t.length===4&&r.length===0){t=(0,ae.promisify)(t.bind(e));r=(0,ae.promisify)(r.bind(e));this._internals.cookieJar={setCookie:t,getCookieString:r}}else{this._internals.cookieJar=e}}get signal(){return this._internals.signal}set signal(e){f.object(e);this._internals.signal=e}get ignoreInvalidCookies(){return this._internals.ignoreInvalidCookies}set ignoreInvalidCookies(e){f.boolean(e);this._internals.ignoreInvalidCookies=e}get searchParams(){if(this._internals.url){return this._internals.url.searchParams}if(this._internals.searchParams===undefined){this._internals.searchParams=new URLSearchParams}return this._internals.searchParams}set searchParams(e){f.any([p.string,p.object,p.undefined],e);const t=this._internals.url;if(e===undefined){this._internals.searchParams=undefined;if(t){t.search=""}return}const r=this.searchParams;let s;if(p.string(e)){s=new URLSearchParams(e)}else if(e instanceof URLSearchParams){s=e}else{validateSearchParameters(e);s=new URLSearchParams;for(const t in e){const n=e[t];if(n===null){s.append(t,"")}else if(n===undefined){r.delete(t)}else{s.append(t,n)}}}if(this._merging){for(const e of s.keys()){r.delete(e)}for(const[e,t]of s){r.append(e,t)}}else if(t){t.search=r.toString()}else{this._internals.searchParams=r}}get searchParameters(){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}set searchParameters(e){throw new Error("The `searchParameters` option does not exist. Use `searchParams` instead.")}get dnsLookup(){return this._internals.dnsLookup}set dnsLookup(e){f.any([p.function_,p.undefined],e);this._internals.dnsLookup=e}get dnsCache(){return this._internals.dnsCache}set dnsCache(e){f.any([p.object,p.boolean,p.undefined],e);if(e===true){this._internals.dnsCache=getGlobalDnsCache()}else if(e===false){this._internals.dnsCache=undefined}else{this._internals.dnsCache=e}}get context(){return this._internals.context}set context(e){f.object(e);if(this._merging){Object.assign(this._internals.context,e)}else{this._internals.context={...e}}}get hooks(){return this._internals.hooks}set hooks(e){f.object(e);for(const t in e){if(!(t in this._internals.hooks)){throw new Error(`Unexpected hook event: ${t}`)}const r=t;const s=e[r];f.any([p.array,p.undefined],s);if(s){for(const e of s){f.function_(e)}}if(this._merging){if(s){this._internals.hooks[r].push(...s)}}else{if(!s){throw new Error(`Missing hook event: ${t}`)}this._internals.hooks[t]=[...s]}}}get followRedirect(){return this._internals.followRedirect}set followRedirect(e){f.any([p.boolean,p.function_],e);this._internals.followRedirect=e}get followRedirects(){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}set followRedirects(e){throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.")}get maxRedirects(){return this._internals.maxRedirects}set maxRedirects(e){f.number(e);this._internals.maxRedirects=e}get cache(){return this._internals.cache}set cache(e){f.any([p.object,p.string,p.boolean,p.undefined],e);if(e===true){this._internals.cache=Te}else if(e===false){this._internals.cache=undefined}else{this._internals.cache=e}}get throwHttpErrors(){return this._internals.throwHttpErrors}set throwHttpErrors(e){f.boolean(e);this._internals.throwHttpErrors=e}get username(){const e=this._internals.url;const t=e?e.username:this._internals.username;return decodeURIComponent(t)}set username(e){f.string(e);const t=this._internals.url;const r=encodeURIComponent(e);if(t){t.username=r}else{this._internals.username=r}}get password(){const e=this._internals.url;const t=e?e.password:this._internals.password;return decodeURIComponent(t)}set password(e){f.string(e);const t=this._internals.url;const r=encodeURIComponent(e);if(t){t.password=r}else{this._internals.password=r}}get http2(){return this._internals.http2}set http2(e){f.boolean(e);this._internals.http2=e}get allowGetBody(){return this._internals.allowGetBody}set allowGetBody(e){f.boolean(e);this._internals.allowGetBody=e}get headers(){return this._internals.headers}set headers(e){f.plainObject(e);if(this._merging){Object.assign(this._internals.headers,lowercaseKeys(e))}else{this._internals.headers=lowercaseKeys(e)}}get methodRewriting(){return this._internals.methodRewriting}set methodRewriting(e){f.boolean(e);this._internals.methodRewriting=e}get dnsLookupIpVersion(){return this._internals.dnsLookupIpVersion}set dnsLookupIpVersion(e){if(e!==undefined&&e!==4&&e!==6){throw new TypeError(`Invalid DNS lookup IP version: ${e}`)}this._internals.dnsLookupIpVersion=e}get parseJson(){return this._internals.parseJson}set parseJson(e){f.function_(e);this._internals.parseJson=e}get stringifyJson(){return this._internals.stringifyJson}set stringifyJson(e){f.function_(e);this._internals.stringifyJson=e}get retry(){return this._internals.retry}set retry(e){f.plainObject(e);f.any([p.function_,p.undefined],e.calculateDelay);f.any([p.number,p.undefined],e.maxRetryAfter);f.any([p.number,p.undefined],e.limit);f.any([p.array,p.undefined],e.methods);f.any([p.array,p.undefined],e.statusCodes);f.any([p.array,p.undefined],e.errorCodes);f.any([p.number,p.undefined],e.noise);if(e.noise&&Math.abs(e.noise)>100){throw new Error(`The maximum acceptable retry noise is +/- 100ms, got ${e.noise}`)}for(const t in e){if(!(t in this._internals.retry)){throw new Error(`Unexpected retry option: ${t}`)}}if(this._merging){Object.assign(this._internals.retry,e)}else{this._internals.retry={...e}}const{retry:t}=this._internals;t.methods=[...new Set(t.methods.map((e=>e.toUpperCase())))];t.statusCodes=[...new Set(t.statusCodes)];t.errorCodes=[...new Set(t.errorCodes)]}get localAddress(){return this._internals.localAddress}set localAddress(e){f.any([p.string,p.undefined],e);this._internals.localAddress=e}get method(){return this._internals.method}set method(e){f.string(e);this._internals.method=e.toUpperCase()}get createConnection(){return this._internals.createConnection}set createConnection(e){f.any([p.function_,p.undefined],e);this._internals.createConnection=e}get cacheOptions(){return this._internals.cacheOptions}set cacheOptions(e){f.plainObject(e);f.any([p.boolean,p.undefined],e.shared);f.any([p.number,p.undefined],e.cacheHeuristic);f.any([p.number,p.undefined],e.immutableMinTimeToLive);f.any([p.boolean,p.undefined],e.ignoreCargoCult);for(const t in e){if(!(t in this._internals.cacheOptions)){throw new Error(`Cache option \`${t}\` does not exist`)}}if(this._merging){Object.assign(this._internals.cacheOptions,e)}else{this._internals.cacheOptions={...e}}}get https(){return this._internals.https}set https(e){f.plainObject(e);f.any([p.boolean,p.undefined],e.rejectUnauthorized);f.any([p.function_,p.undefined],e.checkServerIdentity);f.any([p.string,p.object,p.array,p.undefined],e.certificateAuthority);f.any([p.string,p.object,p.array,p.undefined],e.key);f.any([p.string,p.object,p.array,p.undefined],e.certificate);f.any([p.string,p.undefined],e.passphrase);f.any([p.string,p.buffer,p.array,p.undefined],e.pfx);f.any([p.array,p.undefined],e.alpnProtocols);f.any([p.string,p.undefined],e.ciphers);f.any([p.string,p.buffer,p.undefined],e.dhparam);f.any([p.string,p.undefined],e.signatureAlgorithms);f.any([p.string,p.undefined],e.minVersion);f.any([p.string,p.undefined],e.maxVersion);f.any([p.boolean,p.undefined],e.honorCipherOrder);f.any([p.number,p.undefined],e.tlsSessionLifetime);f.any([p.string,p.undefined],e.ecdhCurve);f.any([p.string,p.buffer,p.array,p.undefined],e.certificateRevocationLists);for(const t in e){if(!(t in this._internals.https)){throw new Error(`HTTPS option \`${t}\` does not exist`)}}if(this._merging){Object.assign(this._internals.https,e)}else{this._internals.https={...e}}}get encoding(){return this._internals.encoding}set encoding(e){if(e===null){throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead")}f.any([p.string,p.undefined],e);this._internals.encoding=e}get resolveBodyOnly(){return this._internals.resolveBodyOnly}set resolveBodyOnly(e){f.boolean(e);this._internals.resolveBodyOnly=e}get isStream(){return this._internals.isStream}set isStream(e){f.boolean(e);this._internals.isStream=e}get responseType(){return this._internals.responseType}set responseType(e){if(e===undefined){this._internals.responseType="text";return}if(e!=="text"&&e!=="buffer"&&e!=="json"){throw new Error(`Invalid \`responseType\` option: ${e}`)}this._internals.responseType=e}get pagination(){return this._internals.pagination}set pagination(e){f.object(e);if(this._merging){Object.assign(this._internals.pagination,e)}else{this._internals.pagination=e}}get auth(){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}set auth(e){throw new Error("Parameter `auth` is deprecated. Use `username` / `password` instead.")}get setHost(){return this._internals.setHost}set setHost(e){f.boolean(e);this._internals.setHost=e}get maxHeaderSize(){return this._internals.maxHeaderSize}set maxHeaderSize(e){f.any([p.number,p.undefined],e);this._internals.maxHeaderSize=e}get enableUnixSockets(){return this._internals.enableUnixSockets}set enableUnixSockets(e){f.boolean(e);this._internals.enableUnixSockets=e}toJSON(){return{...this._internals}}[Symbol.for("nodejs.util.inspect.custom")](e,t){return(0,ae.inspect)(this._internals,t)}createNativeRequestOptions(){const e=this._internals;const t=e.url;let r;if(t.protocol==="https:"){r=e.http2?e.agent:e.agent.https}else{r=e.agent.http}const{https:s}=e;let{pfx:n}=s;if(p.array(n)&&p.plainObject(n[0])){n=n.map((e=>({buf:e.buffer,passphrase:e.passphrase})))}return{...e.cacheOptions,...this._unixOptions,ALPNProtocols:s.alpnProtocols,ca:s.certificateAuthority,cert:s.certificate,key:s.key,passphrase:s.passphrase,pfx:s.pfx,rejectUnauthorized:s.rejectUnauthorized,checkServerIdentity:s.checkServerIdentity??fe.checkServerIdentity,ciphers:s.ciphers,honorCipherOrder:s.honorCipherOrder,minVersion:s.minVersion,maxVersion:s.maxVersion,sigalgs:s.signatureAlgorithms,sessionTimeout:s.tlsSessionLifetime,dhparam:s.dhparam,ecdhCurve:s.ecdhCurve,crl:s.certificateRevocationLists,lookup:e.dnsLookup??e.dnsCache?.lookup,family:e.dnsLookupIpVersion,agent:r,setHost:e.setHost,method:e.method,maxHeaderSize:e.maxHeaderSize,localAddress:e.localAddress,headers:e.headers,createConnection:e.createConnection,timeout:e.http2?getHttp2TimeoutOption(e):undefined,h2session:e.h2session}}getRequestFunction(){const e=this._internals.url;const{request:t}=this._internals;if(!t&&e){return this.getFallbackRequestFunction()}return t}getFallbackRequestFunction(){const e=this._internals.url;if(!e){return}if(e.protocol==="https:"){if(this._internals.http2){if(Ae<15||Ae===15&&Re<10){const e=new Error("To use the `http2` option, install Node.js 15.10.0 or above");e.code="EUNSUPPORTED";throw e}return Oe.auto}return he.request}return v.request}freeze(){const e=this._internals;Object.freeze(e);Object.freeze(e.hooks);Object.freeze(e.hooks.afterResponse);Object.freeze(e.hooks.beforeError);Object.freeze(e.hooks.beforeRedirect);Object.freeze(e.hooks.beforeRequest);Object.freeze(e.hooks.beforeRetry);Object.freeze(e.hooks.init);Object.freeze(e.https);Object.freeze(e.cacheOptions);Object.freeze(e.agent);Object.freeze(e.headers);Object.freeze(e.timeout);Object.freeze(e.retry);Object.freeze(e.retry.errorCodes);Object.freeze(e.retry.methods);Object.freeze(e.retry.statusCodes)}}const isResponseOk=e=>{const{statusCode:t}=e;const{followRedirect:r}=e.request.options;const s=typeof r==="function"?r(e):r;const n=s?299:399;return t>=200&&t<=n||t===304};class ParseError extends RequestError{constructor(e,t){const{options:r}=t.request;super(`${e.message} in "${r.url.toString()}"`,e,t.request);this.name="ParseError";this.code="ERR_BODY_PARSE_FAILURE"}}const parseBody=(e,t,r,s)=>{const{rawBody:n}=e;try{if(t==="text"){return n.toString(s)}if(t==="json"){return n.length===0?"":r(n.toString(s))}if(t==="buffer"){return n}}catch(t){throw new ParseError(t,e)}throw new ParseError({message:`Unknown body type '${t}'`,name:"Error"},e)};function isClientRequest(e){return e.writable&&!e.writableEnded}const Pe=isClientRequest;function isUnixSocketURL(e){return e.protocol==="unix:"||e.hostname==="unix"}const Ce=p.string(g.versions.brotli);const Ie=new Set(["GET","HEAD"]);const je=new WeakableMap;const Ne=new Set([300,301,302,303,304,307,308]);const Le=["socket","connect","continue","information","upgrade"];const core_noop=()=>{};class Request extends w.Duplex{["constructor"];_noPipe;options;response;requestUrl;redirectUrls;retryCount;_stopRetry;_downloadedSize;_uploadedSize;_stopReading;_pipedServerResponses;_request;_responseSize;_bodySize;_unproxyEvents;_isFromCache;_cannotHaveBody;_triggerRead;_cancelTimeouts;_removeListeners;_nativeResponse;_flushed;_aborted;_requestInitialized;constructor(e,t,r){super({autoDestroy:false,highWaterMark:0});this._downloadedSize=0;this._uploadedSize=0;this._stopReading=false;this._pipedServerResponses=new Set;this._cannotHaveBody=false;this._unproxyEvents=core_noop;this._triggerRead=false;this._cancelTimeouts=core_noop;this._removeListeners=core_noop;this._jobs=[];this._flushed=false;this._requestInitialized=false;this._aborted=false;this.redirectUrls=[];this.retryCount=0;this._stopRetry=core_noop;this.on("pipe",(e=>{if(e?.headers){Object.assign(this.options.headers,e.headers)}}));this.on("newListener",(e=>{if(e==="retry"&&this.listenerCount("retry")>0){throw new Error("A retry listener has been attached already.")}}));try{this.options=new Options(e,t,r);if(!this.options.url){if(this.options.prefixUrl===""){throw new TypeError("Missing `url` property")}this.options.url=""}this.requestUrl=this.options.url}catch(e){const{options:t}=e;if(t){this.options=t}this.flush=async()=>{this.flush=async()=>{};this.destroy(e)};return}const{body:s}=this.options;if(p.nodeStream(s)){s.once("error",(e=>{if(this._flushed){this._beforeError(new UploadError(e,this))}else{this.flush=async()=>{this.flush=async()=>{};this._beforeError(new UploadError(e,this))}}}))}if(this.options.signal){const abort=()=>{this.destroy(new AbortError(this))};if(this.options.signal.aborted){abort()}else{this.options.signal.addEventListener("abort",abort);this._removeListeners=()=>{this.options.signal?.removeEventListener("abort",abort)}}}}async flush(){if(this._flushed){return}this._flushed=true;try{await this._finalizeBody();if(this.destroyed){return}await this._makeRequest();if(this.destroyed){this._request?.destroy();return}for(const e of this._jobs){e()}this._jobs.length=0;this._requestInitialized=true}catch(e){this._beforeError(e)}}_beforeError(e){if(this._stopReading){return}const{response:t,options:r}=this;const s=this.retryCount+(e.name==="RetryError"?0:1);this._stopReading=true;if(!(e instanceof RequestError)){e=new RequestError(e.message,e,this)}const n=e;void(async()=>{if(t?.readable&&!t.rawBody&&!this._request?.socket?.destroyed){t.setEncoding(this.readableEncoding);const e=await this._setRawBody(t);if(e){t.body=t.rawBody.toString()}}if(this.listenerCount("retry")!==0){let i;try{let e;if(t&&"retry-after"in t.headers){e=Number(t.headers["retry-after"]);if(Number.isNaN(e)){e=Date.parse(t.headers["retry-after"])-Date.now();if(e<=0){e=1}}else{e*=1e3}}const o=r.retry;i=await o.calculateDelay({attemptCount:s,retryOptions:o,error:n,retryAfter:e,computedValue:le({attemptCount:s,retryOptions:o,error:n,retryAfter:e,computedValue:o.maxRetryAfter??r.timeout.request??Number.POSITIVE_INFINITY})})}catch(e){void this._error(new RequestError(e.message,e,this));return}if(i){await new Promise((e=>{const t=setTimeout(e,i);this._stopRetry=()=>{clearTimeout(t);e()}}));if(this.destroyed){return}try{for(const e of this.options.hooks.beforeRetry){await e(n,this.retryCount+1)}}catch(t){void this._error(new RequestError(t.message,e,this));return}if(this.destroyed){return}this.destroy();this.emit("retry",this.retryCount+1,e,(e=>{const t=new Request(r.url,e,r);t.retryCount=this.retryCount+1;g.nextTick((()=>{void t.flush()}));return t}));return}}void this._error(n)})()}_read(){this._triggerRead=true;const{response:e}=this;if(e&&!this._stopReading){if(e.readableLength){this._triggerRead=false}let t;while((t=e.read())!==null){this._downloadedSize+=t.length;const e=this.downloadProgress;if(e.percent<1){this.emit("downloadProgress",e)}this.push(t)}}}_write(e,t,r){const write=()=>{this._writeRequest(e,t,r)};if(this._requestInitialized){write()}else{this._jobs.push(write)}}_final(e){const endRequest=()=>{if(!this._request||this._request.destroyed){e();return}this._request.end((t=>{if(this._request._writableState?.errored){return}if(!t){this._bodySize=this._uploadedSize;this.emit("uploadProgress",this.uploadProgress);this._request.emit("upload-complete")}e(t)}))};if(this._requestInitialized){endRequest()}else{this._jobs.push(endRequest)}}_destroy(e,t){this._stopReading=true;this.flush=async()=>{};this._stopRetry();this._cancelTimeouts();this._removeListeners();if(this.options){const{body:e}=this.options;if(p.nodeStream(e)){e.destroy()}}if(this._request){this._request.destroy()}if(e!==null&&!p.undefined(e)&&!(e instanceof RequestError)){e=new RequestError(e.message,e,this)}t(e)}pipe(e,t){if(e instanceof v.ServerResponse){this._pipedServerResponses.add(e)}return super.pipe(e,t)}unpipe(e){if(e instanceof v.ServerResponse){this._pipedServerResponses.delete(e)}super.unpipe(e);return this}async _finalizeBody(){const{options:e}=this;const{headers:t}=e;const r=!p.undefined(e.form);const s=!p.undefined(e.json);const n=!p.undefined(e.body);const i=Ie.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);this._cannotHaveBody=i;if(r||s||n){if(i){throw new TypeError(`The \`${e.method}\` method cannot be used with a body`)}const s=!p.string(t["content-type"]);if(n){if(lib_isFormData(e.body)){const r=new oe(e.body);if(s){t["content-type"]=r.headers["Content-Type"]}if("Content-Length"in r.headers){t["content-length"]=r.headers["Content-Length"]}e.body=r.encode()}if(is_form_data_isFormData(e.body)&&s){t["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`}}else if(r){if(s){t["content-type"]="application/x-www-form-urlencoded"}const{form:r}=e;e.form=undefined;e.body=new URLSearchParams(r).toString()}else{if(s){t["content-type"]="application/json"}const{json:r}=e;e.json=undefined;e.body=e.stringifyJson(r)}const o=await getBodySize(e.body,e.headers);if(p.undefined(t["content-length"])&&p.undefined(t["transfer-encoding"])&&!i&&!p.undefined(o)){t["content-length"]=String(o)}}if(e.responseType==="json"&&!("accept"in e.headers)){e.headers.accept="application/json"}this._bodySize=Number(t["content-length"])||undefined}async _onResponseBase(e){if(this.isAborted){return}const{options:t}=this;const{url:r}=t;this._nativeResponse=e;if(t.decompress){e=M(e)}const s=e.statusCode;const n=e;n.statusMessage=n.statusMessage??v.STATUS_CODES[s];n.url=t.url.toString();n.requestUrl=this.requestUrl;n.redirectUrls=this.redirectUrls;n.request=this;n.isFromCache=this._nativeResponse.fromCache??false;n.ip=this.ip;n.retryCount=this.retryCount;n.ok=isResponseOk(n);this._isFromCache=n.isFromCache;this._responseSize=Number(e.headers["content-length"])||undefined;this.response=n;e.once("end",(()=>{this._responseSize=this._downloadedSize;this.emit("downloadProgress",this.downloadProgress)}));e.once("error",(t=>{this._aborted=true;e.destroy();this._beforeError(new ReadError(t,this))}));e.once("aborted",(()=>{this._aborted=true;this._beforeError(new ReadError({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}));this.emit("downloadProgress",this.downloadProgress);const i=e.headers["set-cookie"];if(p.object(t.cookieJar)&&i){let e=i.map((async e=>t.cookieJar.setCookie(e,r.toString())));if(t.ignoreInvalidCookies){e=e.map((async e=>{try{await e}catch{}}))}try{await Promise.all(e)}catch(e){this._beforeError(e);return}}if(this.isAborted){return}if(e.headers.location&&Ne.has(s)){const i=typeof t.followRedirect==="function"?t.followRedirect(n):t.followRedirect;if(i){e.resume();this._cancelTimeouts();this._unproxyEvents();if(this.redirectUrls.length>=t.maxRedirects){this._beforeError(new MaxRedirectsError(this));return}this._request=undefined;const i=new Options(undefined,undefined,this.options);const o=s===303&&i.method!=="GET"&&i.method!=="HEAD";const a=s!==307&&s!==308;const c=i.methodRewriting&&a;if(o||c){i.method="GET";i.body=undefined;i.json=undefined;i.form=undefined;delete i.headers["content-length"]}try{const t=b.Buffer.from(e.headers.location,"binary").toString();const s=new URL(t,r);if(!isUnixSocketURL(r)&&isUnixSocketURL(s)){this._beforeError(new RequestError("Cannot redirect to UNIX socket",{},this));return}if(s.hostname!==r.hostname||s.port!==r.port){if("host"in i.headers){delete i.headers.host}if("cookie"in i.headers){delete i.headers.cookie}if("authorization"in i.headers){delete i.headers.authorization}if(i.username||i.password){i.username="";i.password=""}}else{s.username=i.username;s.password=i.password}this.redirectUrls.push(s);i.prefixUrl="";i.url=s;for(const e of i.hooks.beforeRedirect){await e(i,n)}this.emit("redirect",i,n);this.options=i;await this._makeRequest()}catch(e){this._beforeError(e);return}return}}if(t.isStream&&t.throwHttpErrors&&!isResponseOk(n)){this._beforeError(new HTTPError(n));return}e.on("readable",(()=>{if(this._triggerRead){this._read()}}));this.on("resume",(()=>{e.resume()}));this.on("pause",(()=>{e.pause()}));e.once("end",(()=>{this.push(null)}));if(this._noPipe){const t=await this._setRawBody();if(t){this.emit("response",e)}return}this.emit("response",e);for(const r of this._pipedServerResponses){if(r.headersSent){continue}for(const s in e.headers){const n=t.decompress?s!=="content-encoding":true;const i=e.headers[s];if(n){r.setHeader(s,i)}}r.statusCode=s}}async _setRawBody(e=this){if(e.readableEnded){return false}try{const t=await getStreamAsBuffer(e);if(!this.isAborted){this.response.rawBody=t;return true}}catch{}return false}async _onResponse(e){try{await this._onResponseBase(e)}catch(e){this._beforeError(e)}}_onRequest(e){const{options:t}=this;const{timeout:r,url:s}=t;O(e);if(this.options.http2){e.setTimeout(0)}this._cancelTimeouts=timedOut(e,r,s);const n=t.cache?"cacheableResponse":"response";e.once(n,(e=>{void this._onResponse(e)}));e.once("error",(t=>{this._aborted=true;e.destroy();t=t instanceof timed_out_TimeoutError?new TimeoutError(t,this.timings,this):new RequestError(t.message,t,this);this._beforeError(t)}));this._unproxyEvents=proxyEvents(e,this,Le);this._request=e;this.emit("uploadProgress",this.uploadProgress);this._sendBody();this.emit("request",e)}async _asyncWrite(e){return new Promise(((t,r)=>{super.write(e,(e=>{if(e){r(e);return}t()}))}))}_sendBody(){const{body:e}=this.options;const t=this.redirectUrls.length===0?this:this._request??this;if(p.nodeStream(e)){e.pipe(t)}else if(p.generator(e)||p.asyncGenerator(e)){(async()=>{try{for await(const t of e){await this._asyncWrite(t)}super.end()}catch(e){this._beforeError(e)}})()}else if(!p.undefined(e)){this._writeRequest(e,undefined,(()=>{}));t.end()}else if(this._cannotHaveBody||this._noPipe){t.end()}}_prepareCache(e){if(!je.has(e)){const t=new L(((e,t)=>{const r=e._request(e,t);if(p.promise(r)){r.once=(e,t)=>{if(e==="error"){(async()=>{try{await r}catch(e){t(e)}})()}else if(e==="abort"){(async()=>{try{const e=await r;e.once("abort",t)}catch{}})()}else{throw new Error(`Unknown HTTP2 promise event: ${e}`)}return r}}return r}),e);je.set(e,t.request())}}async _createCacheableRequest(e,t){return new Promise(((r,s)=>{Object.assign(t,urlToOptions(e));let n;const i=je.get(t.cache)(t,(async e=>{e._readableState.autoDestroy=false;if(n){const fix=()=>{if(e.req){e.complete=e.req.res.complete}};e.prependOnceListener("end",fix);fix();(await n).emit("cacheableResponse",e)}r(e)}));i.once("error",s);i.once("request",(async e=>{n=e;r(n)}))}))}async _makeRequest(){const{options:e}=this;const{headers:t,username:r,password:s}=e;const n=e.cookieJar;for(const e in t){if(p.undefined(t[e])){delete t[e]}else if(p.null_(t[e])){throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${e}\` header`)}}if(e.decompress&&p.undefined(t["accept-encoding"])){t["accept-encoding"]=Ce?"gzip, deflate, br":"gzip, deflate"}if(r||s){const e=b.Buffer.from(`${r}:${s}`).toString("base64");t.authorization=`Basic ${e}`}if(n){const r=await n.getCookieString(e.url.toString());if(p.nonEmptyString(r)){t.cookie=r}}e.prefixUrl="";let i;for(const t of e.hooks.beforeRequest){const r=await t(e);if(!p.undefined(r)){i=()=>r;break}}if(!i){i=e.getRequestFunction()}const o=e.url;this._requestOptions=e.createNativeRequestOptions();if(e.cache){this._requestOptions._request=i;this._requestOptions.cache=e.cache;this._requestOptions.body=e.body;this._prepareCache(e.cache)}const a=e.cache?this._createCacheableRequest:i;try{let t=a(o,this._requestOptions);if(p.promise(t)){t=await t}if(p.undefined(t)){t=e.getFallbackRequestFunction()(o,this._requestOptions);if(p.promise(t)){t=await t}}if(Pe(t)){this._onRequest(t)}else if(this.writable){this.once("finish",(()=>{void this._onResponse(t)}));this._sendBody()}else{void this._onResponse(t)}}catch(e){if(e instanceof types_CacheError){throw new CacheError(e,this)}throw e}}async _error(e){try{if(e instanceof HTTPError&&!this.options.throwHttpErrors){}else{for(const t of this.options.hooks.beforeError){e=await t(e)}}}catch(t){e=new RequestError(t.message,t,this)}this.destroy(e)}_writeRequest(e,t,r){if(!this._request||this._request.destroyed){return}this._request.write(e,t,(s=>{if(!s&&!this._request.destroyed){this._uploadedSize+=b.Buffer.byteLength(e,t);const r=this.uploadProgress;if(r.percent<1){this.emit("uploadProgress",r)}}r(s)}))}get ip(){return this.socket?.remoteAddress}get isAborted(){return this._aborted}get socket(){return this._request?.socket??undefined}get downloadProgress(){let e;if(this._responseSize){e=this._downloadedSize/this._responseSize}else if(this._responseSize===this._downloadedSize){e=1}else{e=0}return{percent:e,transferred:this._downloadedSize,total:this._responseSize}}get uploadProgress(){let e;if(this._bodySize){e=this._uploadedSize/this._bodySize}else if(this._bodySize===this._uploadedSize){e=1}else{e=0}return{percent:e,transferred:this._uploadedSize,total:this._bodySize}}get timings(){return this._request?.timings}get isFromCache(){return this._isFromCache}get reusedSocket(){return this._request?.reusedSocket}}class types_CancelError extends RequestError{constructor(e){super("Promise was canceled",{},e);this.name="CancelError";this.code="ERR_CANCELED"}get isCanceled(){return true}}const $e=["request","response","redirect","uploadProgress","downloadProgress"];function asPromise(e){let t;let r;let s;const n=new m.EventEmitter;const i=new PCancelable(((o,a,c)=>{c((()=>{t.destroy()}));c.shouldReject=false;c((()=>{a(new types_CancelError(t))}));const makeRequest=u=>{c((()=>{}));const l=e??new Request(undefined,undefined,s);l.retryCount=u;l._noPipe=true;t=l;l.once("response",(async e=>{const t=(e.headers["content-encoding"]??"").toLowerCase();const s=t==="gzip"||t==="deflate"||t==="br";const{options:n}=l;if(s&&!n.decompress){e.body=e.rawBody}else{try{e.body=parseBody(e,n.responseType,n.parseJson,n.encoding)}catch(t){e.body=e.rawBody.toString();if(isResponseOk(e)){l._beforeError(t);return}}}try{const t=n.hooks.afterResponse;for(const[r,s]of t.entries()){e=await s(e,(async e=>{n.merge(e);n.prefixUrl="";if(e.url){n.url=e.url}n.hooks.afterResponse=n.hooks.afterResponse.slice(0,r);throw new RetryError(l)}));if(!(p.object(e)&&p.number(e.statusCode)&&!p.nullOrUndefined(e.body))){throw new TypeError("The `afterResponse` hook returned an invalid value")}}}catch(e){l._beforeError(e);return}r=e;if(!isResponseOk(e)){l._beforeError(new HTTPError(e));return}l.destroy();o(l.options.resolveBodyOnly?e.body:e)}));const onError=e=>{if(i.isCanceled){return}const{options:t}=l;if(e instanceof HTTPError&&!t.throwHttpErrors){const{response:t}=e;l.destroy();o(l.options.resolveBodyOnly?t.body:t);return}a(e)};l.once("error",onError);const f=l.options?.body;l.once("retry",((t,r)=>{e=undefined;const n=l.options.body;if(f===n&&p.nodeStream(n)){r.message="Cannot retry with consumed body stream";onError(r);return}s=l.options;makeRequest(t)}));proxyEvents(l,n,$e);if(p.undefined(e)){void l.flush()}};makeRequest(0)}));i.on=(e,t)=>{n.on(e,t);return i};i.off=(e,t)=>{n.off(e,t);return i};const shortcut=e=>{const t=(async()=>{await i;const{options:t}=r.request;return parseBody(r,e,t.parseJson,t.encoding)})();Object.defineProperties(t,Object.getOwnPropertyDescriptors(i));return t};i.json=()=>{if(t.options){const{headers:e}=t.options;if(!t.writableFinished&&!("accept"in e)){e.accept="application/json"}}return shortcut("json")};i.buffer=()=>shortcut("buffer");i.text=()=>shortcut("text");return i}const delay=async e=>new Promise((t=>{setTimeout(t,e)}));const isGotInstance=e=>p.function_(e);const Me=["get","post","put","patch","head","delete"];const create=e=>{e={options:new Options(undefined,undefined,e.options),handlers:[...e.handlers],mutableDefaults:e.mutableDefaults};Object.defineProperty(e,"mutableDefaults",{enumerable:true,configurable:false,writable:false});const got=(t,r,s=e.options)=>{const n=new Request(t,r,s);let i;const lastHandler=e=>{n.options=e;n._noPipe=!e.isStream;void n.flush();if(e.isStream){return n}if(!i){i=asPromise(n)}return i};let o=0;const iterateHandlers=t=>{const r=e.handlers[o++]??lastHandler;const s=r(t,iterateHandlers);if(p.promise(s)&&!n.options.isStream){if(!i){i=asPromise(n)}if(s!==i){const e=Object.getOwnPropertyDescriptors(i);for(const t in e){if(t in s){delete e[t]}}Object.defineProperties(s,e);s.cancel=i.cancel}}return s};return iterateHandlers(n.options)};got.extend=(...t)=>{const r=new Options(undefined,undefined,e.options);const s=[...e.handlers];let n;for(const e of t){if(isGotInstance(e)){r.merge(e.defaults.options);s.push(...e.defaults.handlers);n=e.defaults.mutableDefaults}else{r.merge(e);if(e.handlers){s.push(...e.handlers)}n=e.mutableDefaults}}return create({options:r,handlers:s,mutableDefaults:Boolean(n)})};const paginateEach=async function*(t,r){let s=new Options(t,r,e.options);s.resolveBodyOnly=false;const{pagination:n}=s;f.function_(n.transform);f.function_(n.shouldContinue);f.function_(n.filter);f.function_(n.paginate);f.number(n.countLimit);f.number(n.requestLimit);f.number(n.backoff);const i=[];let{countLimit:o}=n;let a=0;while(a<n.requestLimit){if(a!==0){await delay(n.backoff)}const e=await got(undefined,undefined,s);const t=await n.transform(e);const r=[];f.array(t);for(const e of t){if(n.filter({item:e,currentItems:r,allItems:i})){if(!n.shouldContinue({item:e,currentItems:r,allItems:i})){return}yield e;if(n.stackAllItems){i.push(e)}r.push(e);if(--o<=0){return}}}const c=n.paginate({response:e,currentItems:r,allItems:i});if(c===false){return}if(c===e.request.options){s=e.request.options}else{s.merge(c);f.any([p.urlInstance,p.undefined],c.url);if(c.url!==undefined){s.prefixUrl="";s.url=c.url}}a++}};got.paginate=paginateEach;got.paginate.all=async(e,t)=>{const r=[];for await(const s of paginateEach(e,t)){r.push(s)}return r};got.paginate.each=paginateEach;got.stream=(e,t)=>got(e,{...t,isStream:true});for(const e of Me){got[e]=(t,r)=>got(t,{...r,method:e});got.stream[e]=(t,r)=>got(t,{...r,method:e,isStream:true})}if(!e.mutableDefaults){Object.freeze(e.handlers);e.options.freeze()}Object.defineProperty(got,"defaults",{value:e,writable:false,configurable:false,enumerable:true});return got};const qe=create;const He={options:new Options,handlers:[],mutableDefaults:false};const Ue=qe(He);const De=null&&Ue;var Be=__nccwpck_require__(7486);function jwt(e,t="appstoreconnect-v1",r,s,n=[]){let i={};if(n.length>0){i={scope:n}}return Be.sign(i,s,{algorithm:"ES256",expiresIn:"2min",issuer:e,audience:t,keyid:r})}class API{host="https://api.appstoreconnect.apple.com";issuer;keyId;privateKey;constructor(e,t,r){this.issuer=e;this.keyId=t;this.privateKey=r}url(e){return`${this.host}${e}`}scope(e,t){const r=Object.entries(t).map((([e,t])=>`${e}=${t}`)).join("&");if(r.length>0){return`GET ${e}?${r}`}else{return`GET ${e}`}}async getApiRequest(e,t){return new Promise((async(r,s)=>{try{const s=jwt(this.issuer,undefined,this.keyId,this.privateKey,[this.scope(e,t)]);const n=await Ue(this.url(e),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},searchParams:t}).json();r(n)}catch(e){s(e)}}))}async postApiRequest(e,t){return new Promise((async(r,s)=>{try{const s=jwt(this.issuer,undefined,this.keyId,this.privateKey);const n=await Ue.post(this.url(e),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},json:t}).json();r(n)}catch(e){s(e)}}))}async deleteApiRequest(e){return new Promise((async(t,r)=>{try{const r=jwt(this.issuer,undefined,this.keyId,this.privateKey);const s=await Ue["delete"](this.url(e),{headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`}}).json();t(s)}catch(e){r(e)}}))}async fetchBetaGroups(e){return new Promise((async(t,r)=>{try{const r=await this.getApiRequest("/v1/betaGroups",{"filter[app]":e,include:"app,builds","limit[builds]":1});t(r)}catch(e){r(e)}}))}async deleteBetaGroup(e){return new Promise((async(t,r)=>{try{const r=await this.deleteApiRequest(`/v1/betaGroups/${e}`);t(r)}catch(e){r(e)}}))}async createBetaGroup(e,t,r){const s={name:e};if(r){s["isInternalGroup"]=r}return new Promise((async(e,r)=>{try{const r=await this.postApiRequest("/v1/betaGroups",{data:{attributes:s,relationships:{app:{data:{id:t,type:"apps"}}},type:"betaGroups"}});e(r)}catch(e){r(e)}}))}}const Fe=API;async function run(){try{const e=t.getInput("delete-name-regex");const r=t.getInput("delete-name-regex-option");const s=t.getInput("name",{required:true});const n=t.getBooleanInput("set-internal-group");const i=t.getInput("app-id",{required:true});const o=t.getInput("api-privatekey",{required:true});const a=t.getInput("api-issuerid",{required:true});const c=t.getInput("api-keyid",{required:true});const u=new Fe(a,c,o);let l={attributes:{isInternalGroup:n}};if(e){t.info(`Searching for beta group...`);const s=await u.fetchBetaGroups(i);const n=new RegExp(e,r);l=s.data.find((e=>n.test(e.attributes.name)));if(!l){throw new Error("Specified beta group name does not exist")}const o=l.attributes.name;t.info(`Deleting beta group with name "${o}"`);await u.deleteBetaGroup(l.id);t.setOutput("deleted-beta-group-name",o)}t.info(`Creating beta group with name "${s}"`);const f=await u.createBetaGroup(s,i,l.attributes?.isInternalGroup);t.setOutput("id",f.data.id);t.setOutput("name",f.data.attributes.name);t.setOutput("is-internal-group",f.data.attributes.isInternalGroup);t.setOutput("public-link",f.data.attributes.publicLink);t.setOutput("public-link-enabled",f.data.attributes.publicLinkEnabled);t.setOutput("public-link-limit",f.data.attributes.publicLinkLimit);t.setOutput("public-link-limit-enabled",f.data.attributes.publicLinkLimitEnabled);t.setOutput("feedback-enabled",f.data.attributes.feedbackEnabled)}catch(e){t.setFailed(e.message)}}run()})();